import{j as f,A as u,r as l,w as g,e as n,y as i,G as w}from"./routing-BmD2xUmi.js";import{I as D,a4 as h,at as x}from"./syncStore-BssUQgBy.js";import"./Link-Dg-h0Eyu.js";import"./components-BMGKah2q.js";import"./index-BnPmuIsI.js";import"./index-DPECAXpK.js";import"./index-Cb4tY8hP.js";var y=i("<h1 class=text-xl>Downloads"),j=i('<div class="flex flex-wrap justify-center">');function _(){const[c,d]=f([]);return D(),u(async()=>{const t=await navigator.storage.getDirectory();console.log(t,Object.keys(t));const e=JSON.parse(localStorage.getItem("downloaded")||"[]");for(const o of e){const a=await t.getDirectoryHandle(o,{create:!1});if(!a)continue;console.log(a);const r=await a.getFileHandle("streams.json",{create:!1});if(!r)continue;const p=await(await r.getFile()).text(),s=JSON.parse(p);console.log(s),d(m=>[...m,{...s,id:o}])}}),[l(y),(()=>{var t=l(j);return g(t,n(w,{get each(){return c()},children:e=>n(h,{get v(){return{...e,url:`/watch?v=${x(e)}`,type:"stream",thumbnail:e.thumbnailUrl,uploaderName:e.uploader,uploadedDate:e.uploadDate,shortDescription:"",uploaded:new Date(e.uploadDate).getTime(),isShort:!1}}})})),t})()]}export{_ as default};
//# sourceMappingURL=downloads-BqYkpS21.js.map
