function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/_...404_-63-jRIRH.js","assets/routing-BmD2xUmi.js","assets/Link-Dg-h0Eyu.js","assets/components-BMGKah2q.js","assets/debug-0BYsCdN7.js","assets/syncStore-BssUQgBy.js","assets/index-BnPmuIsI.js","assets/index-DPECAXpK.js","assets/index-Cb4tY8hP.js","assets/syncStore-CgD1nZSu.css","assets/feed-C6YxyXiI.js","assets/index-B3L84c1c.js","assets/Error-BKJrmN_l.js","assets/useIntersectionObserver-DOCe7fLW.js","assets/EmptyState-BuYdpmYU.js","assets/index-DyZHI5kj.js","assets/import-BFmf27NF.js","assets/index-wBMoMgLz.js","assets/playlist-nYaMn11r.js","assets/PlaylistItem-DDP9XZge.js","assets/results-CjgOVixw.js","assets/Field-BXIxlrTp.js","assets/PlaylistCard-BxVwlLgx.js","assets/Description-BLDREoDG.js","assets/trending-DGxLue4p.js","assets/watch-Cqk2eW-_.js","assets/_id_-DgxJ7Y-D.js","assets/(library)-F-OPW-9N.js","assets/blocklist-CBVuzthj.js","assets/downloads-BqYkpS21.js","assets/history-1CpmRNxz.js","assets/playlists-DrLWylsG.js","assets/subscriptions-BngjXra7.js","assets/watch-later-CDDlgohn.js","assets/(preferences)-J8eLhqCr.js","assets/ReloadPrompt-CpIWBecP.js","assets/ReloadPrompt-BxYeSCT1.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as b,u as Xt,m as Z,P as Je,a as Zt,b as en,c as tn,M as nn,d as rn,e as on,f as sn,g as an,h as ln,D as cn,i as Qe,j as je,k as ze,l as un,n as dn,o as pt,p as Fe,q as fn,B as pn,r as ae,s as hn,t as ot,v as gn,w as mn,x as bn,T as vn,y as _n,z as $n,A as xn,C as yn,E as wn,F as Sn,G as ht,H as En,I as gt,J as kn,K as mt,L as bt,N as Pn,O as Ve,Q as In,R as Tn,S as Cn,U as An,V as On,W as Rn,X as Ln}from"./syncStore-BssUQgBy.js";import{c as Dn,a as H,b as Mn,d as Nn,e as i,g as Fn,R as Vn,u as vt,S as U,o as _t,f as Bn,h as Hn,i as Un,j as I,k as W,l as $e,m as jn,n as zn,s as qn,p as Kn,q as Wn,r as k,t as me,v as j,w as m,x as q,y as P,z as Gn,A as G,B as xe,C as J,D as Ye,E as Xe,P as ye,F as $t,G as ue,H as Jn,I as Qn,J as xt,K as w,L as le,M as K,N as it,O as Yn,Q as Xn,T as ge,U as st,V as yt,W as Zn,X as er,Y as tr}from"./routing-BmD2xUmi.js";import{c as nr,L as qe,u as Ze,A as rr}from"./Link-Dg-h0Eyu.js";import{I as we}from"./index-DPECAXpK.js";import{c as wt,Q as or,a as ir,i as sr}from"./index-B3L84c1c.js";import{F as ar,a as lr,b as cr,c as ur}from"./index-BnPmuIsI.js";import{T as dr,a as fr,b as at,c as pr,B as hr,d as gr,e as mr}from"./index-Cb4tY8hP.js";import{F as Be}from"./Field-BXIxlrTp.js";import{M as br}from"./index-DyZHI5kj.js";import"./components-BMGKah2q.js";const He="Invariant Violation",{setPrototypeOf:vr=function(e,n){return e.__proto__=n,e}}=Object;class et extends Error{framesToPop=1;name=He;constructor(n=He){super(typeof n=="number"?`${He}: ${n} (see https://github.com/apollographql/invariant-packages)`:n),vr(this,et.prototype)}}function Ue(e,n){if(!e)throw new et(n)}const _r=/^[A-Za-z]:\//;function $r(e=""){return e&&e.replace(/\\/g,"/").replace(_r,n=>n.toUpperCase())}const xr=/^[/\\]{2}/,yr=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,wr=/^[A-Za-z]:$/,Sr=function(e){if(e.length===0)return".";e=$r(e);const n=e.match(xr),t=Ke(e),r=e[e.length-1]==="/";return e=Er(e,!t),e.length===0?t?"/":r?"./":".":(r&&(e+="/"),wr.test(e)&&(e+="/"),n?t?`//${e}`:`//./${e}`:t&&!Ke(e)?`/${e}`:e)},St=function(...e){if(e.length===0)return".";let n;for(const t of e)t&&t.length>0&&(n===void 0?n=t:n+=`/${t}`);return n===void 0?".":Sr(n.replace(/\/\/+/g,"/"))};function Er(e,n){let t="",r=0,o=-1,a=0,u=null;for(let l=0;l<=e.length;++l){if(l<e.length)u=e[l];else{if(u==="/")break;u="/"}if(u==="/"){if(!(o===l-1||a===1))if(a===2){if(t.length<2||r!==2||t[t.length-1]!=="."||t[t.length-2]!=="."){if(t.length>2){const d=t.lastIndexOf("/");d===-1?(t="",r=0):(t=t.slice(0,d),r=t.length-1-t.lastIndexOf("/")),o=l,a=0;continue}else if(t.length>0){t="",r=0,o=l,a=0;continue}}n&&(t+=t.length>0?"/..":"..",r=2)}else t.length>0?t+=`/${e.slice(o+1,l)}`:t=e.slice(o+1,l),r=l-o-1;o=l,a=0}else u==="."&&a!==-1?++a:a=-1}return t}const Ke=function(e){return yr.test(e)};function kr(e){return`virtual:${e}`}function Pr(e){return e.handler?.endsWith(".html")?Ke(e.handler)?e.handler:St(e.root,e.handler):`#vinxi/handler/${e.name}`}const Ir=new Proxy({},{get(e,n){return Ue(typeof n=="string","Bundler name should be a string"),{name:n,type:"client",handler:kr(Pr({name:n})),baseURL:"/_build",chunks:new Proxy({},{get(t,r){Ue(typeof r=="string","Chunk expected");let o=St("/_build",r+".mjs");return{import(){return b(()=>import(o),[])},output:{path:o}}}}),inputs:new Proxy({},{get(t,r){Ue(typeof r=="string","Input must be string");let o=window.manifest[r].output;return{async import(){return b(()=>import(o),[])},async assets(){return window.manifest[r].assets},output:{path:o}}}})}}});globalThis.MANIFEST=Ir;const Tr=e=>n=>{const{base:t}=n,r=Dn(()=>n.children),o=H(()=>Mn(r(),n.base||""));let a;const u=Nn(e,o,()=>a,{base:t,singleFlight:n.singleFlight});return e.create&&e.create(u),i(Vn.Provider,{value:u,get children(){return i(Cr,{routerState:u,get root(){return n.root},get load(){return n.rootLoad},get children(){return[H(()=>(a=Fn())&&null),i(Ar,{routerState:u,get branches(){return o()}})]}})}})};function Cr(e){const n=e.routerState.location,t=e.routerState.params,r=H(()=>e.load&&vt(()=>e.load({params:t,location:n,intent:"preload"})));return i(U,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:o=>i(o,{params:t,location:n,get data(){return r()},get children(){return e.children}})})}function Ar(e){const n=[];let t;const r=H(_t(e.routerState.matches,(o,a,u)=>{let l=a&&o.length===a.length;const d=[];for(let s=0,$=o.length;s<$;s++){const _=a&&a[s],p=o[s];u&&_&&p.route.key===_.route.key?d[s]=u[s]:(l=!1,n[s]&&n[s](),Bn(v=>{n[s]=v,d[s]=Hn(e.routerState,d[s-1]||e.routerState.base,lt(()=>r()[s+1]),()=>e.routerState.matches()[s])}))}return n.splice(o.length).forEach(s=>s()),u&&l?u:(t=d[0],d)}));return lt(()=>r()&&t)()}const lt=e=>()=>i(U,{get when(){return e()},keyed:!0,children:n=>i(Un.Provider,{value:n,get children(){return n.outlet()}})});function Or([e,n],t,r){return[t?()=>t(e()):e,r?o=>n(r(o)):n]}function Rr(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function Lr(e){let n=!1;const t=o=>typeof o=="string"?{value:o}:o,r=Or(I(t(e.get()),{equals:(o,a)=>o.value===a.value}),void 0,o=>(!n&&e.set(o),o));return e.init&&W(e.init((o=e.get())=>{n=!0,r[1](t(o)),n=!1})),Tr({signal:r,create:e.create,utils:e.utils})}function Dr(e,n,t){return e.addEventListener(n,t),()=>e.removeEventListener(n,t)}function Mr(e,n){const t=Rr(`#${e}`);t?t.scrollIntoView():n&&window.scrollTo(0,0)}const Nr=new Map;function Fr(e=!0,n=!1,t="/_server"){return r=>{const o=r.base.path(),a=r.navigatorFactory(r.base);let u={};function l(f){return f.namespaceURI==="http://www.w3.org/2000/svg"}function d(f){if(f.defaultPrevented||f.button!==0||f.metaKey||f.altKey||f.ctrlKey||f.shiftKey)return;const g=f.composedPath().find(F=>F instanceof Node&&F.nodeName.toUpperCase()==="A");if(!g||n&&!g.hasAttribute("link"))return;const x=l(g),y=x?g.href.baseVal:g.href;if((x?g.target.baseVal:g.target)||!y&&!g.hasAttribute("state"))return;const T=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||T&&T.includes("external"))return;const L=x?new URL(y,document.baseURI):new URL(y);if(!(L.origin!==window.location.origin||o&&L.pathname&&!L.pathname.toLowerCase().startsWith(o.toLowerCase())))return[g,L]}function s(f){const g=d(f);if(!g)return;const[x,y]=g,N=r.parsePath(y.pathname+y.search+y.hash),T=x.getAttribute("state");f.preventDefault(),a(N,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:T&&JSON.parse(T)})}function $(f){const g=d(f);if(!g)return;const[x,y]=g;u[y.pathname]||r.preloadRoute(y,x.getAttribute("preload")!=="false")}function _(f){const g=d(f);if(!g)return;const[x,y]=g;u[y.pathname]||(u[y.pathname]=setTimeout(()=>{r.preloadRoute(y,x.getAttribute("preload")!=="false"),delete u[y.pathname]},200))}function p(f){const g=d(f);if(!g)return;const[,x]=g;u[x.pathname]&&(clearTimeout(u[x.pathname]),delete u[x.pathname])}function v(f){let g=f.submitter&&f.submitter.hasAttribute("formaction")?f.submitter.getAttribute("formaction"):f.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const y=new URL(g,jn);if(g=r.parsePath(y.pathname+y.search),!g.startsWith(t))return}if(f.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=Nr.get(g);if(x){f.preventDefault();const y=new FormData(f.target);f.submitter&&f.submitter.name&&y.append(f.submitter.name,f.submitter.value),x.call({r,f:f.target},y)}}$e(["click","submit"]),document.addEventListener("click",s),e&&(document.addEventListener("mouseover",_),document.addEventListener("mouseout",p),document.addEventListener("focusin",$),document.addEventListener("touchstart",$)),document.addEventListener("submit",v),W(()=>{document.removeEventListener("click",s),e&&(document.removeEventListener("mouseover",_),document.removeEventListener("mouseout",p),document.removeEventListener("focusin",$),document.removeEventListener("touchstart",$)),document.removeEventListener("submit",v)})}}function Vr(e){const n=()=>({value:window.location.pathname+window.location.search+window.location.hash,state:window.history.state}),t=Kn();return Lr({get:n,set({value:r,replace:o,scroll:a,state:u}){o?window.history.replaceState(zn(u),"",r):window.history.pushState(u,"",r),Mr(window.location.hash.slice(1),a),qn()},init:r=>Dr(window,"popstate",Wn(r,o=>{if(o&&o<0)return!t.confirm(o);{const a=n();return!t.confirm(a.value,{state:a.state})}})),create:Fr(e.preload,e.explicitLinks,e.actionBase),utils:{go:r=>window.history.go(r),beforeLeave:t}})(e)}function Br(e){e.forEach(n=>{if(!n.attrs.href)return;let t=document.head.querySelector(`link[href="${n.attrs.href}"]`);t||(t=document.createElement("link"),t.setAttribute("rel","preload"),t.setAttribute("as","style"),t.setAttribute("href",n.attrs.href),document.head.appendChild(t))})}var Hr=P("<style>"),Ur=P("<link>"),jr=P("<script> ");const zr={style:e=>(()=>{var n=k(Hr);return me(n,j(()=>e.attrs),!1,!0),m(n,()=>e.children),q(),n})(),link:e=>(()=>{var n=k(Ur);return me(n,j(()=>e.attrs),!1,!1),q(),n})(),script:e=>e.attrs.src?(()=>{var n=k(jr);return me(n,j(()=>e.attrs,{get id(){return e.key}}),!1,!0),q(),n})():null};function qr(e){let{tag:n,attrs:{key:t,...r}={key:void 0},children:o}=e;return zr[n]({attrs:r,key:t,children:o})}function Kr(e,n,t,r="default"){return Gn(async()=>{{const a=(await e.import())[r],l=(await n.inputs?.[e.src].assets()).filter(s=>s.tag==="style"||s.attrs.rel==="stylesheet");return typeof window<"u"&&Br(l),{default:s=>[...l.map($=>qr($)),i(a,s)]}}})}const ce={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function Wr(e={}){const n={options:e,rootNode:Et(),staticRoutesMap:{}},t=r=>e.strictTrailingSlash?r:r.replace(/\/$/,"")||"/";if(e.routes)for(const r in e.routes)ct(n,t(r),e.routes[r]);return{ctx:n,lookup:r=>Gr(n,t(r)),insert:(r,o)=>ct(n,t(r),o),remove:r=>Jr(n,t(r))}}function Gr(e,n){const t=e.staticRoutesMap[n];if(t)return t.data;const r=n.split("/"),o={};let a=!1,u=null,l=e.rootNode,d=null;for(let s=0;s<r.length;s++){const $=r[s];l.wildcardChildNode!==null&&(u=l.wildcardChildNode,d=r.slice(s).join("/"));const _=l.children.get($);if(_===void 0){if(l&&l.placeholderChildren.length>1){const p=r.length-s;l=l.placeholderChildren.find(v=>v.maxDepth===p)||null}else l=l.placeholderChildren[0]||null;if(!l)break;l.paramName&&(o[l.paramName]=$),a=!0}else l=_}return(l===null||l.data===null)&&u!==null&&(l=u,o[l.paramName||"_"]=d,a=!0),l?a?{...l.data,params:a?o:void 0}:l.data:null}function ct(e,n,t){let r=!0;const o=n.split("/");let a=e.rootNode,u=0;const l=[a];for(const d of o){let s;if(s=a.children.get(d))a=s;else{const $=Qr(d);s=Et({type:$,parent:a}),a.children.set(d,s),$===ce.PLACEHOLDER?(s.paramName=d==="*"?`_${u++}`:d.slice(1),a.placeholderChildren.push(s),r=!1):$===ce.WILDCARD&&(a.wildcardChildNode=s,s.paramName=d.slice(3)||"_",r=!1),l.push(s),a=s}}for(const[d,s]of l.entries())s.maxDepth=Math.max(l.length-d,s.maxDepth||0);return a.data=t,r===!0&&(e.staticRoutesMap[n]=a),a}function Jr(e,n){let t=!1;const r=n.split("/");let o=e.rootNode;for(const a of r)if(o=o.children.get(a),!o)return t;if(o.data){const a=r.at(-1)||"";o.data=null,Object.keys(o.children).length===0&&o.parent&&(o.parent.children.delete(a),o.parent.wildcardChildNode=null,o.parent.placeholderChildren=[]),t=!0}return t}function Et(e={}){return{type:e.type||ce.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function Qr(e){return e.startsWith("**")?ce.WILDCARD:e[0]===":"||e==="*"?ce.PLACEHOLDER:ce.NORMAL}const kt=[{$component:{src:"src/routes/[...404].tsx?pick=default&pick=$css",build:()=>b(()=>import("./_...404_-63-jRIRH.js"),__vite__mapDeps([0,1,2,3])),import:()=>{const e="src/routes/[...404].tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/*404",filePath:"/home/ai6/dev/conduit/src/routes/[...404].tsx"},{$component:{src:"src/routes/debug.tsx?pick=default&pick=$css",build:()=>b(()=>import("./debug-0BYsCdN7.js"),__vite__mapDeps([4,1,5,2,3,6,7,8,9])),import:()=>{const e="src/routes/debug.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/debug",filePath:"/home/ai6/dev/conduit/src/routes/debug.tsx"},{$component:{src:"src/routes/feed.tsx?pick=default&pick=$css",build:()=>b(()=>import("./feed-C6YxyXiI.js"),__vite__mapDeps([10,1,5,2,3,6,7,8,9,11,12,13,14,15])),import:()=>{const e="src/routes/feed.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/feed",filePath:"/home/ai6/dev/conduit/src/routes/feed.tsx"},{$component:{src:"src/routes/import.tsx?pick=default&pick=$css",build:()=>b(()=>import("./import-BFmf27NF.js"),__vite__mapDeps([16,1,5,2,3,6,7,8,9])),import:()=>{const e="src/routes/import.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/import",filePath:"/home/ai6/dev/conduit/src/routes/import.tsx"},{$component:{src:"src/routes/index.tsx?pick=default&pick=$css",build:()=>b(()=>import("./index-wBMoMgLz.js"),__vite__mapDeps([17,1,3])),import:()=>{const e="src/routes/index.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/",filePath:"/home/ai6/dev/conduit/src/routes/index.tsx"},{$component:{src:"src/routes/playlist.tsx?pick=default&pick=$css",build:()=>b(()=>import("./playlist-nYaMn11r.js"),__vite__mapDeps([18,1,5,2,3,6,7,8,9,11,19,15])),import:()=>{const e="src/routes/playlist.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/playlist",filePath:"/home/ai6/dev/conduit/src/routes/playlist.tsx"},{$component:{src:"src/routes/results.tsx?pick=default&pick=$css",build:()=>b(()=>import("./results-CjgOVixw.js"),__vite__mapDeps([20,1,5,2,3,6,7,8,9,21,11,13,14,22,23])),import:()=>{const e="src/routes/results.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/results",filePath:"/home/ai6/dev/conduit/src/routes/results.tsx"},{$component:{src:"src/routes/trending.tsx?pick=default&pick=$css",build:()=>b(()=>import("./trending-DGxLue4p.js"),__vite__mapDeps([24,1,11,2,3,6,7,12,5,8,9,15])),import:()=>{const e="src/routes/trending.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/trending",filePath:"/home/ai6/dev/conduit/src/routes/trending.tsx"},{$component:{src:"src/routes/watch.tsx?pick=default&pick=$css",build:()=>b(()=>import("./watch-Cqk2eW-_.js"),__vite__mapDeps([25,1,23,5,2,3,6,7,8,9,11,22,13,19])),import:()=>{const e="src/routes/watch.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/watch",filePath:"/home/ai6/dev/conduit/src/routes/watch.tsx"},{$component:{src:"src/routes/channel/[id].tsx?pick=default&pick=$css",build:()=>b(()=>import("./_id_-DgxJ7Y-D.js"),__vite__mapDeps([26,1,5,2,3,6,7,8,9,23,11,13,14,22])),import:()=>{const e="src/routes/channel/[id].tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/channel/:id",filePath:"/home/ai6/dev/conduit/src/routes/channel/[id].tsx"},{$component:{src:"src/routes/library/(library).tsx?pick=default&pick=$css",build:()=>b(()=>import("./(library)-F-OPW-9N.js"),__vite__mapDeps([27,1,6,7,2,3])),import:()=>{const e="src/routes/library/(library).tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/(library)",filePath:"/home/ai6/dev/conduit/src/routes/library/(library).tsx"},{$component:{src:"src/routes/library/blocklist.tsx?pick=default&pick=$css",build:()=>b(()=>import("./blocklist-CBVuzthj.js"),__vite__mapDeps([28,1,5,2,3,6,7,8,9])),import:()=>{const e="src/routes/library/blocklist.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/blocklist",filePath:"/home/ai6/dev/conduit/src/routes/library/blocklist.tsx"},{$component:{src:"src/routes/library/downloads.tsx?pick=default&pick=$css",build:()=>b(()=>import("./downloads-BqYkpS21.js"),__vite__mapDeps([29,1,5,2,3,6,7,8,9])),import:()=>{const e="src/routes/library/downloads.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/downloads",filePath:"/home/ai6/dev/conduit/src/routes/library/downloads.tsx"},{$component:{src:"src/routes/library/history.tsx?pick=default&pick=$css",build:()=>b(()=>import("./history-1CpmRNxz.js"),__vite__mapDeps([30,1,5,2,3,6,7,8,9,13,21,15])),import:()=>{const e="src/routes/library/history.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/history",filePath:"/home/ai6/dev/conduit/src/routes/library/history.tsx"},{$component:{src:"src/routes/library/playlists.tsx?pick=default&pick=$css",build:()=>b(()=>import("./playlists-DrLWylsG.js"),__vite__mapDeps([31,1,5,2,3,6,7,8,9,14,22])),import:()=>{const e="src/routes/library/playlists.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/playlists",filePath:"/home/ai6/dev/conduit/src/routes/library/playlists.tsx"},{$component:{src:"src/routes/library/subscriptions.tsx?pick=default&pick=$css",build:()=>b(()=>import("./subscriptions-BngjXra7.js"),__vite__mapDeps([32,1,5,2,3,6,7,8,9])),import:()=>{const e="src/routes/library/subscriptions.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/subscriptions",filePath:"/home/ai6/dev/conduit/src/routes/library/subscriptions.tsx"},{$component:{src:"src/routes/library/watch-later.tsx?pick=default&pick=$css",build:()=>b(()=>import("./watch-later-CDDlgohn.js"),__vite__mapDeps([33,1,5,2,3,6,7,8,9,14,19,15])),import:()=>{const e="src/routes/library/watch-later.tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/library/watch-later",filePath:"/home/ai6/dev/conduit/src/routes/library/watch-later.tsx"},{$component:{src:"src/routes/preferences/(preferences).tsx?pick=default&pick=$css",build:()=>b(()=>import("./(preferences)-J8eLhqCr.js"),__vite__mapDeps([34,1,8,7])),import:()=>{const e="src/routes/preferences/(preferences).tsx?pick=default&pick=$css";return b(()=>import(globalThis.MANIFEST.client.inputs[e].output.path),[])}},path:"/preferences/(preferences)",filePath:"/home/ai6/dev/conduit/src/routes/preferences/(preferences).tsx"}],Yr=Xr(kt.filter(e=>e.$component));function Xr(e){function n(t,r,o,a){const u=Object.values(t).find(l=>o.startsWith(l.id+"/"));return u?(n(u.children||(u.children=[]),r,o.slice(u.id.length)),t):(t.push({...r,id:o,path:o.replace(/\/\([^)/]+\)/g,"").replace(/\([^)/]+\)/g,"")}),t)}return e.sort((t,r)=>t.path.length-r.path.length).reduce((t,r)=>n(t,r,r.path,r.path),[])}function Zr(e){return e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}Wr({routes:kt.reduce((e,n)=>{if(!Zr(n))return e;let t=n.path.replace(/\([^)/]+\)/g,"").replace(/\*([^/]*)/g,(r,o)=>`**:${o}`);if(/:[^/]*\?/g.test(t))throw new Error(`Optional parameters are not supported in API routes: ${t}`);if(e[t])throw new Error(`Duplicate API routes for "${t}" found at "${e[t].route.path}" and "${n.path}"`);return e[t]={route:n},e},{})});function eo(){function e(t){return{...t,...t.$$route?t.$$route.require().route:void 0,info:{...t.$$route?t.$$route.require().route.info:{},filesystem:!0},component:Kr(t.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:t.children?t.children.map(e):void 0}}return Yr.map(e)}let ut;const to=()=>ut||(ut=eo()),no=xe({}),ro=e=>{const[n,t]=nr({}),[r,o]=I();G(()=>{r()||o(document.querySelector("media-player"))});let a;return G(()=>{r()&&(a=r().subscribe(({paused:u})=>{console.log("playerStateStore.tsx:39",u),t({paused:u})}))}),W(()=>{a?.()}),i(no.Provider,{value:n,get children(){return e.children}})};function oo(e){const n=Xt();return e=Z({children:"▼"},e),i(Je,j({as:"span","aria-hidden":"true"},()=>n.dataset(),e))}function io(e){const n=Zt();e=Z({id:n.generateId("indicator")},e);const[t,r]=J(e,["forceMount"]);return i(U,{get when(){return t.forceMount||n.isChecked()},get children(){return i(Je,j({as:"div"},()=>n.dataset(),r))}})}const Pt=xe();function so(){const e=Ye(Pt);if(e===void 0)throw new Error("[kobalte]: `useMenuRadioGroupContext` must be used within a `Menu.RadioGroup` component");return e}function ao(e){const t=en().generateId(`radiogroup-${Xe()}`);e=Z({id:t},e);const[r,o]=J(e,["value","defaultValue","onChange","disabled"]),[a,u]=tn({value:()=>r.value,defaultValue:()=>r.defaultValue,onChange:d=>r.onChange?.(d)}),l={isDisabled:()=>r.disabled,isSelectedValue:d=>d===a(),setSelectedValue:u};return i(Pt.Provider,{value:l,get children(){return i(nn,o)}})}function lo(e){const n=so();e=Z({closeOnSelect:!1},e);const[t,r]=J(e,["value","onSelect"]);return i(rn,j({role:"menuitemradio",get checked(){return n.isSelectedValue(t.value)},onSelect:()=>{t.onSelect?.(),n.setSelectedValue(t.value)}},r))}const It=xe();function Se(){const e=Ye(It);if(e===void 0)throw new Error("[kobalte]: `usePopoverContext` must be used within a `Popover` component");return e}function co(e){let n;const t=Se();e=Z({id:t.generateId("content")},e);const[r,o]=J(e,["ref","style","onOpenAutoFocus","onCloseAutoFocus","onPointerDownOutside","onFocusOutside","onInteractOutside"]);let a=!1,u=!1,l=!1;const d=p=>{r.onCloseAutoFocus?.(p),t.isModal()?(p.preventDefault(),a||je(t.triggerRef())):(p.defaultPrevented||(u||je(t.triggerRef()),p.preventDefault()),u=!1,l=!1)},s=p=>{r.onPointerDownOutside?.(p),t.isModal()&&(a=p.detail.isContextMenu)},$=p=>{r.onFocusOutside?.(p),t.isOpen()&&t.isModal()&&p.preventDefault()},_=p=>{r.onInteractOutside?.(p),!t.isModal()&&(p.defaultPrevented||(u=!0,p.detail.originalEvent.type==="pointerdown"&&(l=!0)),ze(t.triggerRef(),p.target)&&p.preventDefault(),p.detail.originalEvent.type==="focusin"&&l&&p.preventDefault())};return on({isDisabled:()=>!(t.isOpen()&&t.isModal()),targets:()=>n?[n]:[]}),sn({ownerRef:()=>n,isDisabled:()=>!(t.isOpen()&&(t.isModal()||t.preventScroll()))}),an({trapFocus:()=>t.isOpen()&&t.isModal(),onMountAutoFocus:r.onOpenAutoFocus,onUnmountAutoFocus:d},()=>n),G(()=>W(t.registerContentId(o.id))),i(U,{get when(){return t.contentPresence.isPresent()},get children(){return i(ln,{get children(){return i(cn,j({ref(p){var v=Qe(f=>{t.setContentRef(f),t.contentPresence.setRef(f),n=f},r.ref);typeof v=="function"&&v(p)},role:"dialog",tabIndex:-1,get disableOutsidePointerEvents(){return H(()=>!!t.isOpen())()&&t.isModal()},get excludedElements(){return[t.triggerRef]},get style(){return{"--kb-popover-content-transform-origin":"var(--kb-popper-content-transform-origin)",position:"relative",...r.style}},get"aria-labelledby"(){return t.titleId()},get"aria-describedby"(){return t.descriptionId()},onPointerDownOutside:s,onFocusOutside:$,onInteractOutside:_,get onDismiss(){return t.close}},()=>t.dataset(),o))}})}})}function uo(e){const n=Se();e=Z({id:n.generateId("description")},e);const[t,r]=J(e,["id"]);return G(()=>W(n.registerDescriptionId(t.id))),i(Je,j({as:"p",get id(){return t.id}},()=>n.dataset(),r))}function fo(e){const n=Se();return i(U,{get when(){return n.contentPresence.isPresent()},get children(){return i(ye,e)}})}function po(e){const n=`popover-${Xe()}`;e=Z({id:n,modal:!1,preventScroll:!1},e);const[t,r]=J(e,["id","open","defaultOpen","onOpenChange","modal","preventScroll","forceMount","anchorRef"]),[o,a]=I(),[u,l]=I(),[d,s]=I(),[$,_]=I(),[p,v]=I(),[f,g]=I(),x=un({open:()=>t.open,defaultOpen:()=>t.defaultOpen,onOpenChange:F=>t.onOpenChange?.(F)}),y=()=>t.anchorRef?.()??o()??u(),N=dn(()=>t.forceMount||x.isOpen()),L={dataset:H(()=>({"data-expanded":x.isOpen()?"":void 0,"data-closed":x.isOpen()?void 0:""})),isOpen:x.isOpen,isModal:()=>t.modal??!1,preventScroll:()=>t.preventScroll??!1,contentPresence:N,triggerRef:u,contentId:$,titleId:p,descriptionId:f,setDefaultAnchorRef:a,setTriggerRef:l,setContentRef:s,close:x.close,toggle:x.toggle,generateId:pt(()=>t.id),registerContentId:Fe(_),registerTitleId:Fe(v),registerDescriptionId:Fe(g)};return i(It.Provider,{value:L,get children(){return i(fn,j({anchorRef:y,contentRef:d},r))}})}function ho(e){const n=Se(),[t,r]=J(e,["ref","onClick","onPointerDown"]);return i(pn,j({ref(u){var l=Qe(n.setTriggerRef,t.ref);typeof l=="function"&&l(u)},"aria-haspopup":"dialog",get"aria-expanded"(){return n.isOpen()},get"aria-controls"(){return H(()=>!!n.isOpen())()?n.contentId():void 0},onPointerDown:u=>{ae(u,t.onPointerDown),u.preventDefault()},onClick:u=>{ae(u,t.onClick),n.toggle()}},()=>n.dataset(),r))}var go=P("<ol tabindex=-1>");function mo(e){let n;const t=hn(),[r,o]=J(e,["ref","onFocusIn","onFocusOut","onPointerMove","onPointerLeave"]),a=s=>{ae(s,r.onFocusIn),t.pauseOnInteraction()&&!t.isPaused()&&t.pauseAllTimer()},u=s=>{ae(s,r.onFocusOut),ze(n,s.relatedTarget)||t.resumeAllTimer()},l=s=>{ae(s,r.onPointerMove),t.pauseOnInteraction()&&!t.isPaused()&&t.pauseAllTimer()},d=s=>{ae(s,r.onPointerLeave),ze(n,ot(n).activeElement)||t.resumeAllTimer()};return G(_t([()=>n,()=>t.hotkey()],([s,$])=>{if(!s)return;const _=ot(s),p=v=>{$.every(g=>v[g]||v.code===g)&&je(s)};_.addEventListener("keydown",p),W(()=>_.removeEventListener("keydown",p))})),G(()=>{if(!t.pauseOnPageIdle())return;const s=gn(n);s.addEventListener("blur",t.pauseAllTimer),s.addEventListener("focus",t.resumeAllTimer),W(()=>{s.removeEventListener("blur",t.pauseAllTimer),s.removeEventListener("focus",t.resumeAllTimer)})}),(()=>{var s=k(go);s.addEventListener("pointerleave",d),s.$$pointermove=l,s.$$focusout=u,s.$$focusin=a;var $=Qe(_=>n=_,r.ref);return typeof $=="function"&&$t($,s),me(s,o,!1,!0),m(s,i(ue,{get each(){return t.toasts()},children:_=>_.toastComponent({get toastId(){return _.id}})})),q(),s})()}$e(["focusin","focusout","pointermove"]);var bo=P("<div role=region tabindex=-1>");function vo(e){const n=`toast-region-${Xe()}`;e=Z({id:n,hotkey:["altKey","KeyT"],duration:5e3,limit:3,swipeDirection:"right",swipeThreshold:50,pauseOnInteraction:!0,pauseOnPageIdle:!0,topLayer:!0},e);const[t,r]=J(e,["style","hotkey","duration","limit","swipeDirection","swipeThreshold","pauseOnInteraction","pauseOnPageIdle","topLayer","aria-label","regionId"]),o=H(()=>mn.toasts().filter(v=>v.region===t.regionId).slice(0,t.limit)),[a,u]=I(!1),l=bn(()=>vn),d=()=>o().length>0,s=()=>t.hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=()=>(t["aria-label"]||l().format("notifications",{hotkey:s()})).replace($n,s()),_=()=>({[xn]:t.topLayer?"":void 0}),p={isPaused:a,toasts:o,hotkey:()=>t.hotkey,duration:()=>t.duration,swipeDirection:()=>t.swipeDirection,swipeThreshold:()=>t.swipeThreshold,pauseOnInteraction:()=>t.pauseOnInteraction,pauseOnPageIdle:()=>t.pauseOnPageIdle,pauseAllTimer:()=>u(!0),resumeAllTimer:()=>u(!1),generateId:pt(()=>r.id)};return i(_n.Provider,{value:p,get children(){var v=k(bo);return me(v,j({get"aria-label"(){return $()},get style(){return{"pointer-events":d()?t.topLayer?"auto":void 0:"none",...t.style}}},_,r),!1,!1),q(),v}})}var _o=P('<nav class="flex gap-2 px-2 py-2 justify-evenly">'),$o=P('<div class="w-6 h-6">'),xo=P('<span class="mt-1 text-xs font-semibold ">');function yo(e){return(()=>{var n=k(_o);return m(n,i(ue,{get each(){return e.items},children:t=>i(qe,{activeClass:"text-primary",inactiveClass:"text-text2",get href(){return t.href},class:"flex flex-col items-center justify-center text-sm ",get children(){return[(()=>{var r=k($o);return m(r,()=>t.icon),r})(),(()=>{var r=k(xo);return m(r,()=>t.label),r})()]}})})),n})()}function wo(e){return we({a:{baseProfile:"tiny",version:"1.2",viewBox:"0 0 24 24"},c:'<path d="M12 3s-6.186 5.34-9.643 8.232A1.041 1.041 0 0 0 2 12a1 1 0 0 0 1 1h2v7a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-4h4v4a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-7h2a1 1 0 0 0 1-1 .98.98 0 0 0-.383-.768C18.184 8.34 12 3 12 3z"/>'},e)}function So(e){return we({a:{baseProfile:"tiny",version:"1.2",viewBox:"0 0 24 24"},c:'<path d="M17.414 6.586a2 2 0 0 0-2.828 0L12 9.172 9.414 6.586a2 2 0 1 0-2.828 2.828L9.171 12l-2.585 2.586a2 2 0 1 0 2.828 2.828L12 14.828l2.586 2.586c.39.391.902.586 1.414.586s1.024-.195 1.414-.586a2 2 0 0 0 0-2.828L14.829 12l2.585-2.586a2 2 0 0 0 0-2.828z"/>'},e)}function Eo(e){return we({a:{viewBox:"0 0 1024 1024"},c:'<path d="M834.1 469.2A347.49 347.49 0 0 0 751.2 354l-29.1-26.7a8.09 8.09 0 0 0-13 3.3l-13 37.3c-8.1 23.4-23 47.3-44.1 70.8-1.4 1.5-3 1.9-4.1 2-1.1.1-2.8-.1-4.3-1.5-1.4-1.2-2.1-3-2-4.8 3.7-60.2-14.3-128.1-53.7-202C555.3 171 510 123.1 453.4 89.7l-41.3-24.3c-5.4-3.2-12.3 1-12 7.3l2.2 48c1.5 32.8-2.3 61.8-11.3 85.9-11 29.5-26.8 56.9-47 81.5a295.64 295.64 0 0 1-47.5 46.1 352.6 352.6 0 0 0-100.3 121.5A347.75 347.75 0 0 0 160 610c0 47.2 9.3 92.9 27.7 136a349.4 349.4 0 0 0 75.5 110.9c32.4 32 70 57.2 111.9 74.7C418.5 949.8 464.5 959 512 959s93.5-9.2 136.9-27.3A348.6 348.6 0 0 0 760.8 857c32.4-32 57.8-69.4 75.5-110.9a344.2 344.2 0 0 0 27.7-136c0-48.8-10-96.2-29.9-140.9zM713 808.5c-53.7 53.2-125 82.4-201 82.4s-147.3-29.2-201-82.4c-53.5-53.1-83-123.5-83-198.4 0-43.5 9.8-85.2 29.1-124 18.8-37.9 46.8-71.8 80.8-97.9a349.6 349.6 0 0 0 58.6-56.8c25-30.5 44.6-64.5 58.2-101a240 240 0 0 0 12.1-46.5c24.1 22.2 44.3 49 61.2 80.4 33.4 62.6 48.8 118.3 45.8 165.7a74.01 74.01 0 0 0 24.4 59.8 73.36 73.36 0 0 0 53.4 18.8c19.7-1 37.8-9.7 51-24.4 13.3-14.9 24.8-30.1 34.4-45.6 14 17.9 25.7 37.4 35 58.4 15.9 35.8 24 73.9 24 113.1 0 74.9-29.5 145.4-83 198.4z"/>'},e)}function ko(e){return we({a:{viewBox:"0 0 1024 1024"},c:'<path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"/>'},e)}function Po(e={}){return Object.keys(e).reduce((n,t)=>t==="days"||e[t]===!1?n:e[t]===!0?`${n}; ${t}`:`${n}; ${t}=${e[t]}`,"")}const Io=(e,n,t)=>{const r={days:7,path:"/",...t},o=new Date(Date.now()+r.days*864e5).toUTCString();document.cookie=e+"="+encodeURIComponent(n)+"; expires="+o+Po(r)},To=(e,n="")=>document.cookie.split("; ").reduce((t,r)=>{const o=r.split("=");return o[0]===e?decodeURIComponent(o[1]):t},"")||n;function Co(e,n){const[t,r]=I(()=>To(e,n));return[t,(a,u={})=>{r(a),Io(e,a,u)}]}const dt=e=>i(En,{get open(){return e.isOpen},get onOpenChange(){return e.onOpenChange},get children(){return[i(yn,{class:"p-1 outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md",get children(){return i(oo,{get children(){return e.triggerIcon}})}}),i(wn,{get children(){return i(Sn,{class:`bg-bg1 border border-bg3/80 rounded-md z-[999999]
          -top-2
          animate-in
          fade-in
          slide-in-from-top-10
          duration-200
          `,get children(){return[i(ht,{}),i(ao,{class:`max-h-[40vh] overflow-y-auto
            p-2
            `,get value(){return e.selectedValue},get onChange(){return e.onChange},get children(){return i(ue,{get each(){return e.options},children:n=>i(lo,{get value(){return n.value??n.label},class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b last:border-none hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-primary focus-visible:outline-none",get onClick(){return n.onClick},get children(){return[i(io,{class:"inline-flex absolute left-0",get children(){return i(ar,{fill:"currentColor",class:"h-4 w-4 mx-1 text-text1"})}}),H(()=>n.label)]}})})}})]}})}})]}});var Ao=P('<button class="sm:hidden bg-bg2 p-1 px-2 text-gray-500 flex items-center justify-center hover:bg-bg1 hover:text-text1 focus-visible:ring-2 focus-visible:ring-primary/80 rounded focus-visible:outline-none "aria-label=Back>'),Oo=P('<ul class="fixed w-screen h-screen sm:h-auto left-0 right-0 sm:w-max sm:min-w-[30rem] sm:left-[calc(70vw-18rem)] top-10 sm:mt-1 bg-bg1 border-1 border-bg2/80 p-2 z-[999999] text-text1 rounded-md border border-bg1 shadow-md transform transition-transform duration-250 ease-in origin-center animate-in fade-in aria-[expanded]:animate-out aria-[expanded]:fade-out "aria-multiselectable=false aria-live=polite aria-label=Suggestions id=search-suggestion-list>'),Ro=P('<div><!$><!/><label for=search-input class=sr-only>Search</label><input aria-haspopup=listbox aria-owns=suggestion-list aria-controls=suggestion-list id=search-input class="w-full border-0 max-w-full peer outline-none bg-bg1 border-bg2 focus:border-2 focus:border-r-0 placeholder-shown:focus:border-r-2 text-text1 text-sm rounded-lg rounded-r-none placeholder-shown:rounded-r-lg transition-transform focus:ring-primary focus:border-primary py-1 px-2.5"type=combobox placeholder="Search... (Ctrl + K)"aria-autocomplete=list><div class="relative peer-placeholder-shown:hidden flex w-max items-center justify-center gap-1 peer h-[29px] peer-focus:h-[33px] bg-bg1 py-1 px-1 -left-1 border-0 peer-focus:border-2 peer-focus:border-primary peer-focus:border-l-0 rounded-r-lg"><button id=search-button class="text-gray-500 flex items-center justify-center hover:bg-bg1 hover:text-text1 focus-visible:ring-2 focus-visible:ring-primary/80 rounded focus-visible:outline-none "aria-label=Search></button><button id=search-clear-button class="right-2 top-1/2 transform text-gray-500 flex items-center justify-center hover:bg-bg1 hover:text-text1 focus-visible:ring-2 focus-visible:ring-primary/80 rounded focus-visible:outline-none "aria-label="Clear search"></button></div><!$><!/>'),Lo=P('<button role=none class="text-xs text-gray-500 h-8 w-8 flex items-center justify-center hover:bg-bg1 hover:text-text1 focus-visible:ring-2 focus-visible:ring-primary/80 rounded focus-visible:outline-none ">'),Do=P('<li tabindex=0><span aria-hidden=true></span><div class="ml-2 flex items-center"><button role=none class="text-xs text-gray-500 h-8 w-8 flex items-center justify-center hover:bg-bg1 hover:text-text1 focus-visible:ring-2 focus-visible:ring-primary/80 rounded focus-visible:outline-none "></button><!$><!/>');const Mo=()=>{const[e,n]=I(""),[t,r]=I([]),[o,a]=I(-1),[u]=Jn();G(()=>{p(u.search_query||vt(()=>_()))});const l=()=>{const c=JSON.parse(localStorage.getItem("search_history")||"[]");console.log(c),r(c.map(E=>({value:E,isHistory:!0})))},[d]=gt(),s=wt(()=>({queryKey:["suggestions"],queryFn:async()=>(console.log("fetching suggestions",e()),await fetch(d.instance?.api_url+"/suggestions?query="+e()).then(c=>c.json())),enabled:!!(e().length>1&&d.instance?.api_url&&v()),select:c=>{console.log(c),c&&!c.error?r(c.map(E=>({value:E,isHistory:!1}))):r([])}})),$=Qn();Ze();const[_,p]=I(""),[v,f]=I(!1);function g(c){console.log(c),$(`/results?search_query=${c}`,{replace:!0})}const x=c=>{const E=c.target.value;if(E.length<1){l();return}p(E),n(E),s.refetch()},y=c=>{const C=JSON.parse(localStorage.getItem("search_history")||"[]").filter(R=>R!==c);mt("search_history",C,"localStorage"),l()},N=c=>{const E=c.target;switch(c.key){case"ArrowDown":a(C=>{if(C===-1||t().length===0)return 0;const R=Math.min(C+1,t().length-1);return p(t()[R].value),R});break;case"ArrowUp":a(C=>{if(C===-1||t().length===0)return 0;const R=Math.max(C-1,0);return p(t()[R].value),R}),setTimeout(()=>{E.selectionStart=t()[o()].value.length,E.selectionEnd=t()[o()].value.length},0);break;case"Enter":console.log("enter",o(),t(),t()[o()]),o()>-1?(n(t()[o()].value),g(t()[o()].value),r([]),f(!1)):_().length>0&&(g(_()),n(_()),r([]),f(!1));break;case"Escape":r([]);break;case"Delete":c.ctrlKey&&o()>-1&&y(t()[o()].value);break}};xt(()=>{document.addEventListener("keydown",L),W(()=>{document.removeEventListener("keydown",L)})});let T;function L(c){c.ctrlKey&&c.key==="k"&&(c.preventDefault(),T?.focus()),c.key==="Escape"&&T?.blur()}const F=()=>{a(-1),f(!0),e()||l(),document.body.classList.add("overflow-y-hidden"),document.body.classList.add("sm:overflow-y-auto")},ne=()=>{console.log("blur",document.activeElement);const c=document.activeElement;if(c&&c.id.startsWith("search-")){console.log("focused",c);return}document.body.classList.remove("overflow-y-hidden"),document.body.classList.remove("sm:overflow-y-auto"),setTimeout(()=>{r([]),f(!1)},150)};return(()=>{var c=k(Ro),E=c.firstChild,[C,R]=w(E.nextSibling),re=C.nextSibling,D=re.nextSibling,Q=D.nextSibling,Y=Q.firstChild,de=Y.nextSibling,Ee=Q.nextSibling,[oe,ke]=w(Ee.nextSibling);m(c,i(U,{get when(){return H(()=>t().length>0)()&&v()},get children(){var O=k(Ao);return O.$$click=()=>{r([]),f(!1),T?.blur()},m(O,i(dr,{"aria-hidden":"true",class:"w-6 h-6"})),q(),O}}),C,R),D.$$keydown=N,D.addEventListener("blur",async()=>{await kn(),ne()}),D.addEventListener("focus",F),D.$$input=x;var fe=T;return typeof fe=="function"?$t(fe,D):T=D,Q.addEventListener("transitionstart",O=>{console.log("transition start",O.propertyName)}),Y.$$click=()=>{g(_())},m(Y,i(fr,{class:"w-5 h-5","aria-hidden":"true"})),de.$$click=()=>{p(""),n(""),r([]),T?.focus()},m(de,i(at,{class:"w-5 h-5","aria-hidden":"true"})),m(c,i(U,{get when(){return H(()=>t().length>0)()&&v()},get children(){return i(ye,{get children(){var O=k(Oo);return m(O,i(ue,{get each(){return t()},children:(A,B)=>(()=>{var M=k(Do),be=M.firstChild,ve=be.nextSibling,X=ve.firstChild,Pe=X.nextSibling,[Ie,Te]=w(Pe.nextSibling);return M.$$focusin=()=>{a(B())},M.$$keydown=h=>{console.log("keydown"),h.stopPropagation(),h.key==="Enter"&&(n(A.value),p(A.value),g(A.value),r([]),f(!1))},M.$$click=()=>{console.log("click"),n(A.value),p(A.value),g(A.value),r([]),f(!1)},m(be,()=>A.value),X.$$keydown=h=>{h.key==="Enter"&&(h.stopPropagation(),p(A.value),T?.focus())},X.$$click=h=>{h.stopPropagation(),p(A.value),T?.focus()},m(X,i(pr,{class:"w-5 h-5","aria-hidden":"true"})),m(ve,i(U,{get when(){return A.isHistory},get children(){var h=k(Lo);return h.$$keydown=S=>{S.key==="Enter"&&A.isHistory&&(S.stopPropagation(),y(A.value),T?.focus())},h.$$click=S=>{console.log("remove"),A.isHistory&&(S.stopPropagation(),y(A.value),T?.focus())},m(h,i(at,{class:"w-5 h-5","aria-hidden":"true"})),le(S=>{var V=`search-suggestion-remove-${B()}`,z=`Remove suggestion ${A.value} (Ctrl+Delete)`;return V!==S.e&&K(h,"id",S.e=V),z!==S.t&&K(h,"aria-label",S.t=z),S},{e:void 0,t:void 0}),q(),h}}),Ie,Te),le(h=>{var S={"text-sm leading-none text-text1 border-b border-bg2 last:border-none rounded-md flex items-center justify-between h-8 px-2 py-5 relative select-none outline-none cursor-pointer hover:bg-bg2":!0,"bg-bg2 focus-visible:ring-2 ring-primary":o()===B()},V=`search-option-${B()}`,z=o()===B(),ie=A.value,se=`search-suggestion-use-${B()}`,ee=`Use suggestion ${A.value} (Enter)`;return h.e=it(M,S,h.e),V!==h.t&&K(M,"id",h.t=V),z!==h.a&&K(M,"aria-selected",h.a=z),ie!==h.o&&K(M,"aria-label",h.o=ie),se!==h.i&&K(X,"id",h.i=se),ee!==h.n&&K(X,"aria-label",h.n=ee),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),q(),M})()})),O}})}}),oe,ke),le(O=>{var A={"relative z-[999999] flex items-center transition-all duration-500 ":!0,"-left-10 sm:left-0 w-screen sm:w-auto":t().length>0&&v()},B=t().length>0&&v(),M=o()>-1?`option-${o()}`:void 0;return O.e=it(c,A,O.e),B!==O.t&&K(D,"aria-expanded",O.t=B),M!==O.a&&K(D,"aria-activedescendant",O.a=M),O},{e:void 0,t:void 0,a:void 0}),le(()=>Yn(D,"value",_())),q(),c})()};$e(["click","input","keydown","focusin"]);var No=P('<img src=/logo.svg alt=Conduit class="h-8 w-8 aspect-square min-w-max ">'),Fo=P('<div class="flex items-start flex-col gap-2 text-text1"><details class=text-xs><summary class=link>Users: <!$><!/></summary><!$><!/></details><div>Syncing: <!$><!/></div><div>IndexedDB: <!$><!/></div><div>WebRTC: <!$><!/></div><div>OPFS: <!$><!/>'),Vo=P('<div class="w-full h-full bg-bg1"><div class="p-4 flex flex-col items-center justify-center gap-2"><!$><!/><!$><!/><!$><!/><!$><!/>'),Bo=P('<nav class="fixed top-0 left-0 bg-bg2 w-full z-[99999] h-10 px-2 flex items-center justify-between"><button class="sr-only focus:not-sr-only absolute top-0 left-0">Skip navigation</button><div class="flex items-center justify-between w-full max-w-full min-w-0"><!$><!/><ul class="hidden md:inline"></ul><!$><!/><div class="flex items-center gap-2 "><!$><!/><!$><!/><!$><!/></div></div><!$><!/>'),Ho=P('<div class="flex items-center gap-2">ID: <!$><!/>Name: <!$><!/> <!$><!/>');function Uo(){const[e,n]=Ye(Tt),[,t]=Co("theme","monokai");bt();const r=[{href:"/feed",label:"Feed"},{href:"/trending",label:"Trending"},{href:"/library",label:"Library"},{href:"/import",label:"Import"}],o=wt(()=>({queryKey:["instances"],queryFn:async()=>{const c=await fetch("https://piped-instances.kavin.rocks/");if(!c.ok)throw new Error("Failed to fetch instances");return await c.json()},initialData:Pn("instances",[],"json","localStorage"),select:c=>(mt("instances",c,"localStorage"),c),retry:c=>c<3})),[a,u]=gt(),l=["Alice","Bob","Charlie","Dave","Eve","Frank","Grace","Heidi","Ivan","Judy","Kevin","Larry","Mallory","Nancy","Oscar","Peggy","Quentin","Rupert","Sybil","Trent","Ursula","Victor","Walter","Xavier","Yvonne","Zelda"],[d]=Ze(),[s,$]=I(!1),[_,p]=I(l[Math.floor(Math.random()*l.length)]),[v,f]=I(""),[g,x]=I("");G(()=>{const c=JSON.parse(localStorage.getItem("room")||"{}");c.name&&p(c.name),f(c.id||""),x(c.password||"")});const[y,N]=I(!1),[T,L]=I(!1);function F(c,E){return c==="connected"&&E==="connected"?"online":c==="connected"&&E!=="connected"?"offline":c!=="connected"&&E==="connected"?"volatile":"disconnected"}const ne=()=>{if(!o.data)return;const c=o.data;let E=c.findIndex(R=>R.api_url===a.instance.api_url);E=E>-1?E:0;const C=(E+1)%c.length;u("instance",c[C]),Tn.show(`You are now connected to ${c[C].name}`)};return xt(()=>{document.addEventListener("keydown",c=>{c.key==="I"&&c.shiftKey&&!c.ctrlKey&&!c.altKey&&(ne(),c.preventDefault())})}),W(()=>{document.removeEventListener("keydown",c=>{c.key==="I"&&c.shiftKey&&!c.ctrlKey&&!c.altKey&&(ne(),c.preventDefault())})}),(()=>{var c=k(Bo),E=c.firstChild,C=E.nextSibling,R=C.firstChild,[re,D]=w(R.nextSibling),Q=re.nextSibling,Y=Q.nextSibling,[de,Ee]=w(Y.nextSibling),oe=de.nextSibling,ke=oe.firstChild,[fe,O]=w(ke.nextSibling),A=fe.nextSibling,[B,M]=w(A.nextSibling),be=B.nextSibling,[ve,X]=w(be.nextSibling),Pe=C.nextSibling,[Ie,Te]=w(Pe.nextSibling);return E.$$click=()=>{const S=document.querySelector("main")?.querySelectorAll("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])");S&&S[0].focus()},m(C,i(qe,{href:"/",class:"text-text1 mx-2 w-8 h-8",get children(){return k(No)}}),re,D),m(Q,i(ue,{each:r,children:h=>i(qe,{get href(){return h.href},class:"text-sm p-1 text-left transition ",get children(){return h.label}})})),m(C,i(Mo,{}),de,Ee),m(oe,i(po,{get children(){return[i(ho,{class:"p-1 outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md",get children(){return i(Xn,{get children(){return[i(ge,{get when(){return d.sync.syncing},get children(){return i(lr,{class:"w-6 h-6 text-yellow-500"})}}),i(ge,{get when(){return F(d.sync.providers.opfs,d.sync.providers.webrtc)==="online"},get children(){return i(hr,{class:"w-7 h-7 text-green-500"})}}),i(ge,{get when(){return F(d.sync.providers.opfs,d.sync.providers.webrtc)==="disconnected"},get children(){return i(So,{class:"w-9 h-9 text-red-500"})}}),i(ge,{get when(){return F(d.sync.providers.opfs,d.sync.providers.webrtc)==="offline"},get children(){return i(gr,{class:"w-7 h-7 text-text1"})}}),i(ge,{get when(){return F(d.sync.providers.opfs,d.sync.providers.webrtc)==="volatile"},get children(){return i(mr,{class:"w-6 h-6 text-text1"})}})]}})}}),i(fo,{get children(){return i(co,{class:`bg-bg1 border border-bg3/80 p-2 rounded-md
                animate-in
                fade-in
                slide-in-from-top-10
                duration-200
                z-[99999]
                `,get children(){return[i(ht,{}),i(uo,{get class(){return`text-sm p-1 text-left flex flex-col gap-2 items-center ${v()?"text-green-600":"text-red-600"}`},get children(){return[i(U,{get when(){return v()},get children(){return["Connected: ",H(()=>v()),(()=>{var h=k(Fo),S=h.firstChild,V=S.firstChild,z=V.firstChild,ie=z.nextSibling,[se,ee]=w(ie.nextSibling),Ce=V.nextSibling,[Ae,_e]=w(Ce.nextSibling),pe=S.nextSibling,Oe=pe.firstChild,Re=Oe.nextSibling,[Le,te]=w(Re.nextSibling),De=pe.nextSibling,Ct=De.firstChild,At=Ct.nextSibling,[Ot,Rt]=w(At.nextSibling),Me=De.nextSibling,Lt=Me.firstChild,Dt=Lt.nextSibling,[Mt,Nt]=w(Dt.nextSibling),tt=Me.nextSibling,Ft=tt.firstChild,Vt=Ft.nextSibling,[Bt,Ht]=w(Vt.nextSibling);return m(V,()=>d.sync.users.length,se,ee),m(S,i(ue,{get each(){return d.sync.users},children:Ne=>(()=>{var he=k(Ho),Ut=he.firstChild,jt=Ut.nextSibling,[nt,zt]=w(jt.nextSibling),qt=nt.nextSibling,Kt=qt.nextSibling,[rt,Wt]=w(Kt.nextSibling),Gt=rt.nextSibling,Jt=Gt.nextSibling,[Qt,Yt]=w(Jt.nextSibling);return m(he,()=>Ne.id,nt,zt),m(he,()=>Ne.name,rt,Wt),m(he,()=>Ne.name===_()&&"(You)",Qt,Yt),he})()}),Ae,_e),m(pe,()=>d.sync.syncing?"true":"false",Le,te),m(De,()=>d.sync.providers.idb,Ot,Rt),m(Me,()=>d.sync.providers.webrtc,Mt,Nt),m(tt,()=>d.sync.providers.opfs,Bt,Ht),h})(),i(Ve,{label:"Leave",onClick:()=>{localStorage.removeItem("room"),location.reload()}})]}}),i(U,{get when(){return!v()},get children(){return["Disconnected",i(Ve,{label:"Join room",onClick:()=>$(!0)})]}})]}})]}})}})]}}),fe,O),m(oe,i(dt,{get isOpen(){return y()},onOpenChange:N,onChange:h=>{n(h),t(h)},options:[{value:"monokai",label:"Monokai"},{value:"dracula",label:"Dracula"},{value:"discord",label:"Discord"},{value:"github",label:"Github"}],get selectedValue(){return e()},get triggerIcon(){return i(cr,{fill:"currentColor",class:"h-5 w-5 text-text1"})}}),B,M),m(oe,i(dt,{get isOpen(){return T()},onOpenChange:L,get selectedValue(){return a.instance.api_url},onChange:h=>{let S=o.data.find(V=>V.api_url===h);S&&u("instance",S)},get options(){return o.data.map(h=>({label:`${h.name} - ${h.uptime_24h.toFixed(0)}%`,value:h.api_url}))},get triggerIcon(){return i(ur,{fill:"currentColor",class:"h-5 w-5 text-text1"})}}),ve,X),m(c,i(In,{get isOpen(){return s()},title:"Join Room",setIsOpen:$,get children(){var h=k(Vo),S=h.firstChild,V=S.firstChild,[z,ie]=w(V.nextSibling),se=z.nextSibling,[ee,Ce]=w(se.nextSibling),Ae=ee.nextSibling,[_e,pe]=w(Ae.nextSibling),Oe=_e.nextSibling,[Re,Le]=w(Oe.nextSibling);return m(S,i(Be,{name:"name",get value(){return _()},onInput:te=>p(te),placeholder:"Name",type:"text",class:"w-full"}),z,ie),m(S,i(Be,{name:"room",type:"text",placeholder:"Room ID",get value(){return v()},onInput:te=>f(te)}),ee,Ce),m(S,i(Be,{name:"password",type:"password",placeholder:"Password",get value(){return g()},onInput:te=>x(te)}),_e,pe),m(S,i(Ve,{onClick:()=>{localStorage.setItem("room",JSON.stringify({name:_(),id:v(),password:g()})),location.reload()},label:"Join"}),Re,Le),h}}),Ie,Te),q(),c})()}$e(["click"]);var jo=P('<div class="fixed h-1 w-full -mx-2 top-0 z-[9999999]"><div class="h-1 bg-gradient-to-r from-accent1 via-primary to-accent1 bg-repeat-x w-full animate-stripe">'),zo=P('<div><!$><!/><div aria-hidden=true class=h-10></div><!$><!/><!$><!/><!$><!/><main><!$><!/><!$><!/></main><div class="fixed bottom-0 left-0 w-full md:hidden pb-2 sm:pb-5 bg-bg2 z-50"></div><div class="h-20 md:h-0"></div><!$><!/>'),qo=P("<div>Loading..."),Ko=P("<div role=alert aria-live=assertive aria-atomic=true class=sr-only>Current page: <!$><!/> ");const Wo=()=>b(()=>import("./ReloadPrompt-CpIWBecP.js"),__vite__mapDeps([35,1,5,2,3,6,7,8,9,36])),[We,Ge]=I(""),Tt=xe([We,Ge]);function Go(){le(()=>{function r(u){return u.split(";").map(l=>l.split("=")).reduce((l,d)=>(l[decodeURIComponent(d[0].trim())]=decodeURIComponent(d[1].trim()),l),{})}const a=r(sr?"":document.cookie).theme??"monokai";Ge(a)});const[e]=Ze(),n=new or({defaultOptions:{queries:{refetchOnMount:!0,refetchOnReconnect:!0,refetchOnWindowFocus:!1,retry:r=>r<3,suspense:!0}}}),t=bt();return G(()=>{console.log(t.store,"sync store")}),i(Vr,{root:r=>i(st,{get children(){return i(br,{tags:[],get children(){return i(ir,{client:n,get children(){return i(Tt.Provider,{value:[We,Ge],get children(){return i(Cn,{get children(){return i(rr,{get children(){return i(An,{get children(){return i(On,{get children(){return i(ro,{get children(){return i(Rn,{get children(){var o=k(zo),a=o.firstChild,[u,l]=w(a.nextSibling),d=u.nextSibling,s=d.nextSibling,[$,_]=w(s.nextSibling),p=$.nextSibling,[v,f]=w(p.nextSibling),g=v.nextSibling,[x,y]=w(g.nextSibling),N=x.nextSibling,T=N.firstChild,[L,F]=w(T.nextSibling),ne=L.nextSibling,[c,E]=w(ne.nextSibling),C=N.nextSibling,R=C.nextSibling,re=R.nextSibling,[D,Q]=w(re.nextSibling);return m(o,i(Uo,{}),u,l),m(o,i(Ln,{}),$,_),m(o,i(U,{get when(){return e.loading},get children(){var Y=k(jo);return Y.firstChild,Y}}),v,f),m(o,i(ye,{get children(){return i(vo,{get children(){return i(mo,{class:"fixed bottom-0 right-0 p-4 flex flex-col gap-2 z-[999999] w-[400px] max-w-[100vw] outline-none"})}})}}),x,y),m(N,()=>r.children,L,F),m(N,i(yt,{get children(){return i(st,{get fallback(){return k(qo)},get children(){return i(Wo,{})}})}}),c,E),m(C,i(yo,{get items(){return[{href:"/feed",label:"Feed",icon:i(wo,{fill:"currentColor",class:"w-6 h-6 "})},{href:"/trending",label:"Trending",icon:i(Eo,{fill:"currentColor",class:"w-6 h-6 "})},{href:"/library",label:"Library",icon:i(ko,{fill:"currentColor",class:"w-6 h-6 "})}]}})),m(o,i(Jo,{}),D,Q),le(()=>Zn(o,`${We()} bg-bg1 font-manrope text-sm scrollbar text-text1 selection:bg-accent2 selection:text-text3 overflow-x-hidden`)),o}})}})}})}})}})}})}})}})}})}}),get children(){return i(to,{})}})}const Jo=()=>{const e=er();return i(ye,{get children(){var n=k(Ko),t=n.firstChild,r=t.nextSibling,[o,a]=w(r.nextSibling);return o.nextSibling,m(n,()=>e.pathname,o,a),n}})},Qo=e=>null;var Yo=P("<span style=font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;>");const Xo=e=>{const n="Error | Uncaught Client Exception";return i(yt,{get fallback(){return[(()=>{var t=k(Yo);return m(t,n),t})(),i(Qo,{code:500})]},get children(){return e.children}})};function Zo(e,n){return tr(e,n)}function ft(e){return e.children}function ei(){return i(ft,{get children(){return i(ft,{get children(){return i(Xo,{get children(){return i(Go,{})}})}})}})}Zo(()=>i(ei,{}),document.getElementById("app"));const di=void 0;export{di as default};
//# sourceMappingURL=client-DWanFlQr.js.map
