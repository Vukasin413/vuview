import{a as N,C as A,v as R,B as be,D as me,j as P,A as I,o as B,k as pe,e as t,S as C,J as xe,E as ye,u as te,a0 as $e,a1 as _e,X as Se,l as we,r as _,L as ne,M as re,K as S,w as x,G as q,U as k,Q as z,T as L,F as W,x as oe,y as K}from"./routing-BmD2xUmi.js";import{c as Ce,ab as le,au as Te,n as Pe,P as j,i as ie,av as Ie,aw as de,ax as Ke,ay as M,m as ge,az as De,aA as ke,aB as Me,aC as Le,j as Fe,aD as Ee,I as H,$ as w,a4 as se,ag as ae}from"./syncStore-BssUQgBy.js";import{C as he,S as Ne}from"./Description-BLDREoDG.js";import{u as V}from"./useIntersectionObserver-DOCe7fLW.js";import{u as qe}from"./Link-Dg-h0Eyu.js";import{b as G}from"./index-B3L84c1c.js";import{E as J}from"./EmptyState-BuYdpmYU.js";import{P as Ae}from"./PlaylistCard-BxVwlLgx.js";import{A as ce}from"./components-BMGKah2q.js";import"./index-BnPmuIsI.js";import"./index-DPECAXpK.js";import"./index-Cb4tY8hP.js";/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-stately/list/src/useSingleSelectListState.ts
 */function Re(a){const[n,e]=Ce({value:()=>le(a.selectedKey),defaultValue:()=>le(a.defaultSelectedKey),onChange:o=>a.onSelectionChange?.(o)}),s=N(()=>{const o=n();return o!=null?[o]:[]}),[,b]=A(a,["onSelectionChange"]),d=R(b,{selectionMode:"single",disallowEmptySelection:!0,allowDuplicateSelectionEvents:!0,selectedKeys:s,onSelectionChange:o=>{const g=o.values().next().value;g===n()&&a.onSelectionChange?.(g),e(g)}}),{collection:i,selectionManager:r}=Te(d),l=N(()=>{const o=n();return o!=null?i().getItem(o):void 0});return{collection:i,selectionManager:r,selectedKey:n,setSelectedKey:e,selectedItem:l}}const fe=be();function Q(){const a=me(fe);if(a===void 0)throw new Error("[kobalte]: `useTabsContext` must be used within a `Tabs` component");return a}function U(a){let n;const e=Q(),[s,b]=A(a,["ref","id","value","forceMount"]),[d,i]=P(0),r=()=>s.id??e.generateContentId(s.value),l=()=>e.listState().selectedKey()===s.value,o=Pe(()=>s.forceMount||l());return I(B([()=>n,()=>o.isPresent()],([g,u])=>{if(g==null||!u)return;const f=()=>{const m=Ie(g,{tabbable:!0});i(m.nextNode()?void 0:0)};f();const h=new MutationObserver(f);h.observe(g,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabindex","disabled"]}),pe(()=>{h.disconnect()})})),I(B([()=>s.value,r],([g,u])=>{e.contentIdsMap().set(g,u)})),t(C,{get when(){return o.isPresent()},get children(){return t(j,R({as:"div",ref(g){var u=ie(f=>{o.setRef(f),n=f},s.ref);typeof u=="function"&&u(g)},get id(){return r()},role:"tabpanel",get tabIndex(){return d()},get"aria-labelledby"(){return e.triggerIdsMap().get(s.value)},get"data-orientation"(){return e.orientation()},get"data-selected"(){return l()?"":void 0}},b))}})}function Oe(a){const n=Q(),[e,s]=A(a,["style"]),[b,d]=P({width:void 0,height:void 0}),{direction:i}=de(),r=()=>{const l=n.selectedTab();if(l==null)return;const o={transform:void 0,width:void 0,height:void 0},g=i()==="rtl"?-1*(l.offsetParent?.offsetWidth-l.offsetWidth-l.offsetLeft):l.offsetLeft;o.transform=n.orientation()==="vertical"?`translateY(${l.offsetTop}px)`:`translateX(${g}px)`,n.orientation()==="horizontal"?o.width=`${l.offsetWidth}px`:o.height=`${l.offsetHeight}px`,d(o)};return xe(()=>{queueMicrotask(()=>{r()})}),I(B([n.selectedTab,n.orientation,i],()=>{r()},{defer:!0})),t(j,R({as:"div",role:"presentation",get style(){return{...b(),...e.style}},get"data-orientation"(){return n.orientation()}},s))}/*!
 * Portions of this file are based on code from react-spectrum.
 * Apache License Version 2.0, Copyright 2020 Adobe.
 *
 * Credits to the React Spectrum team:
 * https://github.com/adobe/react-spectrum/blob/6b51339cca0b8344507d3c8e81e7ad05d6e75f9b/packages/@react-aria/tabs/src/TabsKeyboardDelegate.ts
 */class Ue{collection;direction;orientation;constructor(n,e,s){this.collection=n,this.direction=e,this.orientation=s}flipDirection(){return this.direction()==="rtl"&&this.orientation()==="horizontal"}getKeyLeftOf(n){return this.flipDirection()?this.getNextKey(n):this.orientation()==="horizontal"?this.getPreviousKey(n):void 0}getKeyRightOf(n){return this.flipDirection()?this.getPreviousKey(n):this.orientation()==="horizontal"?this.getNextKey(n):void 0}getKeyAbove(n){if(this.orientation()==="vertical")return this.getPreviousKey(n)}getKeyBelow(n){if(this.orientation()==="vertical")return this.getNextKey(n)}getFirstKey(){let n=this.collection().getFirstKey();return n==null?void 0:(this.collection().getItem(n)?.disabled&&(n=this.getNextKey(n)),n)}getLastKey(){let n=this.collection().getLastKey();return n==null?void 0:(this.collection().getItem(n)?.disabled&&(n=this.getPreviousKey(n)),n)}getNextKey(n){let e=n,s;do if(e=this.collection().getKeyAfter(e)??this.collection().getFirstKey(),e==null||(s=this.collection().getItem(e),s==null))return;while(s.disabled);return e}getPreviousKey(n){let e=n,s;do if(e=this.collection().getKeyBefore(e)??this.collection().getLastKey(),e==null||(s=this.collection().getItem(e),s==null))return;while(s.disabled);return e}}function Be(a){let n;const e=Q(),[s,b]=A(a,["ref","onKeyDown","onMouseDown","onFocusIn","onFocusOut"]),{direction:d}=de(),i=new Ue(()=>e.listState().collection(),d,e.orientation),r=Ke({selectionManager:()=>e.listState().selectionManager(),keyboardDelegate:()=>i,selectOnFocus:()=>e.activationMode()==="automatic",shouldFocusWrap:!1,disallowEmptySelection:!0},()=>n);return I(()=>{if(n==null)return;const l=n.querySelector(`[data-key="${e.listState().selectedKey()}"]`);l!=null&&e.setSelectedTab(l)}),t(j,R({as:"div",ref(l){var o=ie(g=>n=g,s.ref);typeof o=="function"&&o(l)},role:"tablist",get"aria-orientation"(){return e.orientation()},get"data-orientation"(){return e.orientation()},get onKeyDown(){return M([s.onKeyDown,r.onKeyDown])},get onMouseDown(){return M([s.onMouseDown,r.onMouseDown])},get onFocusIn(){return M([s.onFocusIn,r.onFocusIn])},get onFocusOut(){return M([s.onFocusOut,r.onFocusOut])}},b))}function ze(a){const n=`tabs-${ye()}`;a=ge({id:n,orientation:"horizontal",activationMode:"automatic"},a);const[e,s]=A(a,["value","defaultValue","onChange","orientation","activationMode","disabled"]),[b,d]=P([]),[i,r]=P(),{DomCollectionProvider:l}=De({items:b,onItemsChange:d}),o=Re({selectedKey:()=>e.value,defaultSelectedKey:()=>e.defaultValue,onSelectionChange:m=>e.onChange?.(String(m)),dataSource:b});let g=o.selectedKey();I(B([()=>o.selectionManager(),()=>o.collection(),()=>o.selectedKey()],([m,y,c])=>{let v=c;if(m.isEmpty()||v==null||!y.getItem(v)){v=y.getFirstKey();let p=v!=null?y.getItem(v):void 0;for(;p?.disabled&&p.key!==y.getLastKey();)v=y.getKeyAfter(p.key),p=v!=null?y.getItem(v):void 0;p?.disabled&&v===y.getLastKey()&&(v=y.getFirstKey()),v!=null&&m.setSelectedKeys([v])}(m.focusedKey()==null||!m.isFocused()&&v!==g)&&m.setFocusedKey(v),g=v}));const u=new Map,f=new Map,h={isDisabled:()=>e.disabled??!1,orientation:()=>e.orientation,activationMode:()=>e.activationMode,triggerIdsMap:()=>u,contentIdsMap:()=>f,listState:()=>o,selectedTab:i,setSelectedTab:r,generateTriggerId:m=>`${s.id}-trigger-${m}`,generateContentId:m=>`${s.id}-content-${m}`};return t(l,{get children(){return t(fe.Provider,{value:h,get children(){return t(j,R({as:"div",get"data-orientation"(){return h.orientation()}},s))}})}})}function We(a){let n;const e=Q();a=ge({type:"button"},a);const[s,b]=A(a,["ref","id","value","disabled","onPointerDown","onPointerUp","onClick","onKeyDown","onMouseDown","onFocus"]),d=()=>s.id??e.generateTriggerId(s.value),i=()=>e.listState().selectionManager().focusedKey()===s.value,r=()=>s.disabled||e.isDisabled(),l=()=>e.contentIdsMap().get(s.value);ke({getItem:()=>({ref:()=>n,type:"item",key:s.value,textValue:"",disabled:r()})});const o=Me({key:()=>s.value,selectionManager:()=>e.listState().selectionManager(),disabled:r},()=>n),g=u=>{Le()&&Fe(u.currentTarget)};return I(B([()=>s.value,d],([u,f])=>{e.triggerIdsMap().set(u,f)})),t(j,R({as:"button",ref(u){var f=ie(h=>n=h,s.ref);typeof f=="function"&&f(u)},get id(){return d()},role:"tab",get tabIndex(){return N(()=>!r())()?o.tabIndex():void 0},get disabled(){return r()},get"aria-selected"(){return o.isSelected()},get"aria-disabled"(){return r()||void 0},get"aria-controls"(){return N(()=>!!o.isSelected())()?l():void 0},get"data-key"(){return o.dataKey()},get"data-orientation"(){return e.orientation()},get"data-selected"(){return o.isSelected()?"":void 0},get"data-highlighted"(){return i()?"":void 0},get"data-disabled"(){return r()?"":void 0},get onPointerDown(){return M([s.onPointerDown,o.onPointerDown])},get onPointerUp(){return M([s.onPointerUp,o.onPointerUp])},get onClick(){return M([s.onClick,o.onClick,g])},get onKeyDown(){return M([s.onKeyDown,o.onKeyDown])},get onMouseDown(){return M([s.onMouseDown,o.onMouseDown])},get onFocus(){return M([s.onFocus,o.onFocus])}},b))}var ue=()=>{};function je(a,n){const e=te(a),{onChange:s}=n;let b=new Set(n.appear?void 0:e);const d=new WeakSet,[i,r]=P([],{equals:!1}),[l]=_e(),o=n.exitMethod==="remove"?ue:u=>{r(f=>(f.push.apply(f,u),f));for(const f of u)d.delete(f)},g=n.exitMethod==="remove"?ue:n.exitMethod==="keep-index"?(u,f,h)=>u.splice(h,0,f):(u,f)=>u.push(f);return N(u=>{const f=i(),h=a();if(h[$e],te(l))return l(),u;if(f.length){const m=u.filter(y=>!f.includes(y));return f.length=0,s({list:m,added:[],removed:[],unchanged:m,finishRemoved:o}),m}return te(()=>{const m=new Set(h),y=h.slice(),c=[],v=[],p=[];for(const T of h)(b.has(T)?p:c).push(T);let D=!c.length;for(let T=0;T<u.length;T++){const $=u[T];m.has($)||(d.has($)||(v.push($),d.add($)),g(y,$,T)),D&&$!==y[T]&&(D=!1)}return!v.length&&D?u:(s({list:y,added:c,removed:v,unchanged:p,finishRemoved:o}),b=m,y)})},n.appear?[]:e.slice())}function He(a){return N(()=>{const n=a.name||"s";return{enterActive:(a.enterActiveClass||n+"-enter-active").split(" "),enter:(a.enterClass||n+"-enter").split(" "),enterTo:(a.enterToClass||n+"-enter-to").split(" "),exitActive:(a.exitActiveClass||n+"-exit-active").split(" "),exit:(a.exitClass||n+"-exit").split(" "),exitTo:(a.exitToClass||n+"-exit-to").split(" "),move:(a.moveClass||n+"-move").split(" ")}})}function ve(a){requestAnimationFrame(()=>requestAnimationFrame(a))}function Ve(a,n,e,s){const{onBeforeEnter:b,onEnter:d,onAfterEnter:i}=n;b?.(e),e.classList.add(...a.enter),e.classList.add(...a.enterActive),queueMicrotask(()=>{if(!e.parentNode)return s?.();d?.(e,()=>r())}),ve(()=>{e.classList.remove(...a.enter),e.classList.add(...a.enterTo),(!d||d.length<2)&&(e.addEventListener("transitionend",r),e.addEventListener("animationend",r))});function r(l){(!l||l.target===e)&&(s?.(),e.removeEventListener("transitionend",r),e.removeEventListener("animationend",r),e.classList.remove(...a.enterActive),e.classList.remove(...a.enterTo),i?.(e))}}function Ge(a,n,e,s){const{onBeforeExit:b,onExit:d,onAfterExit:i}=n;if(!e.parentNode)return s?.();b?.(e),e.classList.add(...a.exit),e.classList.add(...a.exitActive),d?.(e,()=>r()),ve(()=>{e.classList.remove(...a.exit),e.classList.add(...a.exitTo),(!d||d.length<2)&&(e.addEventListener("transitionend",r),e.addEventListener("animationend",r))});function r(l){(!l||l.target===e)&&(s?.(),e.removeEventListener("transitionend",r),e.removeEventListener("animationend",r),e.classList.remove(...a.exitActive),e.classList.remove(...a.exitTo),i?.(e))}}var Je=a=>{const n=He(a);return je(Ee(()=>a.children).toArray,{appear:a.appear,exitMethod:"keep-index",onChange({added:e,removed:s,finishRemoved:b,list:d}){const i=n();for(const l of e)Ve(i,a,l);const r=[];for(const l of d)l.isConnected&&(l instanceof HTMLElement||l instanceof SVGElement)&&r.push({el:l,rect:l.getBoundingClientRect()});queueMicrotask(()=>{const l=[];for(const{el:o,rect:g}of r)if(o.isConnected){const u=o.getBoundingClientRect(),f=g.left-u.left,h=g.top-u.top;(f||h)&&(o.style.transform=`translate(${f}px, ${h}px)`,o.style.transitionDuration="0s",l.push(o))}document.body.offsetHeight;for(const o of l){let g=function(u){(u.target===o||/transform$/.test(u.propertyName))&&(o.removeEventListener("transitionend",g),o.classList.remove(...i.move))};o.classList.add(...i.move),o.style.transform=o.style.transitionDuration="",o.addEventListener("transitionend",g)}});for(const l of s)Ge(i,a,l,()=>b([l]))}})},Xe=K('<img class="w-full pb-1.5"loading=lazy>'),Qe=K("<div class=ml-auto>"),Ye=K('<div class="flex items-center"><img height=48 width=48 class="rounded-full m-1"><h1 class="text-xl font-bold mr-2"></h1><!$><!/><!$><!/>'),Ze=K('<div class="flex flex-wrap justify-center"><!$><!/><!$><!/><div class="w-full h-20 mt-2">'),et=K("<div class=relative>"),tt=K('<span class=""><!$><!/>...<br><button class=underline>Read more'),nt=K('<span class=""><!$><!/><br><button class=underline>Read less'),Y=K('<div class="flex flex-wrap justify-center"><!$><!/><!$><!/>'),Z=K('<div class="w-full h-20 mt-2">'),rt=K('<div class="relative w-20 overflow-hidden rounded-full group-hover:ring-2 group-focus-visible:ring-2 ring-accent1 transition-shadow duration-300"><img class="w-full rounded-full transition-transform duration-300 group-hover:scale-105 group-focus-visible:scale-105"loading=lazy>'),at=K('<div class="flex gap-1"><span></span><!$><!/>'),it=K('<div class="w-44 mx-1 flex flex-col gap-2 items-start"><!$><!/><!$><!/>');async function ee(a,n,{pageParam:e}){return e?await ae(`${a}/channels/tabs`,{data:n,nextpage:e??null}):await ae(`${a}/channels/tabs`,{data:n})}function St(){const[a,n]=P([]),[e]=H(),s=Se(),[b,d]=P(s.query.tab??"videos");qe();async function i({pageParam:c}){if(c)return await ae(`${e.instance.api_url}/nextpage/channel/${r.data?.pages[0].id}`,{nextpage:c});{const v=`${e.instance.api_url}${s.pathname}/`;return fetch(v).then(p=>p.json())}}const r=G(()=>({queryKey:["channelData",s.pathname,e.instance.api_url],queryFn:i,getNextPageParam:c=>c.nextpage,enabled:!!(s?.pathname&&e?.instance?.api_url),initialPageParam:null,deferStream:!0,initialData:()=>{}}));I(()=>{if(!r.data)return;const c=r.data.pages[0];if(!c)return;document.title=`${c.name} - Conduit`;const v=c.tabs;v&&(console.log("tabs",v),n([{name:"videos",data:null},...v]))});const l=V({setTarget:()=>o(),threshold:.1}),[o,g]=P(void 0);I(()=>{if(l()){if(console.log("intersecting"),r.isFetchingNextPage||!r.hasNextPage)return;r.fetchNextPage(),console.log(r.data)}});const[u,f]=P(a().findIndex(c=>c.name===b())??0),[h,m]=P(!1);function y(c){console.log("loadTab",c);let v=u();f(a().findIndex(D=>D.name===c)??u()),m(v>u()),console.log("navigating ",h()?"left":"right",v,u()),d(c);const p=new URL(window.location.href);p.searchParams.set("tab",c??"videos"),history.replaceState(window.history.state,"",p)}return t(k,{get fallback(){return t(w,{})},get children(){return t(C,{get when(){return r.data},get fallback(){return t(w,{})},get children(){return[t(C,{get when(){return r.data?.pages?.[0]?.bannerUrl},get children(){var c=_(Xe);return ne(()=>re(c,"src",r.data?.pages[0].bannerUrl)),c}}),(()=>{var c=_(Ye),v=c.firstChild,p=v.nextSibling,D=p.nextSibling,[T,$]=S(D.nextSibling),E=T.nextSibling,[O,F]=S(E.nextSibling);return x(p,()=>r.data?.pages?.[0]?.name),x(c,t(C,{get when(){return r.data?.pages?.[0]?.verified},get children(){return t(he,{})}}),T,$),x(c,t(C,{get when(){return r.data?.pages?.[0]?.id},get children(){var X=_(Qe);return x(X,t(Ne,{get name(){return r.data?.pages[0].name},get id(){return r.data?.pages[0].id}})),X}}),O,F),ne(()=>re(v,"src",r.data?.pages?.[0]?.avatarUrl)),c})(),t(st,{get description(){return r.data?.pages?.[0]?.description??""}}),t(ze,{class:"w-full min-h-screen",get value(){return b()},onChange:c=>y(c),activationMode:"manual",get children(){return[t(Be,{class:"relative flex items-center border-b overflow-x-auto scrollbar [&::-webkit-scrollbar]:!h-1",get children(){return[t(q,{each:["videos","shorts","livestreams","playlists","channels"],children:c=>t(We,{class:"inline-block pl-1 pt-2 pr-4 outline-none hover:bg-primary/20 focus-visible:bg-primary/20 first-letter:uppercase",value:c,children:c})}),t(Oe,{class:"absolute -bottom-px w-full h-[2px] bg-primary transition-all duration-250"})]}}),t(Je,{appear:!0,enterActiveClass:"transition-all ease-in-out duration-250 transform",get enterClass(){return h()?"-translate-x-full":"translate-x-full"},enterToClass:"translate-x-0",exitActiveClass:"transition-all ease-in-out duration-250 transform",exitClass:"translate-x-0",get exitToClass(){return h()?"translate-x-full":"-translate-x-full"},get children(){return[t(U,{value:"videos",get children(){var c=_(Ze),v=c.firstChild,[p,D]=S(v.nextSibling),T=p.nextSibling,[$,E]=S(T.nextSibling),O=$.nextSibling;return x(c,t(C,{get when(){return r.error},get children(){return JSON.stringify(r.error)}}),p,D),x(c,t(k,{get fallback(){return t(w,{})},get children(){return t(C,{get when(){return r.data},get children(){return t(z,{get fallback(){return t(w,{})},get children(){return[t(L,{get when(){return r.data.pages&&r.data.pages.length>0&&!r.data.pages[0].relatedStreams?.length},get children(){return t(J,{})}}),t(L,{get when(){return r.isSuccess&&r.data.pages.length>0&&r.data.pages[0].relatedStreams?.length},get children(){return t(q,{get each(){return r.data?.pages?.map(F=>F.relatedStreams??[]).flat()},children:F=>t(se,{v:F})})}})]}})}})}}),$,E),W(F=>g(F),O),c}}),t(U,{value:"shorts",get children(){return t(k,{get fallback(){return t(w,{})},get children(){return t(ot,{get tabData(){return a().find(c=>c.name=="shorts")?.data}})}})}}),t(U,{value:"playlists",get children(){return t(k,{get fallback(){return t(w,{})},get children(){return t(ct,{get tabData(){return a().find(c=>c.name=="playlists")?.data}})}})}}),t(U,{value:"livestreams",get children(){return t(k,{get fallback(){return t(w,{})},get children(){return t(lt,{get tabData(){return a().find(c=>c.name=="livestreams")?.data}})}})}}),t(U,{value:"channels",get children(){return t(k,{get fallback(){return t(w,{})},get children(){return t(ut,{get tabData(){return a().find(c=>c.name=="channels")?.data}})}})}})]}})]}})]}})}})}const st=a=>{const[n,e]=P(!0);return(()=>{var s=_(et);return x(s,(()=>{var b=N(()=>!!n());return()=>b()?(()=>{var d=_(tt),i=d.firstChild,[r,l]=S(i.nextSibling),o=r.nextSibling,g=o.nextSibling,u=g.nextSibling;return x(d,()=>a.description.slice(0,200),r,l),u.$$click=()=>e(!1),oe(),d})():(()=>{var d=_(nt),i=d.firstChild,[r,l]=S(i.nextSibling),o=r.nextSibling,g=o.nextSibling;return x(d,()=>a.description,r,l),g.$$click=()=>e(!0),oe(),d})()})()),s})()},ot=a=>{const[n]=H(),e=G(()=>({queryKey:["shortsTab",a.tabData,n.instance.api_url],queryFn:i=>ee(n.instance.api_url,a.tabData,i),getNextPageParam:i=>i.nextpage,enabled:!!(a.tabData&&n?.instance?.api_url),initialPageParam:void 0})),s=V({setTarget:()=>b(),threshold:.1}),[b,d]=P(void 0);return I(()=>{if(s()){if(console.log("intersecting"),e.isFetchingNextPage||!e.hasNextPage)return;e.fetchNextPage(),console.log(e.data)}}),t(k,{get fallback(){return t(w,{})},get children(){return[(()=>{var i=_(Y),r=i.firstChild,[l,o]=S(r.nextSibling),g=l.nextSibling,[u,f]=S(g.nextSibling);return x(i,t(C,{get when(){return e.data},get children(){return t(z,{get fallback(){return t(w,{})},get children(){return[t(L,{get when(){return e.data.pages&&e.data.pages.length>0&&!e.data.pages[0].content?.length},get children(){return t(J,{})}}),t(L,{get when(){return e.isSuccess&&e.data.pages.length>0&&e.data.pages[0].content?.length},get children(){return t(q,{get each(){return e.data?.pages?.map(h=>h.content??[]).flat()},children:h=>t(se,{v:h})})}})]}})}}),l,o),x(i,t(C,{get when(){return e.error},get children(){return t(ErrorMessage,{get error(){return e.error}})}}),u,f),i})(),(()=>{var i=_(Z);return W(r=>d(r),i),i})()]}})},lt=a=>{const[n]=H(),e=G(()=>({queryKey:["livestreamsTab",a.tabData,n.instance.api_url],queryFn:i=>ee(n.instance.api_url,a.tabData,i),getNextPageParam:i=>i.nextpage,enabled:!!(a.tabData&&n?.instance?.api_url),initialPageParam:void 0})),s=V({setTarget:()=>b(),threshold:.1}),[b,d]=P(void 0);return I(()=>{if(s()){if(console.log("intersecting"),e.isFetchingNextPage||!e.hasNextPage)return;e.fetchNextPage(),console.log(e.data)}}),t(k,{get fallback(){return t(w,{})},get children(){return[(()=>{var i=_(Y),r=i.firstChild,[l,o]=S(r.nextSibling),g=l.nextSibling,[u,f]=S(g.nextSibling);return x(i,t(C,{get when(){return e.data},get children(){return t(z,{get fallback(){return t(w,{})},get children(){return[t(L,{get when(){return e.data.pages&&e.data.pages.length>0&&!e.data.pages[0].content?.length},get children(){return t(J,{})}}),t(L,{get when(){return e.isSuccess&&e.data.pages.length>0&&e.data.pages[0].content?.length},get children(){return t(q,{get each(){return e.data?.pages?.map(h=>h.content??[]).flat()},children:h=>t(se,{v:h})})}})]}})}}),l,o),x(i,t(C,{get when(){return e.error},get children(){return t(ErrorMessage,{get error(){return e.error}})}}),u,f),i})(),(()=>{var i=_(Z);return W(r=>d(r),i),i})()]}})},ct=a=>{const[n]=H(),e=G(()=>({queryKey:["playlistsTab",a.tabData,n.instance.api_url],queryFn:i=>ee(n.instance.api_url,a.tabData,i),getNextPageParam:i=>i.nextpage,enabled:!!(a.tabData&&n?.instance?.api_url),initialPageParam:void 0})),s=V({setTarget:()=>b(),threshold:.1}),[b,d]=P(void 0);return I(()=>{if(s()){if(console.log("intersecting"),e.isFetchingNextPage||!e.hasNextPage)return;e.fetchNextPage(),console.log(e.data)}}),t(k,{get fallback(){return t(w,{})},get children(){return[(()=>{var i=_(Y),r=i.firstChild,[l,o]=S(r.nextSibling),g=l.nextSibling,[u,f]=S(g.nextSibling);return x(i,t(C,{get when(){return e.data},get children(){return t(z,{get fallback(){return t(w,{})},get children(){return[t(L,{get when(){return e.data.pages&&e.data.pages.length>0&&!e.data.pages[0].content?.length},get children(){return t(J,{})}}),t(L,{get when(){return e.isSuccess&&e.data.pages.length>0&&e.data.pages[0].content?.length},get children(){return t(q,{get each(){return e.data?.pages?.map(h=>h.content??[]).flat()},children:h=>t(Ae,{item:h})})}})]}})}}),l,o),x(i,t(C,{get when(){return e.error},get children(){return t(ErrorMessage,{get error(){return e.error}})}}),u,f),i})(),(()=>{var i=_(Z);return W(r=>d(r),i),i})()]}})},ut=a=>{const[n]=H(),e=G(()=>({queryKey:["channelsTab",a.tabData,n.instance.api_url],queryFn:i=>ee(n.instance.api_url,a.tabData,i),getNextPageParam:i=>i.nextpage,enabled:!!(a.tabData&&n?.instance?.api_url),initialPageParam:void 0})),s=V({setTarget:()=>b(),threshold:.1}),[b,d]=P(void 0);return I(()=>{if(s()){if(console.log("intersecting"),e.isFetchingNextPage||!e.hasNextPage)return;e.fetchNextPage(),console.log(e.data)}}),t(k,{get fallback(){return t(w,{})},get children(){return[(()=>{var i=_(Y),r=i.firstChild,[l,o]=S(r.nextSibling),g=l.nextSibling,[u,f]=S(g.nextSibling);return x(i,t(C,{get when(){return e.data},get children(){return t(z,{get fallback(){return t(w,{})},get children(){return[t(L,{get when(){return e.data.pages&&e.data.pages.length>0&&!e.data.pages[0].content?.length},get children(){return t(J,{})}}),t(L,{get when(){return e.isSuccess&&e.data.pages.length>0&&e.data.pages[0].content?.length},get children(){return t(q,{get each(){return e.data?.pages.map(h=>h.content).flat()},children:h=>(()=>{var m=_(it),y=m.firstChild,[c,v]=S(y.nextSibling),p=c.nextSibling,[D,T]=S(p.nextSibling);return x(m,t(ce,{get href(){return h.url},class:"group outline-none",get children(){var $=_(rt),E=$.firstChild;return ne(()=>re(E,"src",h.thumbnail)),$}}),c,v),x(m,t(ce,{class:"link",get href(){return h.url},get children(){var $=_(at),E=$.firstChild,O=E.nextSibling,[F,X]=S(O.nextSibling);return x(E,()=>h.name),x($,t(C,{get when(){return h.verified},get children(){return t(he,{})}}),F,X),$}}),D,T),m})()})}})]}})}}),l,o),x(i,t(C,{get when(){return e.error},get children(){return t(ErrorMessage,{get error(){return e.error}})}}),u,f),i})(),(()=>{var i=_(Z);return W(r=>d(r),i),i})()]}})};we(["click"]);export{St as default};
//# sourceMappingURL=_id_-DgxJ7Y-D.js.map
