{"version":3,"file":"srt-parser-CLUj-8Vk.js","sources":["../../../../../node_modules/.pnpm/media-captions@1.0.3/node_modules/media-captions/dist/prod/srt-parser.js"],"sourcesContent":["import { V as VTTParser, a as VTTBlock, b as VTTCue } from './index.js';\n\nconst MILLISECOND_SEP_RE = /,/g, TIMESTAMP_SEP = \"-->\";\nclass SRTParser extends VTTParser {\n  parse(line, lineCount) {\n    if (line === \"\") {\n      if (this.a) {\n        this.j.push(this.a);\n        this.f.onCue?.(this.a);\n        this.a = null;\n      }\n      this.c = VTTBlock.None;\n    } else if (this.c === VTTBlock.Cue) {\n      this.a.text += (this.a.text ? \"\\n\" : \"\") + line;\n    } else if (line.includes(TIMESTAMP_SEP)) {\n      const result = this.o(line, lineCount);\n      if (result) {\n        this.a = new VTTCue(result[0], result[1], result[2].join(\" \"));\n        this.a.id = this.l;\n        this.c = VTTBlock.Cue;\n      }\n    }\n    this.l = line;\n  }\n  o(line, lineCount) {\n    return super.o(line.replace(MILLISECOND_SEP_RE, \".\"), lineCount);\n  }\n}\nfunction createSRTParser() {\n  return new SRTParser();\n}\n\nexport { SRTParser, createSRTParser as default };\n"],"names":["MILLISECOND_SEP_RE","TIMESTAMP_SEP","SRTParser","VTTParser","parse","line","lineCount","a","j","push","f","onCue","c","VTTBlock","None","Cue","text","includes","result","o","VTTCue","join","id","l","replace","createSRTParser"],"mappings":"mQAEA,MAAMA,EAAqB,KAAMC,EAAgB,MACjD,MAAMC,UAAkBC,CAAU,CAChCC,MAAMC,EAAMC,EAAW,CACrB,GAAID,IAAS,GACP,KAAKE,IACP,KAAKC,EAAEC,KAAK,KAAKF,CAAC,EAClB,KAAKG,EAAEC,QAAQ,KAAKJ,CAAC,EACrB,KAAKA,EAAI,MAEX,KAAKK,EAAIC,EAASC,aACT,KAAKF,IAAMC,EAASE,IAC7B,KAAKR,EAAES,OAAS,KAAKT,EAAES,KAAO;AAAA,EAAO,IAAMX,UAClCA,EAAKY,SAAShB,CAAa,EAAG,CACvC,MAAMiB,EAAS,KAAKC,EAAEd,EAAMC,CAAS,EACjCY,IACF,KAAKX,EAAI,IAAIa,EAAOF,EAAO,CAAC,EAAGA,EAAO,CAAC,EAAGA,EAAO,CAAC,EAAEG,KAAK,GAAG,CAAC,EAC7D,KAAKd,EAAEe,GAAK,KAAKC,EACjB,KAAKX,EAAIC,EAASE,IAEtB,CACA,KAAKQ,EAAIlB,CACX,CACAc,EAAEd,EAAMC,EAAW,CACjB,OAAO,MAAMa,EAAEd,EAAKmB,QAAQxB,EAAoB,GAAG,EAAGM,CAAS,CACjE,CACF,CACA,SAASmB,GAAkB,CACzB,OAAO,IAAIvB,CACb","x_google_ignoreList":[0]}