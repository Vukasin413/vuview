import{j as y,e as l,r as a,K as b,w as i,S as x,y as s,v as D,L as p,N as v,M as F,a as O,T as C,Q as L}from"./routing-BmD2xUmi.js";import{L as I,C as T,E as j,F as B,J as E,G,aL as w,M as z,aM as A,R as M,H,Q as R,aG as J}from"./syncStore-BssUQgBy.js";import{h as Q}from"./index-Cb4tY8hP.js";import{m as q,u as K,v as V,s as W,o as X}from"./index-BnPmuIsI.js";import{L as S}from"./Link-Dg-h0Eyu.js";var Y=s('<div class="flex items-center gap-2"><!$><!/><div class=text-text1>Share'),Z=s('<span class="text-text2 max-w-xs truncate">'),ee=s('<div class="flex items-center gap-2"><!$><!/><!$><!/><div class=text-text1>'),te=s('<div class="flex items-center gap-2"><!$><!/><div class=text-text1>Block'),le=s('<div class="flex items-center gap-2"><!$><!/><div class=text-text1>Debug info'),re=s('<pre class="break-all text-text1 max-w-full min-w-0 overflow-auto z-[9999999]">');function ie(e){const[r,o]=y(!1),[u,c]=y(!1),m=I();return[l(H,{overlap:!0,get open(){return r()},onOpenChange:o,gutter:0,modal:!0,hideWhenDetached:!0,get children(){return[l(T,{class:"p-1 outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md",get children(){return l(Q,{fill:"currentColor",class:"text-text2 w-6 h-6 group-hover:text-text1"})}}),l(j,{get children(){return l(B,{onTouchEnd:async t=>{await E(),t.preventDefault(),t.stopPropagation()},class:`bg-bg1 border border-bg2 shadow p-2 rounded-md z-50
                -translate-y-4
                animate-in
                fade-in
                slide-in-from-top-10
                duration-200
                `,get children(){return[l(G,{}),l(w,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:t=>{t.stopPropagation()},onPointerUp:t=>{t.stopPropagation()},onSelect:()=>{},get children(){var t=a(Y),d=t.firstChild,[n,f]=b(d.nextSibling);return n.nextSibling,i(t,l(q,{}),n,f),t}}),l(x,{get when(){return e.item.uploaderName&&e.item.uploaderUrl},get children(){return l(z,{class:"mt-2",get children(){return[l(A,{class:"flex items-center gap-2",get children(){var t=a(Z);return i(t,()=>e.item.uploaderName),t}}),l(w,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border- hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:t=>{t.stopPropagation()},onPointerUp:t=>{t.stopPropagation()},onSelect:()=>{const t=e.item.uploaderUrl.split("/channel/")[1];m.store.subscriptions[t]?(m.setStore("subscriptions",t,void 0),M.success(`Unsubscribed from ${e.item.uploaderName}.`)):(m.setStore("subscriptions",t,{subscribedAt:Date.now()}),M.success(`Subscribed to ${e.item.uploaderName}.`))},get children(){var t=a(ee),d=t.firstChild,[n,f]=b(d.nextSibling),$=n.nextSibling,[h,g]=b($.nextSibling),_=h.nextSibling;return i(t,l(x,{get when(){return m.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]},get children(){return l(K,{})}}),n,f),i(t,l(x,{get when(){return!m.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]},get children(){return l(V,{})}}),h,g),i(_,()=>m.store.subscriptions[e.item.uploaderUrl.split("/channel/")[1]]?"Unsubscribe":"Subscribe"),t}}),l(w,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onClick:t=>{t.stopPropagation()},onPointerUp:t=>{t.stopPropagation()},onSelect:()=>{},get children(){var t=a(te),d=t.firstChild,[n,f]=b(d.nextSibling);return n.nextSibling,i(t,l(W,{}),n,f),t}})]}})}}),l(w,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded  hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",onSelect:()=>c(!0),get children(){var t=a(le),d=t.firstChild,[n,f]=b(d.nextSibling);return n.nextSibling,i(t,l(X,{fill:"currentColor"}),n,f),t}})]}})}})]}}),l(R,{get isOpen(){return u()},setIsOpen:c,title:"Debug info",get children(){var t=a(re);return i(t,()=>JSON.stringify(e.item,null,2)),t}})]}var ne=s('<div><div></div><div><div><!$><!/><!$><!/></div><div class="flex flex-col justify-start min-w-[32px]">'),ae=s('<div class="flex flex-col gap-1"><div aria-hidden=true class="animate-pulse bg-bg2 w-full rounded-lg h-4 "></div><div aria-hidden=true class="animate-pulse bg-bg2 w-1/2 h-4 rounded-lg ">'),se=s('<img width=2560 height=1440 alt=""loading=lazy>'),oe=s('<div class="relative h-0 w-12 place-self-end lg:w-16 "><div class="absolute w-max bottom-2 right-2 bg-bg1/90 rounded px-1 py-px border border-bg2 text-xs"><!$><!/><!$><!/>'),ue=s('<div><div class="animate-pulse bg-bg2 aspect-video h-full overflow-hidden max-w-fit w-full"><div class="w-96 h-full">'),P=s('<div class="peer w-fit truncate max-w-[10rem]">'),de=s('<div class="flex gap-1 text-text2 w-full max-w-full "><div class="flex w-full flex-col text-xs ">'),ce=s('<div class="flex flex-col gap-2 pr-2 w-full "><div class="flex gap-2 text-text2"><div class="animate-pulse bg-bg2 w-8 h-8 aspect-square rounded-full"></div><div class="flex w-full flex-col gap-2 justify-center"><div class="animate-pulse bg-bg2 w-32 h-4 rounded-lg">');const _e=e=>(e=D({layout:"sm:grid"},e),(()=>{var r=a(ne),o=r.firstChild,u=o.nextSibling,c=u.firstChild,m=c.firstChild,[t,d]=b(m.nextSibling),n=t.nextSibling,[f,$]=b(n.nextSibling),h=c.nextSibling;return i(o,l(x,{get when(){return e.item},get fallback(){return l(me,{get layout(){return e.layout}})},get children(){return l(ge,{get url(){return e.item.url},get src(){return e.item.thumbnail},get videos(){return e.item.videos}})}})),i(c,l(x,{get when(){return e.item},get fallback(){return a(ae)},get children(){return l(J,{as:"div",placement:"top",openDelay:1e3,get triggerSlot(){return l(S,{get href(){return e.item.url},class:"rounded text-start two-line-ellipsis min-w-0 py-1 outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){return e.item.name}})},get contentSlot(){return e.item.name}})}}),t,d),i(c,l(x,{get when(){return e.item},get fallback(){return l(be,{})},get children(){return l(fe,{get url(){return e.item.url},get title(){return e.item.name},get uploaderName(){return e.item.uploaderName},get uploaderUrl(){return e.item.uploaderUrl}})}}),f,$),i(h,l(x,{get when(){return e.item},get children(){return l(ie,{get item(){return e.item}})}})),p(g=>{var _={"flex flex-row gap-2 mx-1 items-start rounded-xl bg-bg1 p-2 ":!0,"min-w-full":e.layout==="list","sm:max-w-max  sm:flex-col sm:w-72 sm:gap-0 min-w-full sm:min-w-0":e.layout==="sm:grid","h-max max-h-max max-w-max flex-col w-full gap-2 sm:w-72":e.layout==="grid"},U={"aspect-video overflow-hidden rounded":!0,"max-h-96":e.layout==="list","max-h-44 min-w-min sm:max-h-full sm:w-full":e.layout==="sm:grid"},N={"flex w-full min-w-0 justify-between h-full  sm:mt-2 max-h-20":!0,"max-w-[22rem]":e.layout==="grid"},k={"flex flex-col min-w-0 gap-2 pr-2 h-full w-full":!0,"max-w-[10rem] [@media(min-width:380px)]:max-w-[11rem] [@media(min-width:400px)]:max-w-full":e.layout==="sm:grid"||e.layout==="list","max-w-full":e.layout==="grid"};return g.e=v(r,_,g.e),g.t=v(o,U,g.t),g.a=v(u,N,g.a),g.o=v(c,k,g.o),g},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()),ge=e=>l(S,{get href(){return e.url},class:"relative w-[10rem] flex aspect-video sm:w-full flex-col overflow-hidden rounded sm:min-w-min text-text1 outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){return[(()=>{var r=a(se);return v(r,{"cursor-pointer w-full sm:min-w-[10rem] aspect-video max-w-md break-words ":!0}),p(()=>F(r,"src",e.src)),r})(),(()=>{var r=a(oe),o=r.firstChild,u=o.firstChild,[c,m]=b(u.nextSibling),t=c.nextSibling,[d,n]=b(t.nextSibling);return i(o,l(x,{get when(){return e.videos<1},children:"Mix"}),c,m),i(o,l(x,{get when(){return e.videos>=1},get children(){return[O(()=>e.videos)," videos"]}}),d,n),r})()]}}),me=e=>(()=>{var r=a(ue);return p(o=>v(r,{"relative flex aspect-video min-w-0 flex-col rounded-lg overflow-hidden":!0,"w-full":e.layout==="grid","w-[10rem] sm:w-full sm:max-w-[18rem]":e.layout==="sm:grid","w-[10rem]":e.layout==="list"},o)),r})(),fe=e=>(()=>{var r=a(de),o=r.firstChild;return i(o,l(L,{get children(){return[l(C,{get when(){return e.uploaderName&&e.uploaderUrl},get children(){return l(S,{get href(){return e.uploaderUrl||""},class:"rounded outline-none focus-visible:ring-2 focus-visible:ring-primary",get children(){var u=a(P);return i(u,()=>e.uploaderName),u}})}}),l(C,{get when(){return e.uploaderName&&!e.uploaderUrl},get children(){var u=a(P);return i(u,()=>e.uploaderName),u}})]}})),r})(),be=()=>a(ce);export{_e as P};
//# sourceMappingURL=PlaylistCard-BxVwlLgx.js.map
