function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/vidstack-google-cast-BYvedlU3.js","assets/syncStore-BssUQgBy.js","assets/routing-BmD2xUmi.js","assets/Link-Dg-h0Eyu.js","assets/components-BMGKah2q.js","assets/index-BnPmuIsI.js","assets/index-DPECAXpK.js","assets/index-Cb4tY8hP.js","assets/syncStore-CgD1nZSu.css","assets/vidstack-CpkvFYuN-DVxRo5ek.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{br as d,b0 as g,bf as p,bs as u,aR as m,_ as C,b3 as h}from"./syncStore-BssUQgBy.js";function f(){return"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"}function w(){return!!window.cast?.framework}function v(){return!!window.chrome?.cast?.isAvailable}function c(){return s().getCastState()===cast.framework.CastState.CONNECTED}function s(){return window.cast.framework.CastContext.getInstance()}function l(){return s().getCurrentSession()}function E(){return l()?.getSessionObj().media[0]}function I(o){return E()?.media.contentId===o?.src}function y(){return{language:"en-US",autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,resumeSavedSession:!0,androidReceiverCompatible:!0}}function _(o){return`Google Cast Error Code: ${o}`}function O(o,e){return d(s(),o,e)}class S{constructor(){this.name="google-cast"}get cast(){return s()}mediaType(){return"video"}canPlay(e){return g&&!p&&u(e)}async prompt(e){let t,a,r;try{t=await this.Pl(e),this.aa||(this.aa=new cast.framework.RemotePlayer,new cast.framework.RemotePlayerController(this.aa)),a=e.player.createEvent("google-cast-prompt-open",{trigger:t}),e.player.dispatchEvent(a),this.pm(e,"connecting",a),await this.Rl(m(e.$props.googleCast)),e.$state.remotePlaybackInfo.set({deviceName:l()?.getCastDevice().friendlyName}),c()&&this.pm(e,"connected",a)}catch(n){const i=n instanceof Error?n:this.Oo((n+"").toUpperCase(),"Prompt failed.");throw r=e.player.createEvent("google-cast-prompt-error",{detail:i,trigger:a??t,cancelable:!0}),e.player.dispatch(r),this.pm(e,c()?"connected":"disconnected",r),i}finally{e.player.dispatch("google-cast-prompt-close",{trigger:r??a??t})}}async load(e){if(!this.aa)throw Error("[vidstack] google cast player was not initialized");return new(await C(()=>import("./vidstack-google-cast-BYvedlU3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))).GoogleCastProvider(this.aa,e)}async Pl(e){if(w())return;const t=e.player.createEvent("google-cast-load-start");e.player.dispatch(t),await h(f()),await customElements.whenDefined("google-cast-launcher");const a=e.player.createEvent("google-cast-loaded",{trigger:t});if(e.player.dispatch(a),!v())throw this.Oo("CAST_NOT_AVAILABLE","Google Cast not available on this platform.");return a}async Rl(e){this.Tl(e);const t=await this.cast.requestSession();if(t)throw this.Oo(t.toUpperCase(),_(t))}Tl(e){this.cast?.setOptions({...y(),...e})}pm(e,t,a){const r={type:"google-cast",state:t};e.delegate.c("remote-playback-change",r,a)}Oo(e,t){const a=Error(t);return a.code=e,a}}const P=Object.freeze(Object.defineProperty({__proto__:null,GoogleCastLoader:S},Symbol.toStringTag,{value:"Module"}));export{l as a,E as b,_ as c,s as g,I as h,O as l,P as v};
//# sourceMappingURL=vidstack-DZeWSaI_-B-nP6Zb8.js.map
