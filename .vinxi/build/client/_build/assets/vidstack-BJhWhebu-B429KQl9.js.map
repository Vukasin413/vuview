{"version":3,"file":"vidstack-BJhWhebu-B429KQl9.js","sources":["../../../../../node_modules/.pnpm/vidstack@1.11.13/node_modules/vidstack/prod/providers/vidstack-html.js","../../../../../node_modules/.pnpm/vidstack@1.11.13/node_modules/vidstack/prod/chunks/vidstack-BJhWhebu.js"],"sourcesContent":["import { b as IS_IOS, w as IS_SAFARI, p as isHLSSrc, r as isMediaStream } from '../chunks/vidstack-BupzoABp.js';\nimport { $ as useDisposalBin, g as effect, q as onDispose, l as listenEvent, p as peek, a0 as isNil, D as DOMEvent, r as createScope, s as setAttribute, i as isString } from '../chunks/vidstack-CSyVEdLV.js';\nimport { R as RAFLoop } from '../chunks/vidstack-CpkvFYuN.js';\nimport { g as getNumberOfDecimalPlaces } from '../chunks/vidstack-ksPACRiU.js';\nimport { L as ListSymbol } from '../chunks/vidstack-CerDQCFL.js';\n\nlet audioContext = null, gainNodes = [], elAudioSources = [];\nfunction getOrCreateAudioCtx() {\n  return audioContext ??= new AudioContext();\n}\nfunction createGainNode() {\n  const audioCtx = getOrCreateAudioCtx(), gainNode = audioCtx.createGain();\n  gainNode.connect(audioCtx.destination);\n  gainNodes.push(gainNode);\n  return gainNode;\n}\nfunction createElementSource(el, gainNode) {\n  const audioCtx = getOrCreateAudioCtx(), src = audioCtx.createMediaElementSource(el);\n  if (gainNode) {\n    src.connect(gainNode);\n  }\n  elAudioSources.push(src);\n  return src;\n}\nfunction destroyGainNode(node) {\n  const idx = gainNodes.indexOf(node);\n  if (idx !== -1) {\n    gainNodes.splice(idx, 1);\n    node.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction destroyElementSource(src) {\n  const idx = elAudioSources.indexOf(src);\n  if (idx !== -1) {\n    elAudioSources.splice(idx, 1);\n    src.disconnect();\n    freeAudioCtxWhenAllResourcesFreed();\n  }\n}\nfunction freeAudioCtxWhenAllResourcesFreed() {\n  if (audioContext && gainNodes.length === 0 && elAudioSources.length === 0) {\n    audioContext.close().then(() => {\n      audioContext = null;\n    });\n  }\n}\n\nclass AudioGain {\n  constructor(_media, _onChange) {\n    this.a = _media;\n    this.B = _onChange;\n    this.Cn = null;\n    this.Dn = null;\n  }\n  get currentGain() {\n    return this.Cn?.gain?.value ?? null;\n  }\n  get supported() {\n    return true;\n  }\n  setGain(gain) {\n    const currGain = this.currentGain;\n    if (gain === this.currentGain) {\n      return;\n    }\n    if (gain === 1 && currGain !== 1) {\n      this.removeGain();\n      return;\n    }\n    if (!this.Cn) {\n      this.Cn = createGainNode();\n      if (this.Dn) {\n        this.Dn.connect(this.Cn);\n      }\n    }\n    if (!this.Dn) {\n      this.Dn = createElementSource(this.a, this.Cn);\n    }\n    this.Cn.gain.value = gain;\n    this.B(gain);\n  }\n  removeGain() {\n    if (!this.Cn)\n      return;\n    if (this.Dn) {\n      this.Dn.connect(getOrCreateAudioCtx().destination);\n    }\n    this.En();\n    this.B(null);\n  }\n  destroy() {\n    this.Fn();\n    this.En();\n  }\n  Fn() {\n    if (!this.Dn)\n      return;\n    try {\n      destroyElementSource(this.Dn);\n    } catch (e) {\n    } finally {\n      this.Dn = null;\n    }\n  }\n  En() {\n    if (!this.Cn)\n      return;\n    try {\n      destroyGainNode(this.Cn);\n    } catch (e) {\n    } finally {\n      this.Cn = null;\n    }\n  }\n}\n\nclass HTMLMediaEvents {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.sa = useDisposalBin();\n    this.Cb = false;\n    this.$c = false;\n    this.ad = false;\n    this.Da = new RAFLoop(this.bd.bind(this));\n    this.Qe = void 0;\n    this.Dg = void 0;\n    this.pg();\n    effect(this.qg.bind(this));\n    onDispose(this.cd.bind(this));\n  }\n  get a() {\n    return this.i.media;\n  }\n  get c() {\n    return this.b.delegate.c;\n  }\n  cd() {\n    this.$c = false;\n    this.ad = false;\n    this.Da.ra();\n    this.sa.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  bd() {\n    const newTime = this.a.currentTime;\n    if (this.b.$state.realCurrentTime() !== newTime)\n      this.$a(newTime);\n  }\n  pg() {\n    this.t(\"loadstart\", this.Ea);\n    this.t(\"abort\", this.Pe);\n    this.t(\"emptied\", this.rg);\n    this.t(\"error\", this.U);\n    this.t(\"volumechange\", this.ab);\n  }\n  sg() {\n    if (this.$c)\n      return;\n    this.sa.add(\n      this.t(\"loadeddata\", this.tg),\n      this.t(\"loadedmetadata\", this.ug),\n      this.t(\"canplay\", this.hc),\n      this.t(\"canplaythrough\", this.vg),\n      this.t(\"durationchange\", this.wg),\n      this.t(\"play\", this.xb),\n      this.t(\"progress\", this.ic),\n      this.t(\"stalled\", this.xg),\n      this.t(\"suspend\", this.yg),\n      this.t(\"ratechange\", this.Bg)\n    );\n    this.$c = true;\n  }\n  zg() {\n    if (this.ad)\n      return;\n    this.sa.add(\n      this.t(\"pause\", this.Aa),\n      this.t(\"playing\", this.Ag),\n      this.t(\"seeked\", this.bb),\n      this.t(\"seeking\", this.Cg),\n      this.t(\"ended\", this.Db),\n      this.t(\"waiting\", this.dd)\n    );\n    this.ad = true;\n  }\n  t(eventType, handler) {\n    return listenEvent(\n      this.a,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  Eg(event2) {\n    return;\n  }\n  $a(time, trigger) {\n    const detail = {\n      // Avoid errors where `currentTime` can have higher precision.\n      currentTime: Math.min(time, this.b.$state.seekableEnd()),\n      played: this.a.played\n    };\n    this.c(\"time-update\", detail, trigger);\n  }\n  Ea(event2) {\n    if (this.a.networkState === 3) {\n      this.Pe(event2);\n      return;\n    }\n    this.sg();\n    this.c(\"load-start\", void 0, event2);\n  }\n  Pe(event2) {\n    this.c(\"abort\", void 0, event2);\n  }\n  rg() {\n    this.c(\"emptied\", void 0, event);\n  }\n  tg(event2) {\n    this.c(\"loaded-data\", void 0, event2);\n  }\n  ug(event2) {\n    this.zg();\n    this.c(\"loaded-metadata\", void 0, event2);\n    if (IS_IOS || IS_SAFARI && isHLSSrc(this.b.$state.source())) {\n      this.b.delegate.jc(this.ed(), event2);\n    }\n  }\n  ed() {\n    return {\n      provider: peek(this.b.$provider),\n      duration: this.a.duration,\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n  }\n  xb(event2) {\n    if (!this.b.$state.canPlay)\n      return;\n    this.c(\"play\", void 0, event2);\n  }\n  Aa(event2) {\n    if (this.a.readyState === 1 && !this.Cb)\n      return;\n    this.Cb = false;\n    this.Da.ra();\n    this.c(\"pause\", void 0, event2);\n  }\n  hc(event2) {\n    this.b.delegate.jc(this.ed(), event2);\n  }\n  vg(event2) {\n    if (this.b.$state.started())\n      return;\n    this.c(\"can-play-through\", this.ed(), event2);\n  }\n  Ag(event2) {\n    this.Cb = false;\n    this.c(\"playing\", void 0, event2);\n    this.Da.Bb();\n  }\n  xg(event2) {\n    this.c(\"stalled\", void 0, event2);\n    if (this.a.readyState < 3) {\n      this.Cb = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  dd(event2) {\n    if (this.a.readyState < 3) {\n      this.Cb = true;\n      this.c(\"waiting\", void 0, event2);\n    }\n  }\n  Db(event2) {\n    this.Da.ra();\n    this.$a(this.a.duration, event2);\n    this.c(\"end\", void 0, event2);\n    if (this.b.$state.loop()) {\n      const hasCustomControls = isNil(this.a.controls);\n      if (hasCustomControls)\n        this.a.controls = false;\n    }\n  }\n  qg() {\n    if (this.b.$state.paused()) {\n      listenEvent(this.a, \"timeupdate\", this.Eb.bind(this));\n    }\n  }\n  Eb(event2) {\n    this.$a(this.a.currentTime, event2);\n  }\n  wg(event2) {\n    if (this.b.$state.ended()) {\n      this.$a(this.a.duration, event2);\n    }\n    this.c(\"duration-change\", this.a.duration, event2);\n  }\n  ab(event2) {\n    const detail = {\n      volume: this.a.volume,\n      muted: this.a.muted\n    };\n    this.c(\"volume-change\", detail, event2);\n  }\n  bb(event2) {\n    this.$a(this.a.currentTime, event2);\n    this.c(\"seeked\", this.a.currentTime, event2);\n    if (Math.trunc(this.a.currentTime) === Math.trunc(this.a.duration) && getNumberOfDecimalPlaces(this.a.duration) > getNumberOfDecimalPlaces(this.a.currentTime)) {\n      this.$a(this.a.duration, event2);\n      if (!this.a.ended) {\n        this.b.player.dispatch(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  Cg(event2) {\n    this.c(\"seeking\", this.a.currentTime, event2);\n  }\n  ic(event2) {\n    const detail = {\n      buffered: this.a.buffered,\n      seekable: this.a.seekable\n    };\n    this.c(\"progress\", detail, event2);\n  }\n  yg(event2) {\n    this.c(\"suspend\", void 0, event2);\n  }\n  Bg(event2) {\n    this.c(\"rate-change\", this.a.playbackRate, event2);\n  }\n  U(event2) {\n    const error = this.a.error;\n    if (!error)\n      return;\n    const detail = {\n      message: error.message,\n      code: error.code,\n      mediaError: error\n    };\n    this.c(\"error\", detail, event2);\n  }\n}\n\nclass NativeAudioTracks {\n  constructor(_provider, _ctx) {\n    this.i = _provider;\n    this.b = _ctx;\n    this.Fb.onaddtrack = this.Fg.bind(this);\n    this.Fb.onremovetrack = this.Gg.bind(this);\n    this.Fb.onchange = this.Hg.bind(this);\n    listenEvent(this.b.audioTracks, \"change\", this.Ig.bind(this));\n  }\n  get Fb() {\n    return this.i.media.audioTracks;\n  }\n  Fg(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const id = _track.id.toString() || `native-audio-${this.b.audioTracks.length}`, audioTrack = {\n      id,\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.b.audioTracks[ListSymbol.oa](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  Gg(event) {\n    const track = this.b.audioTracks.getById(event.track.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.Yb](track, event);\n  }\n  Hg(event) {\n    let enabledTrack = this.Re();\n    if (!enabledTrack)\n      return;\n    const track = this.b.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.b.audioTracks[ListSymbol.pa](track, true, event);\n  }\n  Re() {\n    return Array.from(this.Fb).find((track) => track.enabled);\n  }\n  Ig(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.Fb.getTrackById(current.id);\n    if (track) {\n      const prev = this.Re();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nclass HTMLMediaProvider {\n  constructor(_media, _ctx) {\n    this.a = _media;\n    this.b = _ctx;\n    this.scope = createScope();\n    this.V = null;\n    this.audioGain = new AudioGain(this.a, (gain) => {\n      this.b.delegate.c(\"audio-gain-change\", gain);\n    });\n  }\n  setup() {\n    new HTMLMediaEvents(this, this.b);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, this.b);\n    onDispose(() => {\n      this.audioGain.destroy();\n      this.a.srcObject = null;\n      this.a.removeAttribute(\"src\");\n      for (const source of this.a.querySelectorAll(\"source\"))\n        source.remove();\n      this.a.load();\n    });\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.a;\n  }\n  get currentSrc() {\n    return this.V;\n  }\n  setPlaybackRate(rate) {\n    this.a.playbackRate = rate;\n  }\n  async play() {\n    return this.a.play();\n  }\n  async pause() {\n    return this.a.pause();\n  }\n  setMuted(muted) {\n    this.a.muted = muted;\n  }\n  setVolume(volume) {\n    this.a.volume = volume;\n  }\n  setCurrentTime(time) {\n    this.a.currentTime = time;\n  }\n  setPlaysInline(inline) {\n    setAttribute(this.a, \"playsinline\", inline);\n  }\n  async loadSource({ src, type }, preload) {\n    this.a.preload = preload || \"\";\n    if (isMediaStream(src)) {\n      this.Bn();\n      this.a.srcObject = src;\n    } else {\n      this.a.srcObject = null;\n      if (isString(src)) {\n        if (type !== \"?\") {\n          this.yn({ src, type });\n        } else {\n          this.Bn();\n          this.a.src = this.Ik(src);\n        }\n      } else {\n        this.Bn();\n        this.a.src = window.URL.createObjectURL(src);\n      }\n    }\n    this.a.load();\n    this.V = { src, type };\n  }\n  /**\n   * Append source so it works when requesting AirPlay since hls.js will remove it.\n   */\n  yn(src, defaultType) {\n    const prevSource = this.a.querySelector(\"source[data-vds]\"), source = prevSource ?? document.createElement(\"source\");\n    setAttribute(source, \"src\", this.Ik(src.src));\n    setAttribute(source, \"type\", src.type !== \"?\" ? src.type : defaultType);\n    setAttribute(source, \"data-vds\", \"\");\n    if (!prevSource)\n      this.a.append(source);\n  }\n  Bn() {\n    this.a.querySelector(\"source[data-vds]\")?.remove();\n  }\n  Ik(src) {\n    const { clipStartTime, clipEndTime } = this.b.$state, startTime = clipStartTime(), endTime = clipEndTime();\n    if (startTime > 0 && endTime > 0) {\n      return `${src}#t=${startTime},${endTime}`;\n    } else if (startTime > 0) {\n      return `${src}#t=${startTime}`;\n    } else if (endTime > 0) {\n      return `${src}#t=0,${endTime}`;\n    }\n    return src;\n  }\n}\n\nexport { HTMLMediaProvider };\n","import { f as signal, g as effect, l as listenEvent } from './vidstack-CSyVEdLV.js';\nimport './vidstack-BupzoABp.js';\n\nclass HTMLRemotePlaybackAdapter {\n  constructor(_media, _ctx) {\n    this.a = _media;\n    this.b = _ctx;\n    this.Se = signal(false);\n    this.Hm();\n  }\n  get supported() {\n    return this.Se();\n  }\n  Hm() {\n    if (!this.a?.remote || !this.sl)\n      return;\n    this.a.remote.watchAvailability((available) => {\n      this.Se.set(available);\n    }).catch(() => {\n      this.Se.set(false);\n    });\n    effect(this.rn.bind(this));\n  }\n  rn() {\n    if (!this.Se())\n      return;\n    const events = [\"connecting\", \"connect\", \"disconnect\"], onStateChange = this.Rg.bind(this);\n    onStateChange();\n    listenEvent(this.a, \"playing\", onStateChange);\n    for (const type of events) {\n      listenEvent(this.a.remote, type, onStateChange);\n    }\n  }\n  async prompt() {\n    if (!this.supported)\n      throw Error(\"Not supported on this platform.\");\n    if (this.vb === \"airplay\" && this.a.webkitShowPlaybackTargetPicker) {\n      return this.a.webkitShowPlaybackTargetPicker();\n    }\n    return this.a.remote.prompt();\n  }\n  Rg(event) {\n    const state = this.a.remote.state;\n    if (state === this.mc)\n      return;\n    const detail = { type: this.vb, state };\n    this.b.delegate.c(\"remote-playback-change\", detail, event);\n    this.mc = state;\n  }\n}\nclass HTMLAirPlayAdapter extends HTMLRemotePlaybackAdapter {\n  constructor() {\n    super(...arguments);\n    this.vb = \"airplay\";\n  }\n  get sl() {\n    return \"WebKitPlaybackTargetAvailabilityEvent\" in window;\n  }\n}\n\nexport { HTMLAirPlayAdapter as H };\n"],"names":["audioContext","gainNodes","elAudioSources","getOrCreateAudioCtx","AudioContext","createGainNode","audioCtx","gainNode","createGain","connect","destination","push","createElementSource","el","src","createMediaElementSource","destroyGainNode","node","idx","indexOf","splice","disconnect","freeAudioCtxWhenAllResourcesFreed","destroyElementSource","length","close","then","AudioGain","constructor","_media","_onChange","a","B","Cn","Dn","currentGain","gain","value","supported","setGain","currGain","removeGain","En","destroy","Fn","HTMLMediaEvents","_provider","_ctx","i","b","sa","useDisposalBin","Cb","$c","ad","Da","RAFLoop","bd","bind","Qe","Dg","pg","effect","qg","onDispose","cd","media","c","delegate","ra","empty","newTime","currentTime","$state","realCurrentTime","$a","t","Ea","Pe","rg","U","ab","sg","add","tg","ug","hc","vg","wg","xb","ic","xg","yg","Bg","zg","Aa","Ag","bb","Cg","Db","dd","eventType","handler","listenEvent","Eg","event2","time","trigger","detail","Math","min","seekableEnd","played","networkState","event","IS_IOS","IS_SAFARI","isHLSSrc","source","jc","ed","provider","peek","$provider","duration","buffered","seekable","canPlay","readyState","started","Bb","loop","isNil","controls","paused","Eb","ended","volume","muted","trunc","getNumberOfDecimalPlaces","player","dispatch","DOMEvent","playbackRate","error","message","code","mediaError","NativeAudioTracks","Fb","onaddtrack","Fg","onremovetrack","Gg","onchange","Hg","audioTracks","Ig","_track","track","label","id","toString","audioTrack","language","kind","selected","ListSymbol","oa","enabled","getById","Yb","enabledTrack","Re","pa","Array","from","find","current","getTrackById","prev","HTMLMediaProvider","scope","createScope","V","audioGain","setup","srcObject","removeAttribute","querySelectorAll","remove","load","type","currentSrc","setPlaybackRate","rate","play","pause","setMuted","setVolume","setCurrentTime","setPlaysInline","inline","setAttribute","loadSource","preload","isMediaStream","Bn","isString","yn","Ik","window","URL","createObjectURL","defaultType","prevSource","querySelector","document","createElement","append","clipStartTime","clipEndTime","startTime","endTime","HTMLRemotePlaybackAdapter","Se","signal","Hm","remote","sl","watchAvailability","available","set","catch","rn","events","onStateChange","Rg","prompt","Error","vb","webkitShowPlaybackTargetPicker","state","mc","HTMLAirPlayAdapter","arguments"],"mappings":"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","x_google_ignoreList":[0,1]}