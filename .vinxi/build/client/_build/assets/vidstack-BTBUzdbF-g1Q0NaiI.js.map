{"version":3,"file":"vidstack-BTBUzdbF-g1Q0NaiI.js","sources":["../../../../../node_modules/.pnpm/vidstack@1.11.13/node_modules/vidstack/prod/chunks/vidstack-BTBUzdbF.js"],"sourcesContent":["const videoIdRE = /(?:https:\\/\\/)?(?:player\\.)?vimeo(?:\\.com)?\\/(?:video\\/)?(\\d+)(?:\\?hash=(.*))?/;\nconst infoCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveVimeoVideoId(src) {\n  const matches = src.match(videoIdRE);\n  return { videoId: matches?.[1], hash: matches?.[2] };\n}\nasync function getVimeoVideoInfo(videoId, abort) {\n  if (infoCache.has(videoId))\n    return infoCache.get(videoId);\n  if (pendingFetch.has(videoId))\n    return pendingFetch.get(videoId);\n  const oembedSrc = `https://vimeo.com/api/oembed.json?url=https://player.vimeo.com/video/${videoId}`;\n  const promise = window.fetch(oembedSrc, {\n    mode: \"cors\",\n    signal: abort.signal\n  }).then((response) => response.json()).then((data) => {\n    const thumnailRegex = /vimeocdn.com\\/video\\/(.*)?_/, thumbnailId = data?.thumbnail_url?.match(thumnailRegex)?.[1], poster = thumbnailId ? `https://i.vimeocdn.com/video/${thumbnailId}_1920x1080.webp` : \"\", info = {\n      title: data?.title ?? \"\",\n      duration: data?.duration ?? 0,\n      poster,\n      pro: data.account_type !== \"basic\"\n    };\n    infoCache.set(videoId, info);\n    return info;\n  }).finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, promise);\n  return promise;\n}\n\nexport { getVimeoVideoInfo, resolveVimeoVideoId };\n"],"names":["videoIdRE","infoCache","Map","pendingFetch","resolveVimeoVideoId","src","matches","match","videoId","hash","getVimeoVideoInfo","abort","has","get","oembedSrc","promise","window","fetch","mode","signal","then","response","json","data","thumnailRegex","thumbnailId","thumbnail_url","poster","info","title","duration","pro","account_type","set","finally","delete"],"mappings":"AAAA,MAAMA,EAAY,iFACZC,EAA4B,IAAIC,IAChCC,EAA+B,IAAID,IACzC,SAASE,EAAoBC,EAAK,CAChC,MAAMC,EAAUD,EAAIE,MAAMP,CAAS,EACnC,MAAO,CAAEQ,QAASF,IAAU,CAAC,EAAGG,KAAMH,IAAU,CAAC,EACnD,CACA,eAAeI,EAAkBF,EAASG,EAAO,CAC/C,GAAIV,EAAUW,IAAIJ,CAAO,EACvB,OAAOP,EAAUY,IAAIL,CAAO,EAC9B,GAAIL,EAAaS,IAAIJ,CAAO,EAC1B,OAAOL,EAAaU,IAAIL,CAAO,EACjC,MAAMM,EAAa,wEAAuEN,CAAQ,GAC5FO,EAAUC,OAAOC,MAAMH,EAAW,CACtCI,KAAM,OACNC,OAAQR,EAAMQ,MAChB,CAAC,EAAEC,KAAMC,GAAaA,EAASC,MAAM,EAAEF,KAAMG,GAAS,CACpD,MAAMC,EAAgB,8BAA+BC,EAAcF,GAAMG,eAAenB,MAAMiB,CAAa,IAAI,CAAC,EAAGG,EAASF,EAAe,gCAA+BA,CAAY,kBAAmB,GAAIG,EAAO,CAClNC,MAAON,GAAMM,OAAS,GACtBC,SAAUP,GAAMO,UAAY,EAC5BH,OAAAA,EACAI,IAAKR,EAAKS,eAAiB,SAE7B/B,OAAAA,EAAUgC,IAAIzB,EAASoB,CAAI,EACpBA,EACR,EAAEM,QAAQ,IAAM/B,EAAagC,OAAO3B,CAAO,CAAC,EAC7CL,OAAAA,EAAa8B,IAAIzB,EAASO,CAAO,EAC1BA,CACT","x_google_ignoreList":[0]}