{"version":3,"file":"vidstack-DscYSLiW-DtyQKGjb.js","sources":["../../../../../node_modules/.pnpm/vidstack@1.11.13/node_modules/vidstack/prod/chunks/vidstack-DscYSLiW.js"],"sourcesContent":["const videoIdRE = /(?:youtu\\.be|youtube|youtube\\.com|youtube-nocookie\\.com)\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=|)((?:\\w|-){11})/;\nconst posterCache = /* @__PURE__ */ new Map();\nconst pendingFetch = /* @__PURE__ */ new Map();\nfunction resolveYouTubeVideoId(src) {\n  return src.match(videoIdRE)?.[1];\n}\nasync function findYouTubePoster(videoId, abort) {\n  if (posterCache.has(videoId))\n    return posterCache.get(videoId);\n  if (pendingFetch.has(videoId))\n    return pendingFetch.get(videoId);\n  const pending = new Promise(async (resolve) => {\n    const sizes = [\"maxresdefault\", \"sddefault\", \"hqdefault\"];\n    for (const size of sizes) {\n      for (const webp of [true, false]) {\n        const url = resolveYouTubePosterURL(videoId, size, webp), response = await fetch(url, {\n          mode: \"no-cors\",\n          signal: abort.signal\n        });\n        if (response.status < 400) {\n          posterCache.set(videoId, url);\n          resolve(url);\n          return;\n        }\n      }\n    }\n  }).catch(() => \"\").finally(() => pendingFetch.delete(videoId));\n  pendingFetch.set(videoId, pending);\n  return pending;\n}\nfunction resolveYouTubePosterURL(videoId, size, webp) {\n  const type = webp ? \"webp\" : \"jpg\";\n  return `https://i.ytimg.com/${webp ? \"vi_webp\" : \"vi\"}/${videoId}/${size}.${type}`;\n}\n\nexport { findYouTubePoster, resolveYouTubeVideoId };\n"],"names":["videoIdRE","posterCache","Map","pendingFetch","resolveYouTubeVideoId","src","match","findYouTubePoster","videoId","abort","has","get","pending","Promise","resolve","sizes","size","webp","url","resolveYouTubePosterURL","fetch","mode","signal","status","set","catch","finally","delete"],"mappings":"AAAA,MAAMA,EAAY,kHACZC,EAA8B,IAAIC,IAClCC,EAA+B,IAAID,IACzC,SAASE,EAAsBC,EAAK,CAClC,OAAOA,EAAIC,MAAMN,CAAS,IAAI,CAAC,CACjC,CACA,eAAeO,EAAkBC,EAASC,EAAO,CAC/C,GAAIR,EAAYS,IAAIF,CAAO,EACzB,OAAOP,EAAYU,IAAIH,CAAO,EAChC,GAAIL,EAAaO,IAAIF,CAAO,EAC1B,OAAOL,EAAaQ,IAAIH,CAAO,EACjC,MAAMI,EAAU,IAAIC,QAAQ,MAAOC,GAAY,CAC7C,MAAMC,EAAQ,CAAC,gBAAiB,YAAa,WAAW,EACxD,UAAWC,KAAQD,EACjB,UAAWE,IAAQ,CAAC,GAAM,EAAK,EAAG,CAChC,MAAMC,EAAMC,EAAwBX,EAASQ,EAAMC,CAAI,EAIvD,IAJqE,MAAMG,MAAMF,EAAK,CACpFG,KAAM,UACNC,OAAQb,EAAMa,MAChB,CAAC,GACYC,OAAS,IAAK,CACzBtB,EAAYuB,IAAIhB,EAASU,CAAG,EAC5BJ,EAAQI,CAAG,EACX,MACF,CACF,CAEJ,CAAC,EAAEO,MAAM,IAAM,EAAE,EAAEC,QAAQ,IAAMvB,EAAawB,OAAOnB,CAAO,CAAC,EAC7DL,OAAAA,EAAaqB,IAAIhB,EAASI,CAAO,EAC1BA,CACT,CACA,SAASO,EAAwBX,EAASQ,EAAMC,EAAM,CAEpD,MAAQ,uBAAsBA,EAAO,UAAY,IAAK,IAAGT,CAAQ,IAAGQ,CAAK,IAD5DC,EAAO,OAAS,KACoD,EACnF","x_google_ignoreList":[0]}