import{ssr as u,ssrHydrationKey as g,escape as r,createComponent as l}from"solid-js/web";import{createQuery as c}from"@tanstack/solid-query";import{F as d,e as m}from"./assets/index-BPtxG8PX.js";import{createSignal as p,createEffect as S,Suspense as h,Show as o,For as E}from"solid-js";import{E as y}from"./assets/Error-CYB426ak.js";import{u as A}from"./assets/Link-ClDVT-6o.js";import{E as T,A as I,ae as L,af as R,ag as w,ah as C,ai as x,aj as N,ak as G,al as U,am as P,L as K,an as H,V}from"./assets/syncStore-DaflpWzS.js";import{T as F}from"./assets/index-BIuKkAdd.js";import"./assets/index-wr7A5cEE.js";import"solid-js/store";import"./assets/routing-CB9zsxEG.js";import"./assets/components-Bl9pqdE7.js";import"y-webrtc";import"yjs";import"lib0/observable";import"numeral";import"@solid-primitives/date";import"./assets/index-Bhsy5eyg.js";const f=[{label:"AE - United Arab Emirates",value:"AE",flag:"ğŸ‡¦ğŸ‡ª"},{label:"AR - Argentina",value:"AR",flag:"ğŸ‡¦ğŸ‡·"},{label:"AT - Austria",value:"AT",flag:"ğŸ‡¦ğŸ‡¹"},{label:"AU - Australia",value:"AU",flag:"ğŸ‡¦ğŸ‡º"},{label:"BE - Belgium",value:"BE",flag:"ğŸ‡§ğŸ‡ª"},{label:"BG - Bulgaria",value:"BG",flag:"ğŸ‡§ğŸ‡¬"},{label:"BR - Brazil",value:"BR",flag:"ğŸ‡§ğŸ‡·"},{label:"CA - Canada",value:"CA",flag:"ğŸ‡¨ğŸ‡¦"},{label:"CH - Switzerland",value:"CH",flag:"ğŸ‡¨ğŸ‡­"},{label:"CL - Chile",value:"CL",flag:"ğŸ‡¨ğŸ‡±"},{label:"CO - Colombia",value:"CO",flag:"ğŸ‡¨ğŸ‡´"},{label:"CZ - Czechia",value:"CZ",flag:"ğŸ‡¨ğŸ‡¿"},{label:"DE - Germany",value:"DE",flag:"ğŸ‡©ğŸ‡ª"},{label:"DK - Denmark",value:"DK",flag:"ğŸ‡©ğŸ‡°"},{label:"EE - Estonia",value:"EE",flag:"ğŸ‡ªğŸ‡ª"},{label:"EG - Egypt",value:"EG",flag:"ğŸ‡ªğŸ‡¬"},{label:"ES - Spain",value:"ES",flag:"ğŸ‡ªğŸ‡¸"},{label:"FI - Finland",value:"FI",flag:"ğŸ‡«ğŸ‡®"},{label:"FR - France",value:"FR",flag:"ğŸ‡«ğŸ‡·"},{label:"GB - United Kingdom",value:"GB",flag:"ğŸ‡¬ğŸ‡§"},{label:"GH - Ghana",value:"GH",flag:"ğŸ‡¬ğŸ‡­"},{label:"GR - Greece",value:"GR",flag:"ğŸ‡¬ğŸ‡·"},{label:"HK - Hong Kong",value:"HK",flag:"ğŸ‡­ğŸ‡°"},{label:"HR - Croatia",value:"HR",flag:"ğŸ‡­ğŸ‡·"},{label:"HU - Hungary",value:"HU",flag:"ğŸ‡­ğŸ‡º"},{label:"ID - Indonesia",value:"ID",flag:"ğŸ‡®ğŸ‡©"},{label:"IE - Ireland",value:"IE",flag:"ğŸ‡®ğŸ‡ª"},{label:"IL - Israel",value:"IL",flag:"ğŸ‡®ğŸ‡±"},{label:"IN - India",value:"IN",flag:"ğŸ‡®ğŸ‡³"},{label:"IS - Iceland",value:"IS",flag:"ğŸ‡®ğŸ‡¸"},{label:"IT - Italy",value:"IT",flag:"ğŸ‡®ğŸ‡¹"},{label:"JO - Jordan",value:"JO",flag:"ğŸ‡¯ğŸ‡´"},{label:"JP - Japan",value:"JP",flag:"ğŸ‡¯ğŸ‡µ"},{label:"KE - Kenya",value:"KE",flag:"ğŸ‡°ğŸ‡ª"},{label:"KR - South Korea",value:"KR",flag:"ğŸ‡°ğŸ‡·"},{label:"LT - Lithuania",value:"LT",flag:"ğŸ‡±ğŸ‡¹"},{label:"LU - Luxembourg",value:"LU",flag:"ğŸ‡±ğŸ‡º"},{label:"LV - Latvia",value:"LV",flag:"ğŸ‡±ğŸ‡»"},{label:"LY - Libya",value:"LY",flag:"ğŸ‡±ğŸ‡¾"},{label:"MA - Morocco",value:"MA",flag:"ğŸ‡²ğŸ‡¦"},{label:"MX - Mexico",value:"MX",flag:"ğŸ‡²ğŸ‡½"},{label:"MY - Malaysia",value:"MY",flag:"ğŸ‡²ğŸ‡¾"},{label:"NG - Nigeria",value:"NG",flag:"ğŸ‡³ğŸ‡¬"},{label:"NL - Netherlands",value:"NL",flag:"ğŸ‡³ğŸ‡±"},{label:"NO - Norway",value:"NO",flag:"ğŸ‡³ğŸ‡´"},{label:"NZ - New Zealand",value:"NZ",flag:"ğŸ‡³ğŸ‡¿"},{label:"PE - Peru",value:"PE",flag:"ğŸ‡µğŸ‡ª"},{label:"PH - Philippines",value:"PH",flag:"ğŸ‡µğŸ‡­"},{label:"PK - Pakistan",value:"PK",flag:"ğŸ‡µğŸ‡°"},{label:"PL - Poland",value:"PL",flag:"ğŸ‡µğŸ‡±"},{label:"PT - Portugal",value:"PT",flag:"ğŸ‡µğŸ‡¹"},{label:"RO - Romania",value:"RO",flag:"ğŸ‡·ğŸ‡´"},{label:"RS - Serbia",value:"RS",flag:"ğŸ‡·ğŸ‡¸"},{label:"RU - Russia",value:"RU",flag:"ğŸ‡·ğŸ‡º"},{label:"SA - Saudi Arabia",value:"SA",flag:"ğŸ‡¸ğŸ‡¦"},{label:"SE - Sweden",value:"SE",flag:"ğŸ‡¸ğŸ‡ª"},{label:"SG - Singapore",value:"SG",flag:"ğŸ‡¸ğŸ‡¬"},{label:"SI - Slovenia",value:"SI",flag:"ğŸ‡¸ğŸ‡®"},{label:"SK - Slovakia",value:"SK",flag:"ğŸ‡¸ğŸ‡°"},{label:"SN - Senegal",value:"SN",flag:"ğŸ‡¸ğŸ‡³"},{label:"TH - Thailand",value:"TH",flag:"ğŸ‡¹ğŸ‡­"},{label:"TN - Tunisia",value:"TN",flag:"ğŸ‡¹ğŸ‡³"},{label:"TR - Turkey",value:"TR",flag:"ğŸ‡¹ğŸ‡·"},{label:"TW - Taiwan",value:"TW",flag:"ğŸ‡¹ğŸ‡¼"},{label:"TZ - Tanzania",value:"TZ",flag:"ğŸ‡¹ğŸ‡¿"},{label:"UA - Ukraine",value:"UA",flag:"ğŸ‡ºğŸ‡¦"},{label:"UG - Uganda",value:"UG",flag:"ğŸ‡ºğŸ‡¬"},{label:"US - United States",value:"US",flag:"ğŸ‡ºğŸ‡¸"},{label:"VE - Venezuela",value:"VE",flag:"ğŸ‡»ğŸ‡ª"},{label:"VN - Vietnam",value:"VN",flag:"ğŸ‡»ğŸ‡³"},{label:"ZA - South Africa",value:"ZA",flag:"ğŸ‡¿ğŸ‡¦"},{label:"ZW - Zimbabwe",value:"ZW",flag:"ğŸ‡¿ğŸ‡¼"}];var Z=["<div",' class="flex flex-wrap justify-center">',"</div>"],k=["<div",' class="flex min-h-full flex-wrap justify-center bg-bg1"><!--$-->','<!--/--><div class="flex flex-col w-full mt-2">',"</div><!--$-->","<!--/--></div>"],B=["<div",">Loading...</div>"];function il(){const s=T(),[t]=I(),[i,b]=p("US"),a=c(()=>({queryKey:["trending",t.instance.api_url,i()],queryFn:async()=>{const e=await fetch(t.instance.api_url+"/trending?region="+i());if(!e.ok)throw new Error("Error fetching trending");return await e.json()},enabled:!!t.instance?.api_url,placeholderData:Array(40).fill(void 0)})),[,v]=A();return S(()=>{v("loading",a.isFetching||a.isRefetching||a.isInitialLoading)}),u(k,g(),r(l(F,{children:"Trending | Conduit"})),r(l(L,{get defaultValue(){return f.find(e=>e.value===i())},optionValue:"value",optionTextValue:"label",onChange:e=>b(e.value),placeholder:"Select a region",options:f,itemComponent:e=>l(R,{class:"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none",get item(){return e.item},get children(){return[l(w,{get children(){return[e.item.rawValue.flag," ",e.item.rawValue.label]}}),l(C,{class:"inline-flex absolute left-0",get children(){return l(d,{fill:"currentColor",class:"h-4 w-4 mx-1 text-text1"})}})]}}),class:"relative",get children(){return[l(x,{class:" p-1 outline-none bg-bg3 ring-1 ring-bg2 inline-flex items-center justify-between py-2 px-3 focus-visible:ring-2 focus-visible:ring-primary rounded-md",get children(){return[l(N,{children:e=>e.selectedOption().flag+" "+e.selectedOption().label}),l(G,{get children(){return l(m,{fill:"currentColor",class:"h-3 w-3 text-text1 relative left-1"})}})]}}),l(U,{get children(){return l(P,{class:`bg-bg2 rounded-md z-50
                animate-in
                fade-in
                slide-in-from-top-10
                duration-200
              `,get children(){return[l(K,{}),l(H,{class:"max-h-[40vh] p-2 overflow-y-auto scrollbar"})]}})}})]}})),r(l(h,{get fallback(){return u(B,g())},get children(){return[l(o,{get when(){return a.error},get children(){return a.error.message}}),l(o,{get when(){return!Array.isArray(a.data)},get children(){return l(y,{get error(){return a.data}})}}),u(Z,g(),r(l(o,{get when(){return a.data},keyed:!0,children:e=>e&&l(E,{get each(){return e.filter(n=>!s.store.blocklist[n?.uploaderUrl?.split("/").pop()])},children:n=>l(V,{v:n,layout:"sm:grid"})})})))]}})))}export{il as default};
//# sourceMappingURL=trending.js.map
