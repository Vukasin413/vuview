{"version":3,"file":"Toast.mjs","sources":["../../../../node_modules/.pnpm/@solid-primitives+utils@6.2.3_solid-js@1.8.16/node_modules/@solid-primitives/utils/dist/chunk/R5675YMU.js","../../../../node_modules/.pnpm/@solid-primitives+event-listener@2.3.3_solid-js@1.8.16/node_modules/@solid-primitives/event-listener/dist/index.js","../../../../node_modules/.pnpm/@solid-primitives+keyed@1.2.2_solid-js@1.8.16/node_modules/@solid-primitives/keyed/dist/index.js","../../../../node_modules/.pnpm/@solid-primitives+props@3.1.11_solid-js@1.8.16/node_modules/@solid-primitives/props/dist/index.js","../../../../node_modules/.pnpm/@kobalte+utils@0.9.0_solid-js@1.8.16/node_modules/@kobalte/utils/dist/index.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-collection/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-collection/create-collection.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-collection/get-item-count.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-controllable-signal/create-controllable-signal.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-disclosure-state/create-disclosure-state.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-escape-key-down/create-escape-key-down.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dismissable-layer/layer-stack.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-focus-scope/create-focus-scope.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-form-reset-listener/create-form-reset-listener.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/live-announcer/live-announcer.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-hide-outside/create-hide-outside.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-interact-outside/create-interact-outside.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-presence/create-presence.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-prevent-scroll/create-prevent-scroll.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-register-id/create-register-id.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-tag-name/create-tag-name.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/form-control/create-form-control.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/form-control/form-control-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/form-control/create-form-control-field.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/polymorphic/polymorphic.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/form-control/form-control-label.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/common.intl.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/create-default-locale.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/i18n-provider.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/create-collator.js","../../../../node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../../../node_modules/.pnpm/@formatjs+icu-skeleton-parser@1.8.0/node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/time-data.generated.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/date-time-pattern-generator.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../../../node_modules/.pnpm/@formatjs+icu-messageformat-parser@2.7.6/node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../../../node_modules/.pnpm/@formatjs+fast-memoize@2.2.0/node_modules/@formatjs/fast-memoize/lib/index.js","../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/error.js","../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/formatters.js","../../../../node_modules/.pnpm/intl-messageformat@10.5.11/node_modules/intl-messageformat/lib/src/core.js","../../../../node_modules/.pnpm/@internationalized+message@3.1.2/node_modules/@internationalized/message/dist/import.mjs","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/i18n/create-message-formatter.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/types.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/create-controllable-selection-signal.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/create-multiple-selection-state.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/create-type-select.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/create-selectable-collection.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/create-selectable-item.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/selection/selection-manager.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/list/list-collection.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/list/create-list-state.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/list/list-keyboard-delegate.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/list/create-selectable-list.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-store.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toaster.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/button/is-button.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/button/button-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-dom-collection/dom-collection-context.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-dom-collection/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-dom-collection/create-dom-collection.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/primitives/create-dom-collection/create-dom-collection-item.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-close-button.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dismissable-layer/dismissable-layer-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dismissable-layer/dismissable-layer.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-content.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-description.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-overlay.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-portal.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dialog/dialog-title.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/popper/popper-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/popper/popper-arrow.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/popper/popper-positioner.jsx","../../../../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../../../node_modules/.pnpm/@floating-ui+core@1.6.0/node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../../../node_modules/.pnpm/@floating-ui+utils@0.2.1/node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../../../node_modules/.pnpm/@floating-ui+dom@1.6.3/node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/popper/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/popper/popper-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/listbox/listbox-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/listbox/listbox-item-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/listbox/listbox-item.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/listbox/listbox-item-indicator.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/listbox/listbox-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-root-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-item.context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-item-base.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-content-base.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-content.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-group-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-group.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-group-label.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-item.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-portal.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/menu/menu-trigger.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dropdown-menu/dropdown-menu-content.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/dropdown-menu/dropdown-menu-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-content.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-icon.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-label.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-listbox.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-portal.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-base.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-trigger.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/select/select-value.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast.intl.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-close-button.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-description.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-region-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-progress-fill.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-progress-track.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/toast/toast-title.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/tooltip-context.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/tooltip-content.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/tooltip-portal.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/utils.js","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/tooltip-root.jsx","../../../../node_modules/.pnpm/@kobalte+core@0.11.2_solid-js@1.8.16/node_modules/@kobalte/core/dist/source/tooltip/tooltip-trigger.jsx","../../../../src/utils/helpers.ts","../../../../src/stores/queueStore.tsx","../../../../src/stores/playlistStore.tsx","../../../../src/lib/minimumMutationOperations.ts","../../../../src/lib/utils/logHelpers.ts","../../../../src/lib/utils/yjsHelpers.ts","../../../../src/lib/utils/concat.ts","../../../../src/lib/utils/Queue.ts","../../../../src/lib/utils/setLeaf.ts","../../../../src/lib/createYjsStore.ts","../../../../src/utils/SharedService.ts","../../../../src/utils/y-opfs.ts","../../../../src/stores/syncStore.tsx","../../../../src/utils/storage.ts","../../../../src/stores/preferencesStore.tsx","../../../../src/components/Button.tsx","../../../../src/components/Modal.tsx","../../../../src/components/Select.tsx","../../../../src/components/content/PlaylistModal.tsx","../../../../src/components/content/stream/VideoCardMenu.tsx","../../../../src/components/Tooltip.tsx","../../../../src/components/content/stream/VideoCard.tsx","../../../../src/utils/api.ts","../../../../src/components/PlayerContainer.tsx","../../../../src/components/Toast.tsx"],"sourcesContent":["import { DEV, equalFn, untrack, getOwner, onCleanup, createSignal, sharedConfig, onMount } from 'solid-js';\nimport { isServer } from 'solid-js/web';\nexport { isServer } from 'solid-js/web';\n\n// src/index.ts\nvar isClient = !isServer;\nvar isDev = isClient && !!DEV;\nvar isProd = !isDev;\nvar noop = () => void 0;\nvar trueFn = () => true;\nvar falseFn = () => false;\nvar defaultEquals = equalFn;\nvar EQUALS_FALSE_OPTIONS = { equals: false };\nvar INTERNAL_OPTIONS = { internal: true };\nvar ofClass = (v, c) => v instanceof c || v && v.constructor === c;\nfunction isObject(value) {\n  return value !== null && (typeof value === \"object\" || typeof value === \"function\");\n}\nvar isNonNullable = (i) => i != null;\nvar filterNonNullable = (arr) => arr.filter(isNonNullable);\nvar compare = (a, b) => a < b ? -1 : a > b ? 1 : 0;\nvar arrayEquals = (a, b) => a === b || a.length === b.length && a.every((e, i) => e === b[i]);\nfunction chain(callbacks) {\n  return (...args) => {\n    for (const callback of callbacks)\n      callback && callback(...args);\n  };\n}\nfunction reverseChain(callbacks) {\n  return (...args) => {\n    for (let i = callbacks.length - 1; i >= 0; i--) {\n      const callback = callbacks[i];\n      callback && callback(...args);\n    }\n  };\n}\nvar clamp = (n, min, max) => Math.min(Math.max(n, min), max);\nvar access = (v) => typeof v === \"function\" && !v.length ? v() : v;\nvar asArray = (value) => Array.isArray(value) ? value : value ? [value] : [];\nvar accessArray = (list) => list.map((v) => access(v));\nvar withAccess = (value, fn) => {\n  const _value = access(value);\n  typeof _value != null && fn(_value);\n};\nvar asAccessor = (v) => typeof v === \"function\" ? v : () => v;\nfunction accessWith(valueOrFn, ...args) {\n  return typeof valueOrFn === \"function\" ? valueOrFn(...args) : valueOrFn;\n}\nfunction defer(deps, fn, initialValue) {\n  const isArray = Array.isArray(deps);\n  let prevInput;\n  let shouldDefer = true;\n  return (prevValue) => {\n    let input;\n    if (isArray) {\n      input = Array(deps.length);\n      for (let i = 0; i < deps.length; i++)\n        input[i] = deps[i]();\n    } else\n      input = deps();\n    if (shouldDefer) {\n      shouldDefer = false;\n      prevInput = input;\n      return initialValue;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\nvar entries = Object.entries;\nvar keys = Object.keys;\nvar tryOnCleanup = isDev ? (fn) => getOwner() ? onCleanup(fn) : fn : onCleanup;\nvar createCallbackStack = () => {\n  let stack = [];\n  const clear = () => stack = [];\n  return {\n    push: (...callbacks) => stack.push(...callbacks),\n    execute(arg0, arg1, arg2, arg3) {\n      stack.forEach((cb) => cb(arg0, arg1, arg2, arg3));\n      clear();\n    },\n    clear\n  };\n};\nfunction createMicrotask(fn) {\n  let calls = 0;\n  let args;\n  onCleanup(() => calls = 0);\n  return (...a) => {\n    args = a, calls++;\n    queueMicrotask(() => --calls === 0 && fn(...args));\n  };\n}\nfunction createHydratableSignal(serverValue, update, options) {\n  if (isServer) {\n    return createSignal(serverValue, options);\n  }\n  if (sharedConfig.context) {\n    const [state, setState] = createSignal(serverValue, options);\n    onMount(() => setState(() => update()));\n    return [state, setState];\n  }\n  return createSignal(update(), options);\n}\nvar createHydrateSignal = createHydratableSignal;\nfunction handleDiffArray(current, prev, handleAdded, handleRemoved) {\n  const currLength = current.length;\n  const prevLength = prev.length;\n  let i = 0;\n  if (!prevLength) {\n    for (; i < currLength; i++)\n      handleAdded(current[i]);\n    return;\n  }\n  if (!currLength) {\n    for (; i < prevLength; i++)\n      handleRemoved(prev[i]);\n    return;\n  }\n  for (; i < prevLength; i++) {\n    if (prev[i] !== current[i])\n      break;\n  }\n  let prevEl;\n  let currEl;\n  prev = prev.slice(i);\n  current = current.slice(i);\n  for (prevEl of prev) {\n    if (!current.includes(prevEl))\n      handleRemoved(prevEl);\n  }\n  for (currEl of current) {\n    if (!prev.includes(currEl))\n      handleAdded(currEl);\n  }\n}\n\nexport { EQUALS_FALSE_OPTIONS, INTERNAL_OPTIONS, access, accessArray, accessWith, arrayEquals, asAccessor, asArray, chain, clamp, compare, createCallbackStack, createHydratableSignal, createHydrateSignal, createMicrotask, defaultEquals, defer, entries, falseFn, filterNonNullable, handleDiffArray, isClient, isDev, isNonNullable, isObject, isProd, keys, noop, ofClass, reverseChain, trueFn, tryOnCleanup, withAccess };\n","import { tryOnCleanup, entries, createCallbackStack, asArray, access, keys } from '@solid-primitives/utils';\nimport { createEffect, createRenderEffect, createSignal, onCleanup } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\n// src/eventListener.ts\nfunction makeEventListener(target, type, handler, options) {\n  target.addEventListener(type, handler, options);\n  return tryOnCleanup(target.removeEventListener.bind(target, type, handler, options));\n}\nfunction createEventListener(targets, type, handler, options) {\n  if (isServer)\n    return;\n  const attachListeners = () => {\n    asArray(access(targets)).forEach((el) => {\n      if (el)\n        asArray(access(type)).forEach((type2) => makeEventListener(el, type2, handler, options));\n    });\n  };\n  if (typeof targets === \"function\")\n    createEffect(attachListeners);\n  else\n    createRenderEffect(attachListeners);\n}\nfunction createEventSignal(target, type, options) {\n  if (isServer) {\n    return () => void 0;\n  }\n  const [lastEvent, setLastEvent] = createSignal();\n  createEventListener(target, type, setLastEvent, options);\n  return lastEvent;\n}\nvar eventListener = (target, props) => {\n  createEffect(() => {\n    const [type, handler, options] = props();\n    makeEventListener(target, type, handler, options);\n  });\n};\nfunction createEventListenerMap(targets, handlersMap, options) {\n  if (isServer) {\n    return;\n  }\n  for (const [eventName, handler] of entries(handlersMap)) {\n    if (handler)\n      createEventListener(targets, eventName, handler, options);\n  }\n}\nvar attachPropListeners = (target, props) => {\n  keys(props).forEach((attr) => {\n    if (attr.startsWith(\"on\") && typeof props[attr] === \"function\")\n      makeEventListener(target, attr.substring(2).toLowerCase(), props[attr]);\n  });\n};\nvar WindowEventListener = (props) => {\n  if (isServer)\n    return null;\n  attachPropListeners(window, props);\n};\nvar DocumentEventListener = (props) => {\n  if (isServer)\n    return null;\n  attachPropListeners(document, props);\n};\nfunction makeEventListenerStack(target, options) {\n  if (isServer) {\n    return [() => () => void 0, () => void 0];\n  }\n  const { push, execute } = createCallbackStack();\n  return [\n    (type, handler, overwriteOptions) => {\n      const clear = makeEventListener(target, type, handler, overwriteOptions ?? options);\n      push(clear);\n      return clear;\n    },\n    onCleanup(execute)\n  ];\n}\n\n// src/callbackWrappers.ts\nvar preventDefault = (callback) => (e) => {\n  e.preventDefault();\n  callback(e);\n};\nvar stopPropagation = (callback) => (e) => {\n  e.stopPropagation();\n  callback(e);\n};\nvar stopImmediatePropagation = (callback) => (e) => {\n  e.stopImmediatePropagation();\n  callback(e);\n};\n\nexport { DocumentEventListener, WindowEventListener, createEventListener, createEventListenerMap, createEventSignal, eventListener, makeEventListener, makeEventListenerStack, preventDefault, stopImmediatePropagation, stopPropagation };\n","import { onCleanup, $TRACK, untrack, createRoot, createSignal, createMemo, mapArray, on } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\n// src/index.ts\nvar FALLBACK = Symbol(\"fallback\");\nfunction dispose(list) {\n  for (const o of list)\n    o.dispose();\n}\nfunction keyArray(items, keyFn, mapFn, options = {}) {\n  if (isServer) {\n    const itemsRef = items();\n    let s = [];\n    if (itemsRef && itemsRef.length) {\n      for (let i = 0, len = itemsRef.length; i < len; i++)\n        s.push(\n          mapFn(\n            () => itemsRef[i],\n            () => i\n          )\n        );\n    } else if (options.fallback)\n      s = [options.fallback()];\n    return () => s;\n  }\n  const prev = /* @__PURE__ */ new Map();\n  onCleanup(() => dispose(prev.values()));\n  return () => {\n    const list = items() || [];\n    list[$TRACK];\n    return untrack(() => {\n      if (!list.length) {\n        dispose(prev.values());\n        prev.clear();\n        if (!options.fallback)\n          return [];\n        const fb2 = createRoot((dispose2) => {\n          prev.set(FALLBACK, { dispose: dispose2 });\n          return options.fallback();\n        });\n        return [fb2];\n      }\n      const result = new Array(list.length);\n      const fb = prev.get(FALLBACK);\n      if (!prev.size || fb) {\n        fb?.dispose();\n        prev.delete(FALLBACK);\n        for (let i = 0; i < list.length; i++) {\n          const item = list[i];\n          const key = keyFn(item, i);\n          addNewItem(result, item, i, key);\n        }\n        return result;\n      }\n      const prevKeys = new Set(prev.keys());\n      for (let i = 0; i < list.length; i++) {\n        const item = list[i];\n        const key = keyFn(item, i);\n        prevKeys.delete(key);\n        const lookup = prev.get(key);\n        if (lookup) {\n          result[i] = lookup.mapped;\n          lookup.setIndex?.(i);\n          lookup.setItem(() => item);\n        } else\n          addNewItem(result, item, i, key);\n      }\n      for (const key of prevKeys) {\n        prev.get(key)?.dispose();\n        prev.delete(key);\n      }\n      return result;\n    });\n  };\n  function addNewItem(list, item, i, key) {\n    createRoot((dispose2) => {\n      const [getItem, setItem] = createSignal(item);\n      const save = { setItem, dispose: dispose2 };\n      if (mapFn.length > 1) {\n        const [index, setIndex] = createSignal(i);\n        save.setIndex = setIndex;\n        save.mapped = mapFn(getItem, index);\n      } else\n        save.mapped = mapFn(getItem);\n      prev.set(key, save);\n      list[i] = save.mapped;\n    });\n  }\n}\nfunction Key(props) {\n  const { by } = props;\n  return createMemo(\n    keyArray(\n      () => props.each,\n      typeof by === \"function\" ? by : (v) => v[by],\n      props.children,\n      \"fallback\" in props ? { fallback: () => props.fallback } : void 0\n    )\n  );\n}\nfunction Entries(props) {\n  const mapFn = props.children;\n  return createMemo(\n    mapArray(\n      () => props.of && Object.keys(props.of),\n      mapFn.length < 3 ? (key) => mapFn(\n        key,\n        () => props.of[key]\n      ) : (key, i) => mapFn(key, () => props.of[key], i),\n      \"fallback\" in props ? { fallback: () => props.fallback } : void 0\n    )\n  );\n}\nfunction Rerun(props) {\n  const key = typeof props.on === \"function\" || Array.isArray(props.on) ? props.on : () => props.on;\n  return createMemo(\n    on(key, (a, b) => {\n      const child = props.children;\n      return typeof child === \"function\" && child.length > 0 ? child(a, b) : child;\n    })\n  );\n}\n\nexport { Entries, Key, Rerun, keyArray };\n","import { $PROXY, createMemo, mergeProps } from 'solid-js';\nimport { reverseChain, chain, access } from '@solid-primitives/utils';\n\n// src/propTraps.ts\nfunction trueFn() {\n  return true;\n}\nvar propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY)\n      return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction filterProps(props, predicate) {\n  return new Proxy(\n    {\n      get(property) {\n        return property in props && predicate(property) ? props[property] : void 0;\n      },\n      has(property) {\n        return property in props && predicate(property);\n      },\n      keys() {\n        return Object.keys(props).filter(predicate);\n      }\n    },\n    propTraps\n  );\n}\nfunction createPropsPredicate(props, predicate) {\n  const cache = createMemo(\n    () => {\n      return {};\n    },\n    void 0,\n    { equals: false }\n  );\n  return (key) => {\n    const cacheRef = cache();\n    const cached = cacheRef[key];\n    if (cached !== void 0)\n      return cached;\n    const v = predicate(key);\n    cacheRef[key] = v;\n    return v;\n  };\n}\nvar extractCSSregex = /((?:--)?(?:\\w+-?)+)\\s*:\\s*([^;]*)/g;\nfunction stringStyleToObject(style) {\n  const object = {};\n  let match;\n  while (match = extractCSSregex.exec(style)) {\n    object[match[1]] = match[2];\n  }\n  return object;\n}\nfunction combineStyle(a, b) {\n  if (typeof a === \"string\") {\n    if (typeof b === \"string\")\n      return `${a};${b}`;\n    a = stringStyleToObject(a);\n  } else if (typeof b === \"string\") {\n    b = stringStyleToObject(b);\n  }\n  return { ...a, ...b };\n}\nvar reduce = (sources, key, calc) => {\n  let v = void 0;\n  for (const props of sources) {\n    const propV = access(props)[key];\n    if (!v)\n      v = propV;\n    else if (propV)\n      v = calc(v, propV);\n  }\n  return v;\n};\nfunction combineProps(...args) {\n  const restArgs = Array.isArray(args[0]);\n  const sources = restArgs ? args[0] : args;\n  if (sources.length === 1)\n    return sources[0];\n  const chainFn = restArgs && args[1]?.reverseEventHandlers ? reverseChain : chain;\n  const listeners = {};\n  for (const props of sources) {\n    const propsObj = access(props);\n    for (const key in propsObj) {\n      if (key[0] === \"o\" && key[1] === \"n\" && key[2]) {\n        const v = propsObj[key];\n        const name = key.toLowerCase();\n        const callback = typeof v === \"function\" ? v : (\n          // jsx event handlers can be tuples of [callback, arg]\n          Array.isArray(v) ? v.length === 1 ? v[0] : v[0].bind(void 0, v[1]) : void 0\n        );\n        if (callback)\n          listeners[name] ? listeners[name].push(callback) : listeners[name] = [callback];\n        else\n          delete listeners[name];\n      }\n    }\n  }\n  const merge = mergeProps(...sources);\n  return new Proxy(\n    {\n      get(key) {\n        if (typeof key !== \"string\")\n          return Reflect.get(merge, key);\n        if (key === \"style\")\n          return reduce(sources, \"style\", combineStyle);\n        if (key === \"ref\") {\n          const callbacks = [];\n          for (const props of sources) {\n            const cb = access(props)[key];\n            if (typeof cb === \"function\")\n              callbacks.push(cb);\n          }\n          return chainFn(callbacks);\n        }\n        if (key[0] === \"o\" && key[1] === \"n\" && key[2]) {\n          const callbacks = listeners[key.toLowerCase()];\n          return callbacks ? chainFn(callbacks) : Reflect.get(merge, key);\n        }\n        if (key === \"class\" || key === \"className\")\n          return reduce(sources, key, (a, b) => `${a} ${b}`);\n        if (key === \"classList\")\n          return reduce(sources, key, (a, b) => ({ ...a, ...b }));\n        return Reflect.get(merge, key);\n      },\n      has(key) {\n        return Reflect.has(merge, key);\n      },\n      keys() {\n        return Object.keys(merge);\n      }\n    },\n    propTraps\n  );\n}\n\nexport { combineProps, combineStyle, createPropsPredicate, filterProps, propTraps, stringStyleToObject };\n","import { onCleanup, mergeProps } from 'solid-js';\nexport { createEventListener } from '@solid-primitives/event-listener';\nexport { Key } from '@solid-primitives/keyed';\nexport { ReactiveMap } from '@solid-primitives/map';\nexport { createMediaQuery } from '@solid-primitives/media';\nexport { combineProps } from '@solid-primitives/props';\nexport { mergeRefs } from '@solid-primitives/refs';\nexport { access, accessWith, chain } from '@solid-primitives/utils';\n\n// src/array.ts\nfunction addItemToArray(array, item, index = -1) {\n  if (!(index in array)) {\n    return [...array, item];\n  }\n  return [...array.slice(0, index), item, ...array.slice(index)];\n}\nfunction removeItemFromArray(array, item) {\n  const updatedArray = [...array];\n  const index = updatedArray.indexOf(item);\n  if (index !== -1) {\n    updatedArray.splice(index, 1);\n  }\n  return updatedArray;\n}\n\n// src/assertion.ts\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n}\nfunction isString(value) {\n  return Object.prototype.toString.call(value) === \"[object String]\";\n}\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// src/create-generate-id.ts\nfunction createGenerateId(baseId) {\n  return (suffix) => `${baseId()}-${suffix}`;\n}\nfunction createGlobalListeners() {\n  const globalListeners = /* @__PURE__ */ new Map();\n  const addGlobalListener = (eventTarget, type, listener, options) => {\n    const fn = options?.once ? (...args) => {\n      globalListeners.delete(listener);\n      listener(...args);\n    } : listener;\n    globalListeners.set(listener, { type, eventTarget, fn, options });\n    eventTarget.addEventListener(type, listener, options);\n  };\n  const removeGlobalListener = (eventTarget, type, listener, options) => {\n    const fn = globalListeners.get(listener)?.fn || listener;\n    eventTarget.removeEventListener(type, fn, options);\n    globalListeners.delete(listener);\n  };\n  const removeAllGlobalListeners = () => {\n    globalListeners.forEach((value, key) => {\n      removeGlobalListener(value.eventTarget, value.type, key, value.options);\n    });\n  };\n  onCleanup(() => {\n    removeAllGlobalListeners();\n  });\n  return { addGlobalListener, removeGlobalListener, removeAllGlobalListeners };\n}\n\n// src/dom.ts\nfunction contains(parent, child) {\n  if (!parent) {\n    return false;\n  }\n  return parent === child || parent.contains(child);\n}\nfunction getActiveElement(node, activeDescendant = false) {\n  const { activeElement } = getDocument(node);\n  if (!activeElement?.nodeName) {\n    return null;\n  }\n  if (isFrame(activeElement) && activeElement.contentDocument) {\n    return getActiveElement(activeElement.contentDocument.body, activeDescendant);\n  }\n  if (activeDescendant) {\n    const id = activeElement.getAttribute(\"aria-activedescendant\");\n    if (id) {\n      const element = getDocument(activeElement).getElementById(id);\n      if (element) {\n        return element;\n      }\n    }\n  }\n  return activeElement;\n}\nfunction getWindow(node) {\n  return getDocument(node).defaultView || window;\n}\nfunction getDocument(node) {\n  return node ? node.ownerDocument || node : document;\n}\nfunction isFrame(element) {\n  return element.tagName === \"IFRAME\";\n}\n\n// src/enums.ts\nvar EventKey = /* @__PURE__ */ ((EventKey2) => {\n  EventKey2[\"Escape\"] = \"Escape\";\n  EventKey2[\"Enter\"] = \"Enter\";\n  EventKey2[\"Tab\"] = \"Tab\";\n  EventKey2[\"Space\"] = \" \";\n  EventKey2[\"ArrowDown\"] = \"ArrowDown\";\n  EventKey2[\"ArrowLeft\"] = \"ArrowLeft\";\n  EventKey2[\"ArrowRight\"] = \"ArrowRight\";\n  EventKey2[\"ArrowUp\"] = \"ArrowUp\";\n  EventKey2[\"End\"] = \"End\";\n  EventKey2[\"Home\"] = \"Home\";\n  EventKey2[\"PageDown\"] = \"PageDown\";\n  EventKey2[\"PageUp\"] = \"PageUp\";\n  return EventKey2;\n})(EventKey || {});\n\n// src/platform.ts\nfunction testUserAgent(re) {\n  if (typeof window === \"undefined\" || window.navigator == null) {\n    return false;\n  }\n  return (\n    // @ts-ignore\n    window.navigator[\"userAgentData\"]?.brands.some(\n      (brand) => re.test(brand.brand)\n    ) || re.test(window.navigator.userAgent)\n  );\n}\nfunction testPlatform(re) {\n  return typeof window !== \"undefined\" && window.navigator != null ? (\n    // @ts-ignore\n    re.test(window.navigator[\"userAgentData\"]?.platform || window.navigator.platform)\n  ) : false;\n}\nfunction isMac() {\n  return testPlatform(/^Mac/i);\n}\nfunction isIPhone() {\n  return testPlatform(/^iPhone/i);\n}\nfunction isIPad() {\n  return testPlatform(/^iPad/i) || // iPadOS 13 lies and says it's a Mac, but we can distinguish by detecting touch support.\n  isMac() && navigator.maxTouchPoints > 1;\n}\nfunction isIOS() {\n  return isIPhone() || isIPad();\n}\nfunction isAppleDevice() {\n  return isMac() || isIOS();\n}\nfunction isWebKit() {\n  return testUserAgent(/AppleWebKit/i) && !isChrome();\n}\nfunction isChrome() {\n  return testUserAgent(/Chrome/i);\n}\nfunction isAndroid() {\n  return testUserAgent(/Android/i);\n}\n\n// src/events.ts\nfunction callHandler(event, handler) {\n  if (handler) {\n    if (isFunction(handler)) {\n      handler(event);\n    } else {\n      handler[0](handler[1], event);\n    }\n  }\n  return event?.defaultPrevented;\n}\nfunction composeEventHandlers(handlers) {\n  return (event) => {\n    for (const handler of handlers) {\n      callHandler(event, handler);\n    }\n  };\n}\nfunction isCtrlKey(e) {\n  if (isMac()) {\n    return e.metaKey && !e.ctrlKey;\n  }\n  return e.ctrlKey && !e.metaKey;\n}\n\n// src/focus-without-scrolling.ts\nfunction focusWithoutScrolling(element) {\n  if (!element) {\n    return;\n  }\n  if (supportsPreventScroll()) {\n    element.focus({ preventScroll: true });\n  } else {\n    const scrollableElements = getScrollableElements(element);\n    element.focus();\n    restoreScrollPosition(scrollableElements);\n  }\n}\nvar supportsPreventScrollCached = null;\nfunction supportsPreventScroll() {\n  if (supportsPreventScrollCached == null) {\n    supportsPreventScrollCached = false;\n    try {\n      const focusElem = document.createElement(\"div\");\n      focusElem.focus({\n        get preventScroll() {\n          supportsPreventScrollCached = true;\n          return true;\n        }\n      });\n    } catch (e) {\n    }\n  }\n  return supportsPreventScrollCached;\n}\nfunction getScrollableElements(element) {\n  let parent = element.parentNode;\n  const scrollableElements = [];\n  const rootScrollingElement = document.scrollingElement || document.documentElement;\n  while (parent instanceof HTMLElement && parent !== rootScrollingElement) {\n    if (parent.offsetHeight < parent.scrollHeight || parent.offsetWidth < parent.scrollWidth) {\n      scrollableElements.push({\n        element: parent,\n        scrollTop: parent.scrollTop,\n        scrollLeft: parent.scrollLeft\n      });\n    }\n    parent = parent.parentNode;\n  }\n  if (rootScrollingElement instanceof HTMLElement) {\n    scrollableElements.push({\n      element: rootScrollingElement,\n      scrollTop: rootScrollingElement.scrollTop,\n      scrollLeft: rootScrollingElement.scrollLeft\n    });\n  }\n  return scrollableElements;\n}\nfunction restoreScrollPosition(scrollableElements) {\n  for (const { element, scrollTop, scrollLeft } of scrollableElements) {\n    element.scrollTop = scrollTop;\n    element.scrollLeft = scrollLeft;\n  }\n}\n\n// src/tabbable.ts\nvar focusableElements = [\n  \"input:not([type='hidden']):not([disabled])\",\n  \"select:not([disabled])\",\n  \"textarea:not([disabled])\",\n  \"button:not([disabled])\",\n  \"a[href]\",\n  \"area[href]\",\n  \"[tabindex]\",\n  \"iframe\",\n  \"object\",\n  \"embed\",\n  \"audio[controls]\",\n  \"video[controls]\",\n  \"[contenteditable]:not([contenteditable='false'])\"\n];\nvar tabbableElements = [...focusableElements, '[tabindex]:not([tabindex=\"-1\"]):not([disabled])'];\nvar FOCUSABLE_ELEMENT_SELECTOR = focusableElements.join(\":not([hidden]),\") + \",[tabindex]:not([disabled]):not([hidden])\";\nvar TABBABLE_ELEMENT_SELECTOR = tabbableElements.join(\n  ':not([hidden]):not([tabindex=\"-1\"]),'\n);\nfunction getAllTabbableIn(container, includeContainer) {\n  const elements = Array.from(container.querySelectorAll(FOCUSABLE_ELEMENT_SELECTOR));\n  const tabbableElements2 = elements.filter(isTabbable);\n  if (includeContainer && isTabbable(container)) {\n    tabbableElements2.unshift(container);\n  }\n  tabbableElements2.forEach((element, i) => {\n    if (isFrame(element) && element.contentDocument) {\n      const frameBody = element.contentDocument.body;\n      const allFrameTabbable = getAllTabbableIn(frameBody, false);\n      tabbableElements2.splice(i, 1, ...allFrameTabbable);\n    }\n  });\n  return tabbableElements2;\n}\nfunction isTabbable(element) {\n  return isFocusable(element) && !hasNegativeTabIndex(element);\n}\nfunction isFocusable(element) {\n  return element.matches(FOCUSABLE_ELEMENT_SELECTOR) && isElementVisible(element);\n}\nfunction hasNegativeTabIndex(element) {\n  const tabIndex = parseInt(element.getAttribute(\"tabindex\") || \"0\", 10);\n  return tabIndex < 0;\n}\nfunction isElementVisible(element, childElement) {\n  return element.nodeName !== \"#comment\" && isStyleVisible(element) && isAttributeVisible(element, childElement) && (!element.parentElement || isElementVisible(element.parentElement, element));\n}\nfunction isStyleVisible(element) {\n  if (!(element instanceof HTMLElement) && !(element instanceof SVGElement)) {\n    return false;\n  }\n  const { display, visibility } = element.style;\n  let isVisible = display !== \"none\" && visibility !== \"hidden\" && visibility !== \"collapse\";\n  if (isVisible) {\n    if (!element.ownerDocument.defaultView) {\n      return isVisible;\n    }\n    const { getComputedStyle } = element.ownerDocument.defaultView;\n    const { display: computedDisplay, visibility: computedVisibility } = getComputedStyle(element);\n    isVisible = computedDisplay !== \"none\" && computedVisibility !== \"hidden\" && computedVisibility !== \"collapse\";\n  }\n  return isVisible;\n}\nfunction isAttributeVisible(element, childElement) {\n  return !element.hasAttribute(\"hidden\") && (element.nodeName === \"DETAILS\" && childElement && childElement.nodeName !== \"SUMMARY\" ? element.hasAttribute(\"open\") : true);\n}\nfunction hasFocusWithin(element) {\n  const activeElement = getActiveElement(element);\n  if (!activeElement) {\n    return false;\n  }\n  if (!contains(element, activeElement)) {\n    const activeDescendant = activeElement.getAttribute(\"aria-activedescendant\");\n    if (!activeDescendant) {\n      return false;\n    }\n    if (!(\"id\" in element)) {\n      return false;\n    }\n    if (activeDescendant === element.id) {\n      return true;\n    }\n    return !!element.querySelector(`#${CSS.escape(activeDescendant)}`);\n  } else {\n    return true;\n  }\n}\n\n// src/focus-manager.ts\nfunction createFocusManager(ref, defaultOptions = () => ({})) {\n  const focusNext = (opts = {}) => {\n    const root = ref();\n    if (!root) {\n      return;\n    }\n    const {\n      from = defaultOptions().from || document.activeElement,\n      tabbable = defaultOptions().tabbable,\n      wrap = defaultOptions().wrap,\n      accept = defaultOptions().accept\n    } = opts;\n    const walker = getFocusableTreeWalker(root, { tabbable, accept });\n    if (from && root.contains(from)) {\n      walker.currentNode = from;\n    }\n    let nextNode = walker.nextNode();\n    if (!nextNode && wrap) {\n      walker.currentNode = root;\n      nextNode = walker.nextNode();\n    }\n    if (nextNode) {\n      focusElement(nextNode, true);\n    }\n    return nextNode;\n  };\n  const focusPrevious = (opts = {}) => {\n    const root = ref();\n    if (!root) {\n      return;\n    }\n    const {\n      from = defaultOptions().from || document.activeElement,\n      tabbable = defaultOptions().tabbable,\n      wrap = defaultOptions().wrap,\n      accept = defaultOptions().accept\n    } = opts;\n    const walker = getFocusableTreeWalker(root, { tabbable, accept });\n    if (from && root.contains(from)) {\n      walker.currentNode = from;\n    } else {\n      const next = last(walker);\n      if (next) {\n        focusElement(next, true);\n      }\n      return next;\n    }\n    let previousNode = walker.previousNode();\n    if (!previousNode && wrap) {\n      walker.currentNode = root;\n      previousNode = last(walker);\n    }\n    if (previousNode) {\n      focusElement(previousNode, true);\n    }\n    return previousNode;\n  };\n  const focusFirst = (opts = {}) => {\n    const root = ref();\n    if (!root) {\n      return;\n    }\n    const { tabbable = defaultOptions().tabbable, accept = defaultOptions().accept } = opts;\n    const walker = getFocusableTreeWalker(root, { tabbable, accept });\n    const nextNode = walker.nextNode();\n    if (nextNode) {\n      focusElement(nextNode, true);\n    }\n    return nextNode;\n  };\n  const focusLast = (opts = {}) => {\n    const root = ref();\n    if (!root) {\n      return;\n    }\n    const { tabbable = defaultOptions().tabbable, accept = defaultOptions().accept } = opts;\n    const walker = getFocusableTreeWalker(root, { tabbable, accept });\n    const next = last(walker);\n    if (next) {\n      focusElement(next, true);\n    }\n    return next;\n  };\n  return { focusNext, focusPrevious, focusFirst, focusLast };\n}\nfunction focusElement(element, scroll = false) {\n  if (element != null && !scroll) {\n    try {\n      focusWithoutScrolling(element);\n    } catch (err) {\n    }\n  } else if (element != null) {\n    try {\n      element.focus();\n    } catch (err) {\n    }\n  }\n}\nfunction last(walker) {\n  let next;\n  let last2;\n  do {\n    last2 = walker.lastChild();\n    if (last2) {\n      next = last2;\n    }\n  } while (last2);\n  return next;\n}\nfunction isElementInScope(element, scope) {\n  return scope.some((node) => node.contains(element));\n}\nfunction getFocusableTreeWalker(root, opts, scope) {\n  const selector = opts?.tabbable ? TABBABLE_ELEMENT_SELECTOR : FOCUSABLE_ELEMENT_SELECTOR;\n  const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {\n    acceptNode(node) {\n      if (opts?.from?.contains(node)) {\n        return NodeFilter.FILTER_REJECT;\n      }\n      if (node.matches(selector) && isElementVisible(node) && (!scope || isElementInScope(node, scope)) && (!opts?.accept || opts.accept(node))) {\n        return NodeFilter.FILTER_ACCEPT;\n      }\n      return NodeFilter.FILTER_SKIP;\n    }\n  });\n  if (opts?.from) {\n    walker.currentNode = opts.from;\n  }\n  return walker;\n}\n\n// src/get-scroll-parent.ts\nfunction getScrollParent(node) {\n  while (node && !isScrollable(node)) {\n    node = node.parentElement;\n  }\n  return node || document.scrollingElement || document.documentElement;\n}\nfunction isScrollable(node) {\n  const style = window.getComputedStyle(node);\n  return /(auto|scroll)/.test(style.overflow + style.overflowX + style.overflowY);\n}\n\n// src/is-virtual-event.ts\nfunction isVirtualClick(event) {\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid() && event.pointerType) {\n    return event.type === \"click\" && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nfunction isVirtualPointerEvent(event) {\n  return event.width === 0 && event.height === 0 || event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === \"mouse\";\n}\n\n// src/noop.ts\nfunction noop() {\n  return;\n}\n\n// src/number.ts\nfunction clamp(value, min = -Infinity, max = Infinity) {\n  return Math.min(Math.max(value, min), max);\n}\nfunction snapValueToStep(value, min, max, step) {\n  const remainder = (value - (isNaN(min) ? 0 : min)) % step;\n  let snappedValue = Math.abs(remainder) * 2 >= step ? value + Math.sign(remainder) * (step - Math.abs(remainder)) : value - remainder;\n  if (!isNaN(min)) {\n    if (snappedValue < min) {\n      snappedValue = min;\n    } else if (!isNaN(max) && snappedValue > max) {\n      snappedValue = min + Math.floor((max - min) / step) * step;\n    }\n  } else if (!isNaN(max) && snappedValue > max) {\n    snappedValue = Math.floor(max / step) * step;\n  }\n  const string = step.toString();\n  const index = string.indexOf(\".\");\n  const precision = index >= 0 ? string.length - index : 0;\n  if (precision > 0) {\n    const pow = Math.pow(10, precision);\n    snappedValue = Math.round(snappedValue * pow) / pow;\n  }\n  return snappedValue;\n}\n\n// src/polygon.ts\nfunction getEventPoint(event) {\n  return [event.clientX, event.clientY];\n}\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let inside = false;\n  const length = polygon.length;\n  for (let l = length, i = 0, j = l - 1; i < l; j = i++) {\n    const [xi, yi] = polygon[i];\n    const [xj, yj] = polygon[j];\n    const [, vy] = polygon[j === 0 ? l - 1 : j - 1] || [0, 0];\n    const where = (yi - yj) * (x - xi) - (xi - xj) * (y - yi);\n    if (yj < yi) {\n      if (y >= yj && y < yi) {\n        if (where === 0)\n          return true;\n        if (where > 0) {\n          if (y === yj) {\n            if (y > vy) {\n              inside = !inside;\n            }\n          } else {\n            inside = !inside;\n          }\n        }\n      }\n    } else if (yi < yj) {\n      if (y > yi && y <= yj) {\n        if (where === 0)\n          return true;\n        if (where < 0) {\n          if (y === yj) {\n            if (y < vy) {\n              inside = !inside;\n            }\n          } else {\n            inside = !inside;\n          }\n        }\n      }\n    } else if (y == yi && (x >= xj && x <= xi || x >= xi && x <= xj)) {\n      return true;\n    }\n  }\n  return inside;\n}\nfunction getPolygon() {\n  const id = \"debug-polygon\";\n  const existingPolygon = document.getElementById(id);\n  if (existingPolygon) {\n    return existingPolygon;\n  }\n  const svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n  svg.style.top = \"0\";\n  svg.style.left = \"0\";\n  svg.style.width = \"100%\";\n  svg.style.height = \"100%\";\n  svg.style.fill = \"green\";\n  svg.style.opacity = \"0.2\";\n  svg.style.position = \"fixed\";\n  svg.style.pointerEvents = \"none\";\n  svg.style.zIndex = \"999999\";\n  const polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\n  polygon.setAttribute(\"id\", id);\n  polygon.setAttribute(\"points\", \"0,0 0,0\");\n  svg.appendChild(polygon);\n  document.body.appendChild(svg);\n  return polygon;\n}\nfunction debugPolygon(polygon) {\n  const polygonElement = getPolygon();\n  const points = polygon.map((point) => point.join(\",\")).join(\" \");\n  polygonElement.setAttribute(\"points\", points);\n  return polygonElement.parentElement;\n}\nfunction mergeDefaultProps(defaultProps, props) {\n  return mergeProps(defaultProps, props);\n}\n\n// src/run-after-transition.ts\nvar transitionsByElement = /* @__PURE__ */ new Map();\nvar transitionCallbacks = /* @__PURE__ */ new Set();\nfunction setupGlobalEvents() {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  const onTransitionStart = (e) => {\n    if (!e.target) {\n      return;\n    }\n    let transitions = transitionsByElement.get(e.target);\n    if (!transitions) {\n      transitions = /* @__PURE__ */ new Set();\n      transitionsByElement.set(e.target, transitions);\n      e.target.addEventListener(\"transitioncancel\", onTransitionEnd);\n    }\n    transitions.add(e.propertyName);\n  };\n  const onTransitionEnd = (e) => {\n    if (!e.target) {\n      return;\n    }\n    const properties = transitionsByElement.get(e.target);\n    if (!properties) {\n      return;\n    }\n    properties.delete(e.propertyName);\n    if (properties.size === 0) {\n      e.target.removeEventListener(\"transitioncancel\", onTransitionEnd);\n      transitionsByElement.delete(e.target);\n    }\n    if (transitionsByElement.size === 0) {\n      for (const cb of transitionCallbacks) {\n        cb();\n      }\n      transitionCallbacks.clear();\n    }\n  };\n  document.body.addEventListener(\"transitionrun\", onTransitionStart);\n  document.body.addEventListener(\"transitionend\", onTransitionEnd);\n}\nif (typeof document !== \"undefined\") {\n  if (document.readyState !== \"loading\") {\n    setupGlobalEvents();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", setupGlobalEvents);\n  }\n}\nfunction runAfterTransition(fn) {\n  requestAnimationFrame(() => {\n    if (transitionsByElement.size === 0) {\n      fn();\n    } else {\n      transitionCallbacks.add(fn);\n    }\n  });\n}\n\n// src/scroll-into-view.ts\nfunction scrollIntoView(scrollView, element) {\n  const offsetX = relativeOffset(scrollView, element, \"left\");\n  const offsetY = relativeOffset(scrollView, element, \"top\");\n  const width = element.offsetWidth;\n  const height = element.offsetHeight;\n  let x = scrollView.scrollLeft;\n  let y = scrollView.scrollTop;\n  const maxX = x + scrollView.offsetWidth;\n  const maxY = y + scrollView.offsetHeight;\n  if (offsetX <= x) {\n    x = offsetX;\n  } else if (offsetX + width > maxX) {\n    x += offsetX + width - maxX;\n  }\n  if (offsetY <= y) {\n    y = offsetY;\n  } else if (offsetY + height > maxY) {\n    y += offsetY + height - maxY;\n  }\n  scrollView.scrollLeft = x;\n  scrollView.scrollTop = y;\n}\nfunction relativeOffset(ancestor, child, axis) {\n  const prop = axis === \"left\" ? \"offsetLeft\" : \"offsetTop\";\n  let sum = 0;\n  while (child.offsetParent) {\n    sum += child[prop];\n    if (child.offsetParent === ancestor) {\n      break;\n    } else if (child.offsetParent.contains(ancestor)) {\n      sum -= ancestor[prop];\n      break;\n    }\n    child = child.offsetParent;\n  }\n  return sum;\n}\nfunction scrollIntoViewport(targetElement, opts) {\n  if (document.contains(targetElement)) {\n    const root = document.scrollingElement || document.documentElement;\n    const isScrollPrevented = window.getComputedStyle(root).overflow === \"hidden\";\n    if (!isScrollPrevented) {\n      const { left: originalLeft, top: originalTop } = targetElement.getBoundingClientRect();\n      targetElement?.scrollIntoView?.({ block: \"nearest\" });\n      const { left: newLeft, top: newTop } = targetElement.getBoundingClientRect();\n      if (Math.abs(originalLeft - newLeft) > 1 || Math.abs(originalTop - newTop) > 1) {\n        opts?.containingElement?.scrollIntoView?.({ block: \"center\", inline: \"center\" });\n        targetElement.scrollIntoView?.({ block: \"nearest\" });\n      }\n    } else {\n      let scrollParent = getScrollParent(targetElement);\n      while (targetElement && scrollParent && targetElement !== root && scrollParent !== root) {\n        scrollIntoView(scrollParent, targetElement);\n        targetElement = scrollParent;\n        scrollParent = getScrollParent(targetElement);\n      }\n    }\n  }\n}\n\n// src/styles.ts\nvar visuallyHiddenStyles = {\n  border: \"0\",\n  clip: \"rect(0 0 0 0)\",\n  \"clip-path\": \"inset(50%)\",\n  height: \"1px\",\n  margin: \"0 -1px -1px 0\",\n  overflow: \"hidden\",\n  padding: \"0\",\n  position: \"absolute\",\n  width: \"1px\",\n  \"white-space\": \"nowrap\"\n};\n/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit-utils/src/array.ts\n */\n/*!\n * Original code by Chakra UI\n * MIT Licensed, Copyright (c) 2019 Segun Adebayo.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/chakra-ui/blob/main/packages/utils/src/assertion.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/solidjs-community/solid-aria/blob/2c5f54feb5cfea514b1ee0a52d0416878f882351/packages/utils/src/createGlobalListeners.ts\n */\n/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/232bc79018ec20967fec1e097a9474aba3bb5be7/packages/ariakit-utils/src/dom.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/cf9ab24f3255be1530d0f584061a01aa1e8180e6/packages/@react-aria/utils/src/platform.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a9dea8a3672179e6c38aafd1429daf44c7ea2ff6/packages/@react-aria/utils/src/focusWithoutScrolling.ts\n */\n/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/main/packages/ariakit-utils/src/focus.ts\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/main/packages/%40react-aria/focus/src/isElementVisible.ts\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/focus/src/FocusScope.tsx\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/f6e686fe9d3b983d48650980c1ecfdde320bc62f/packages/@react-aria/focus/src/FocusScope.tsx\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a9dea8a3672179e6c38aafd1429daf44c7ea2ff6/packages/@react-aria/utils/src/getScrollParent.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a9dea8a3672179e6c38aafd1429daf44c7ea2ff6/packages/@react-aria/utils/src/isVirtualEvent.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/ff3e690fffc6c54367b8057e28a0e5b9211f37b5/packages/@react-stately/utils/src/number.ts\n */\n/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/__utils/polygon.ts\n * https://github.com/ariakit/ariakit/blob/f2a96973de523d67e41eec983263936c489ef3e2/packages/ariakit/src/hovercard/__utils/debug-polygon.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a9dea8a3672179e6c38aafd1429daf44c7ea2ff6/packages/@react-aria/utils/src/runAfterTransition.ts\n */\n/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/utils/src/scrollIntoView.ts\n */\n\nexport { EventKey, FOCUSABLE_ELEMENT_SELECTOR, TABBABLE_ELEMENT_SELECTOR, addItemToArray, callHandler, clamp, composeEventHandlers, contains, createFocusManager, createGenerateId, createGlobalListeners, debugPolygon, focusWithoutScrolling, getActiveElement, getAllTabbableIn, getDocument, getEventPoint, getFocusableTreeWalker, getScrollParent, getWindow, hasFocusWithin, isAndroid, isAppleDevice, isArray, isChrome, isCtrlKey, isElementVisible, isFocusable, isFrame, isFunction, isIOS, isIPad, isIPhone, isMac, isNumber, isPointInPolygon, isString, isTabbable, isVirtualClick, isVirtualPointerEvent, isWebKit, mergeDefaultProps, noop, removeItemFromArray, runAfterTransition, scrollIntoView, scrollIntoViewport, snapValueToStep, visuallyHiddenStyles };\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=index.js.map","import { isNumber, isString } from \"@kobalte/utils\";\n/**\n * Generate a flatted array of `CollectionNode` from a custom data source.\n */\nexport function buildNodes(params) {\n    let index = params.startIndex ?? 0;\n    const level = params.startLevel ?? 0;\n    const nodes = [];\n    const getKey = (data) => {\n        if (data == null) {\n            return \"\";\n        }\n        const _getKey = params.getKey ?? \"key\";\n        const dataKey = isString(_getKey) ? data[_getKey] : _getKey(data);\n        return dataKey != null ? String(dataKey) : \"\";\n    };\n    const getTextValue = (data) => {\n        if (data == null) {\n            return \"\";\n        }\n        const _getTextValue = params.getTextValue ?? \"textValue\";\n        const dataTextValue = isString(_getTextValue) ? data[_getTextValue] : _getTextValue(data);\n        return dataTextValue != null ? String(dataTextValue) : \"\";\n    };\n    const getDisabled = (data) => {\n        if (data == null) {\n            return false;\n        }\n        const _getDisabled = params.getDisabled ?? \"disabled\";\n        return (isString(_getDisabled) ? data[_getDisabled] : _getDisabled(data)) ?? false;\n    };\n    const getSectionChildren = (data) => {\n        if (data == null) {\n            return undefined;\n        }\n        if (isString(params.getSectionChildren)) {\n            return data[params.getSectionChildren];\n        }\n        return params.getSectionChildren?.(data);\n    };\n    for (const data of params.dataSource) {\n        // If it's not an object assume it's an item.\n        if (isString(data) || isNumber(data)) {\n            nodes.push({\n                type: \"item\",\n                rawValue: data,\n                key: String(data),\n                textValue: String(data),\n                disabled: getDisabled(data),\n                level,\n                index,\n            });\n            index++;\n            continue;\n        }\n        // Assume it's a section if it has children.\n        if (getSectionChildren(data) != null) {\n            nodes.push({\n                type: \"section\",\n                rawValue: data,\n                key: \"\",\n                textValue: \"\",\n                disabled: false,\n                level: level,\n                index: index,\n            });\n            index++;\n            const sectionChildren = getSectionChildren(data) ?? [];\n            if (sectionChildren.length > 0) {\n                const childNodes = buildNodes({\n                    dataSource: sectionChildren,\n                    getKey: params.getKey,\n                    getTextValue: params.getTextValue,\n                    getDisabled: params.getDisabled,\n                    getSectionChildren: params.getSectionChildren,\n                    startIndex: index,\n                    startLevel: level + 1,\n                });\n                nodes.push(...childNodes);\n                index += childNodes.length;\n            }\n        }\n        else {\n            nodes.push({\n                type: \"item\",\n                rawValue: data,\n                key: getKey(data),\n                textValue: getTextValue(data),\n                disabled: getDisabled(data),\n                level,\n                index,\n            });\n            index++;\n        }\n    }\n    return nodes;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/collections/src/useCollection.ts\n */\nimport { access } from \"@kobalte/utils\";\nimport { createEffect, createSignal, on } from \"solid-js\";\nimport { buildNodes } from \"./utils\";\nexport function createCollection(props, deps = []) {\n    const initialNodes = buildNodes({\n        dataSource: access(props.dataSource),\n        getKey: access(props.getKey),\n        getTextValue: access(props.getTextValue),\n        getDisabled: access(props.getDisabled),\n        getSectionChildren: access(props.getSectionChildren),\n    });\n    const [collection, setCollection] = createSignal(props.factory(initialNodes));\n    createEffect(on([\n        () => access(props.dataSource),\n        () => access(props.getKey),\n        () => access(props.getTextValue),\n        () => access(props.getDisabled),\n        () => access(props.getSectionChildren),\n        () => props.factory,\n        ...deps,\n    ], ([dataSource, getKey, getTextValue, getDisabled, getSectionChildren, factory]) => {\n        const nodes = buildNodes({\n            dataSource,\n            getKey,\n            getTextValue,\n            getDisabled,\n            getSectionChildren,\n        });\n        setCollection(() => factory(nodes));\n    }, {\n        defer: true,\n    }));\n    return collection;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-stately/collections/src/getItemCount.ts\n */\nconst cache = new WeakMap();\nexport function getItemCount(collection) {\n    let count = cache.get(collection);\n    if (count != null) {\n        return count;\n    }\n    count = 0;\n    for (const item of collection) {\n        if (item.type === \"item\") {\n            count++;\n        }\n    }\n    cache.set(collection, count);\n    return count;\n}\n","import { accessWith } from \"@kobalte/utils\";\nimport { createMemo, createSignal, untrack } from \"solid-js\";\n/**\n * Creates a simple reactive state with a getter and setter,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSignal(props) {\n    // Internal uncontrolled value\n    // eslint-disable-next-line solid/reactivity\n    const [_value, _setValue] = createSignal(props.defaultValue?.());\n    const isControlled = createMemo(() => props.value?.() !== undefined);\n    const value = createMemo(() => (isControlled() ? props.value?.() : _value()));\n    const setValue = (next) => {\n        untrack(() => {\n            const nextValue = accessWith(next, value());\n            if (!Object.is(nextValue, value())) {\n                if (!isControlled()) {\n                    _setValue(nextValue);\n                }\n                props.onChange?.(nextValue);\n            }\n            return nextValue;\n        });\n    };\n    return [value, setValue];\n}\n/**\n * Creates a simple reactive Boolean state with a getter, setter and a fallback value of `false`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableBooleanSignal(props) {\n    const [_value, setValue] = createControllableSignal(props);\n    const value = () => _value() ?? false;\n    return [value, setValue];\n}\n/**\n * Creates a simple reactive Array state with a getter, setter and a fallback value of `[]`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableArraySignal(props) {\n    const [_value, setValue] = createControllableSignal(props);\n    const value = () => _value() ?? [];\n    return [value, setValue];\n}\n/**\n * Creates a simple reactive Set state with a getter, setter and a fallback value of `Set()`,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSetSignal(props) {\n    const [_value, setValue] = createControllableSignal(props);\n    const value = () => _value() ?? new Set();\n    return [value, setValue];\n}\n","import { access } from \"@kobalte/utils\";\nimport { createControllableBooleanSignal } from \"../create-controllable-signal\";\n/**\n * Provides state management for open, close and toggle scenarios.\n * Used to control the \"open state\" of components like Modal, Drawer, etc.\n */\nexport function createDisclosureState(props = {}) {\n    const [isOpen, setIsOpen] = createControllableBooleanSignal({\n        value: () => access(props.open),\n        defaultValue: () => !!access(props.defaultOpen),\n        onChange: value => props.onOpenChange?.(value),\n    });\n    const open = () => {\n        setIsOpen(true);\n    };\n    const close = () => {\n        setIsOpen(false);\n    };\n    const toggle = () => {\n        isOpen() ? close() : open();\n    };\n    return {\n        isOpen,\n        setIsOpen,\n        open,\n        close,\n        toggle,\n    };\n}\n","import { access, EventKey, getDocument } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\n/**\n * Listens for when the escape key is down on the document.\n */\nexport function createEscapeKeyDown(props) {\n    const handleKeyDown = (event) => {\n        if (event.key === EventKey.Escape) {\n            props.onEscapeKeyDown?.(event);\n        }\n    };\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        if (access(props.isDisabled)) {\n            return;\n        }\n        const document = props.ownerDocument?.() ?? getDocument();\n        document.addEventListener(\"keydown\", handleKeyDown);\n        onCleanup(() => {\n            document.removeEventListener(\"keydown\", handleKeyDown);\n        });\n    });\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/dismissable/src/layer-stack.ts\n */\nimport { getDocument } from \"@kobalte/utils\";\nexport const DATA_TOP_LAYER_ATTR = \"data-kb-top-layer\";\nlet originalBodyPointerEvents;\nlet hasDisabledBodyPointerEvents = false;\nconst layers = [];\nfunction indexOf(node) {\n    return layers.findIndex(layer => layer.node === node);\n}\nfunction find(node) {\n    return layers[indexOf(node)];\n}\nfunction isTopMostLayer(node) {\n    return layers[layers.length - 1].node === node;\n}\nfunction getPointerBlockingLayers() {\n    return layers.filter(layer => layer.isPointerBlocking);\n}\nfunction getTopMostPointerBlockingLayer() {\n    return [...getPointerBlockingLayers()].slice(-1)[0];\n}\nfunction hasPointerBlockingLayer() {\n    return getPointerBlockingLayers().length > 0;\n}\nfunction isBelowPointerBlockingLayer(node) {\n    const highestBlockingIndex = indexOf(getTopMostPointerBlockingLayer()?.node);\n    return indexOf(node) < highestBlockingIndex;\n}\nfunction addLayer(layer) {\n    layers.push(layer);\n}\nfunction removeLayer(node) {\n    const index = indexOf(node);\n    if (index < 0) {\n        return;\n    }\n    layers.splice(index, 1);\n}\nfunction assignPointerEventToLayers() {\n    layers.forEach(({ node }) => {\n        node.style.pointerEvents = isBelowPointerBlockingLayer(node) ? \"none\" : \"auto\";\n    });\n}\n/**\n * Disable body `pointer-events` if there are \"pointer blocking\" layers in the stack,\n * and body `pointer-events` has not been disabled yet.\n */\nfunction disableBodyPointerEvents(node) {\n    if (hasPointerBlockingLayer() && !hasDisabledBodyPointerEvents) {\n        const ownerDocument = getDocument(node);\n        originalBodyPointerEvents = document.body.style.pointerEvents;\n        ownerDocument.body.style.pointerEvents = \"none\";\n        hasDisabledBodyPointerEvents = true;\n    }\n}\n/**\n * Restore body `pointer-events` style if there is no \"pointer blocking\" layer in the stack.\n */\nfunction restoreBodyPointerEvents(node) {\n    if (hasPointerBlockingLayer()) {\n        return;\n    }\n    const ownerDocument = getDocument(node);\n    ownerDocument.body.style.pointerEvents = originalBodyPointerEvents;\n    if (ownerDocument.body.style.length === 0) {\n        ownerDocument.body.removeAttribute(\"style\");\n    }\n    hasDisabledBodyPointerEvents = false;\n}\nexport const layerStack = {\n    layers,\n    isTopMostLayer,\n    hasPointerBlockingLayer,\n    isBelowPointerBlockingLayer,\n    addLayer,\n    removeLayer,\n    indexOf,\n    find,\n    assignPointerEventToLayers,\n    disableBodyPointerEvents,\n    restoreBodyPointerEvents,\n};\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/focus-scope/src/FocusScope.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-on-child-unmount.ts\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/focus-scope/src/focus-containment.ts\n */\nimport { access, contains, focusWithoutScrolling, getActiveElement, getAllTabbableIn, getDocument, isFocusable, removeItemFromArray, visuallyHiddenStyles, } from \"@kobalte/utils\";\nimport { createEffect, createSignal, onCleanup } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\nconst AUTOFOCUS_ON_MOUNT_EVENT = \"focusScope.autoFocusOnMount\";\nconst AUTOFOCUS_ON_UNMOUNT_EVENT = \"focusScope.autoFocusOnUnmount\";\nconst EVENT_OPTIONS = { bubbles: false, cancelable: true };\nconst focusScopeStack = {\n    /** A stack of focus scopes, with the active one at the top */\n    stack: [],\n    active() {\n        return this.stack[0];\n    },\n    add(scope) {\n        // pause the currently active focus scope (at the top of the stack)\n        if (scope !== this.active()) {\n            this.active()?.pause();\n        }\n        // remove in case it already exists and re-add it at the top of the stack.\n        this.stack = removeItemFromArray(this.stack, scope);\n        this.stack.unshift(scope);\n    },\n    remove(scope) {\n        this.stack = removeItemFromArray(this.stack, scope);\n        this.active()?.resume();\n    },\n};\nexport function createFocusScope(props, ref) {\n    const [isPaused, setIsPaused] = createSignal(false);\n    const focusScope = {\n        pause() {\n            setIsPaused(true);\n        },\n        resume() {\n            setIsPaused(false);\n        },\n    };\n    let lastFocusedElement = null;\n    const onMountAutoFocus = (e) => props.onMountAutoFocus?.(e);\n    const onUnmountAutoFocus = (e) => props.onUnmountAutoFocus?.(e);\n    const ownerDocument = () => getDocument(ref());\n    const createSentinel = () => {\n        const element = ownerDocument().createElement(\"span\");\n        element.setAttribute(\"data-focus-trap\", \"\");\n        element.tabIndex = 0;\n        Object.assign(element.style, visuallyHiddenStyles);\n        return element;\n    };\n    const tabbables = () => {\n        const container = ref();\n        if (!container) {\n            return [];\n        }\n        // Get all tabbable in container excluding focus scope sentinels\n        return getAllTabbableIn(container, true).filter(el => !el.hasAttribute(\"data-focus-trap\"));\n    };\n    const firstTabbable = () => {\n        const items = tabbables();\n        return items.length > 0 ? items[0] : null;\n    };\n    const lastTabbable = () => {\n        const items = tabbables();\n        return items.length > 0 ? items[items.length - 1] : null;\n    };\n    const shouldPreventUnmountAutoFocus = () => {\n        const container = ref();\n        if (!container) {\n            return false;\n        }\n        const activeElement = getActiveElement(container);\n        if (!activeElement) {\n            return false;\n        }\n        if (contains(container, activeElement)) {\n            return false;\n        }\n        // Don't autofocus the previously focused element on unmount\n        // if a focusable element outside the container is already focused.\n        return isFocusable(activeElement);\n    };\n    // Handle dispatching mount and unmount autofocus events.\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        const container = ref();\n        if (!container) {\n            return;\n        }\n        focusScopeStack.add(focusScope);\n        const previouslyFocusedElement = getActiveElement(container);\n        const hasFocusedCandidate = contains(container, previouslyFocusedElement);\n        if (!hasFocusedCandidate) {\n            const mountEvent = new CustomEvent(AUTOFOCUS_ON_MOUNT_EVENT, EVENT_OPTIONS);\n            container.addEventListener(AUTOFOCUS_ON_MOUNT_EVENT, onMountAutoFocus);\n            container.dispatchEvent(mountEvent);\n            if (!mountEvent.defaultPrevented) {\n                // Delay the focusing because it may run before a `DismissableLayer` is added to the layer stack,\n                // so it cause nested dismissable layer to open then close instantly.\n                setTimeout(() => {\n                    focusWithoutScrolling(firstTabbable());\n                    if (getActiveElement(container) === previouslyFocusedElement) {\n                        focusWithoutScrolling(container);\n                    }\n                }, 0);\n            }\n        }\n        onCleanup(() => {\n            container.removeEventListener(AUTOFOCUS_ON_MOUNT_EVENT, onMountAutoFocus);\n            setTimeout(() => {\n                const unmountEvent = new CustomEvent(AUTOFOCUS_ON_UNMOUNT_EVENT, EVENT_OPTIONS);\n                if (shouldPreventUnmountAutoFocus()) {\n                    unmountEvent.preventDefault();\n                }\n                container.addEventListener(AUTOFOCUS_ON_UNMOUNT_EVENT, onUnmountAutoFocus);\n                container.dispatchEvent(unmountEvent);\n                if (!unmountEvent.defaultPrevented) {\n                    focusWithoutScrolling(previouslyFocusedElement ?? ownerDocument().body);\n                }\n                // We need to remove the listener after we `dispatchEvent`.\n                container.removeEventListener(AUTOFOCUS_ON_UNMOUNT_EVENT, onUnmountAutoFocus);\n                focusScopeStack.remove(focusScope);\n            }, 0);\n        });\n    });\n    /*\n    // Handle containing focus if a child unmount.\n    createEffect(() => {\n      if (isServer) {\n        return;\n      }\n  \n      const container = ref();\n  \n      if (!container || !access(props.trapFocus)) {\n        return;\n      }\n  \n      const observer = new MutationObserver(([mutation]) => {\n        if (!mutation || mutation.target !== container) {\n          return;\n        }\n  \n        if (getActiveElement(container) === ownerDocument().body) {\n          focusWithoutScrolling(container);\n        }\n      });\n  \n      observer.observe(container, { childList: true, subtree: true });\n  \n      onCleanup(() => {\n        observer.disconnect();\n      });\n    });\n    */\n    // Handle containing focus if focus is moved outside.\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        const container = ref();\n        if (!container || !access(props.trapFocus) || isPaused()) {\n            return;\n        }\n        const onFocusIn = (event) => {\n            const target = event.target;\n            // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n            if (target?.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n                return;\n            }\n            if (contains(container, target)) {\n                lastFocusedElement = target;\n            }\n            else {\n                focusWithoutScrolling(lastFocusedElement);\n            }\n        };\n        const onFocusOut = (event) => {\n            const relatedTarget = event.relatedTarget;\n            const target = relatedTarget ?? getActiveElement(container);\n            // If the element is within a top layer element (e.g. toasts), always allow moving focus there.\n            if (target?.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n                return;\n            }\n            if (!contains(container, target)) {\n                focusWithoutScrolling(lastFocusedElement);\n            }\n        };\n        ownerDocument().addEventListener(\"focusin\", onFocusIn);\n        ownerDocument().addEventListener(\"focusout\", onFocusOut);\n        onCleanup(() => {\n            ownerDocument().removeEventListener(\"focusin\", onFocusIn);\n            ownerDocument().removeEventListener(\"focusout\", onFocusOut);\n        });\n    });\n    // Handle looping focus (when tabbing whilst at the edges)\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        const container = ref();\n        if (!container || !access(props.trapFocus) || isPaused()) {\n            return;\n        }\n        const startSentinel = createSentinel();\n        container.insertAdjacentElement(\"afterbegin\", startSentinel);\n        const endSentinel = createSentinel();\n        container.insertAdjacentElement(\"beforeend\", endSentinel);\n        function onFocus(event) {\n            const first = firstTabbable();\n            const last = lastTabbable();\n            if (event.relatedTarget === first) {\n                focusWithoutScrolling(last);\n            }\n            else {\n                focusWithoutScrolling(first);\n            }\n        }\n        startSentinel.addEventListener(\"focusin\", onFocus);\n        endSentinel.addEventListener(\"focusin\", onFocus);\n        // Ensure sentinels are always the edges of the container.\n        const observer = new MutationObserver(mutations => {\n            for (const mutation of mutations) {\n                if (mutation.previousSibling === endSentinel) {\n                    endSentinel.remove();\n                    container.insertAdjacentElement(\"beforeend\", endSentinel);\n                }\n                if (mutation.nextSibling === startSentinel) {\n                    startSentinel.remove();\n                    container.insertAdjacentElement(\"afterbegin\", startSentinel);\n                }\n            }\n        });\n        observer.observe(container, { childList: true, subtree: false });\n        onCleanup(() => {\n            startSentinel.removeEventListener(\"focusin\", onFocus);\n            endSentinel.removeEventListener(\"focusin\", onFocus);\n            startSentinel.remove();\n            endSentinel.remove();\n            observer.disconnect();\n        });\n    });\n}\n","/*!\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the zag team:\n * https://github.com/chakra-ui/zag/blob/c1e6c7689b22bf58741ded7cf224dd9baec2a046/packages/utilities/form-utils/src/form.ts\n */\nimport { createEffect, on, onCleanup } from \"solid-js\";\n/**\n * Listens for `reset` event on the closest `<form>` element and execute the given handler.\n */\nexport function createFormResetListener(element, handler) {\n    createEffect(on(element, element => {\n        if (element == null) {\n            return;\n        }\n        const form = getClosestForm(element);\n        if (form == null) {\n            return;\n        }\n        form.addEventListener(\"reset\", handler, { passive: true });\n        onCleanup(() => {\n            form.removeEventListener(\"reset\", handler);\n        });\n    }));\n}\nfunction getClosestForm(element) {\n    return isFormElement(element) ? element.form : element.closest(\"form\");\n}\nfunction isFormElement(element) {\n    return element.matches(\"textarea, input, select, button\");\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/15e101b74966bd5eb719c6529ce71ce57eaed430/packages/@react-aria/live-announcer/src/LiveAnnouncer.tsx\n */\nimport { visuallyHiddenStyles } from \"@kobalte/utils\";\n/* Inspired by https://github.com/AlmeroSteyn/react-aria-live */\nconst LIVEREGION_TIMEOUT_DELAY = 7000;\nlet liveAnnouncer = null;\nexport const DATA_LIVE_ANNOUNCER_ATTR = \"data-live-announcer\";\n/**\n * Announces the message using screen reader technology.\n */\nexport function announce(message, assertiveness = \"assertive\", timeout = LIVEREGION_TIMEOUT_DELAY) {\n    if (!liveAnnouncer) {\n        liveAnnouncer = new LiveAnnouncer();\n    }\n    liveAnnouncer.announce(message, assertiveness, timeout);\n}\n/**\n * Stops all queued announcements.\n */\nexport function clearAnnouncer(assertiveness) {\n    if (liveAnnouncer) {\n        liveAnnouncer.clear(assertiveness);\n    }\n}\n/**\n * Removes the announcer from the DOM.\n */\nexport function destroyAnnouncer() {\n    if (liveAnnouncer) {\n        liveAnnouncer.destroy();\n        liveAnnouncer = null;\n    }\n}\n// LiveAnnouncer is implemented using vanilla DOM, not SolidJS.\nclass LiveAnnouncer {\n    node;\n    assertiveLog;\n    politeLog;\n    constructor() {\n        this.node = document.createElement(\"div\");\n        this.node.dataset.liveAnnouncer = \"true\";\n        Object.assign(this.node.style, visuallyHiddenStyles);\n        this.assertiveLog = this.createLog(\"assertive\");\n        this.node.appendChild(this.assertiveLog);\n        this.politeLog = this.createLog(\"polite\");\n        this.node.appendChild(this.politeLog);\n        document.body.prepend(this.node);\n    }\n    createLog(ariaLive) {\n        const node = document.createElement(\"div\");\n        node.setAttribute(\"role\", \"log\");\n        node.setAttribute(\"aria-live\", ariaLive);\n        node.setAttribute(\"aria-relevant\", \"additions\");\n        return node;\n    }\n    destroy() {\n        if (!this.node) {\n            return;\n        }\n        document.body.removeChild(this.node);\n        this.node = null;\n    }\n    announce(message, assertiveness = \"assertive\", timeout = LIVEREGION_TIMEOUT_DELAY) {\n        if (!this.node) {\n            return;\n        }\n        const node = document.createElement(\"div\");\n        node.textContent = message;\n        if (assertiveness === \"assertive\") {\n            this.assertiveLog.appendChild(node);\n        }\n        else {\n            this.politeLog.appendChild(node);\n        }\n        if (message !== \"\") {\n            setTimeout(() => {\n                node.remove();\n            }, timeout);\n        }\n    }\n    clear(assertiveness) {\n        if (!this.node) {\n            return;\n        }\n        if (!assertiveness || assertiveness === \"assertive\") {\n            this.assertiveLog.innerHTML = \"\";\n        }\n        if (!assertiveness || assertiveness === \"polite\") {\n            this.politeLog.innerHTML = \"\";\n        }\n    }\n}\n","/*!\n * This file is based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/810579b671791f1593108f62cdc1893de3a220e3/packages/@react-aria/overlays/src/ariaHideOutside.ts\n */\nimport { access } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\nimport { DATA_LIVE_ANNOUNCER_ATTR } from \"../../live-announcer\";\n/**\n * Hides all elements in the DOM outside the given targets from screen readers\n * using aria-hidden, and returns a function to revert these changes.\n * In addition, changes to the DOM are watched and new elements\n * outside the targets are automatically hidden.\n */\nexport function createHideOutside(props) {\n    createEffect(() => {\n        if (access(props.isDisabled)) {\n            return;\n        }\n        onCleanup(ariaHideOutside(access(props.targets), access(props.root)));\n    });\n}\n// Keeps a ref count of all hidden elements.\n// Added to when hiding an element, and subtracted from when showing it again.\n// When it reaches zero, aria-hidden is removed.\nconst refCountMap = new WeakMap();\nconst observerStack = [];\n/**\n * Hides all elements in the DOM outside the given targets from screen readers using aria-hidden,\n * and returns a function to revert these changes. In addition, changes to the DOM are watched\n * and new elements outside the targets are automatically hidden.\n * @param targets - The elements that should remain visible.\n * @param root - Nothing will be hidden above this element.\n * @returns - A function to restore all hidden elements.\n */\nexport function ariaHideOutside(targets, root = document.body) {\n    const visibleNodes = new Set(targets);\n    const hiddenNodes = new Set();\n    const walk = (root) => {\n        // Keep live announcer and top layer elements (e.g. toasts) visible.\n        for (const element of root.querySelectorAll(`[${DATA_LIVE_ANNOUNCER_ATTR}], [${DATA_TOP_LAYER_ATTR}]`)) {\n            visibleNodes.add(element);\n        }\n        const acceptNode = (node) => {\n            // Skip this node and its children if it is one of the target nodes, or a live announcer.\n            // Also skip children of already hidden nodes, as aria-hidden is recursive. An exception is\n            // made for elements with role=\"row\" since VoiceOver on iOS has issues hiding elements with role=\"row\".\n            // For that case we want to hide the cells inside as well (https://bugs.webkit.org/show_bug.cgi?id=222623).\n            if (visibleNodes.has(node) ||\n                (node.parentElement &&\n                    hiddenNodes.has(node.parentElement) &&\n                    node.parentElement.getAttribute(\"role\") !== \"row\")) {\n                return NodeFilter.FILTER_REJECT;\n            }\n            // Skip this node but continue to children if one of the targets is inside the node.\n            for (const target of visibleNodes) {\n                if (node.contains(target)) {\n                    return NodeFilter.FILTER_SKIP;\n                }\n            }\n            return NodeFilter.FILTER_ACCEPT;\n        };\n        const walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, { acceptNode });\n        // TreeWalker does not include the root.\n        const acceptRoot = acceptNode(root);\n        if (acceptRoot === NodeFilter.FILTER_ACCEPT) {\n            hide(root);\n        }\n        if (acceptRoot !== NodeFilter.FILTER_REJECT) {\n            let node = walker.nextNode();\n            while (node != null) {\n                hide(node);\n                node = walker.nextNode();\n            }\n        }\n    };\n    const hide = (node) => {\n        const refCount = refCountMap.get(node) ?? 0;\n        // If already aria-hidden, and the ref count is zero, then this element\n        // was already hidden and there's nothing for us to do.\n        if (node.getAttribute(\"aria-hidden\") === \"true\" && refCount === 0) {\n            return;\n        }\n        if (refCount === 0) {\n            node.setAttribute(\"aria-hidden\", \"true\");\n        }\n        hiddenNodes.add(node);\n        refCountMap.set(node, refCount + 1);\n    };\n    // If there is already a MutationObserver listening from a previous call,\n    // disconnect it so the new on takes over.\n    if (observerStack.length) {\n        observerStack[observerStack.length - 1].disconnect();\n    }\n    walk(root);\n    const observer = new MutationObserver(changes => {\n        for (const change of changes) {\n            if (change.type !== \"childList\" || change.addedNodes.length === 0) {\n                continue;\n            }\n            // If the parent element of the added nodes is not within one of the targets,\n            // and not already inside a hidden node, hide all of the new children.\n            if (![...visibleNodes, ...hiddenNodes].some(node => node.contains(change.target))) {\n                for (const node of change.removedNodes) {\n                    if (node instanceof Element) {\n                        visibleNodes.delete(node);\n                        hiddenNodes.delete(node);\n                    }\n                }\n                for (const node of change.addedNodes) {\n                    if ((node instanceof HTMLElement || node instanceof SVGElement) &&\n                        (node.dataset.liveAnnouncer === \"true\" || node.dataset.reactAriaTopLayer === \"true\")) {\n                        visibleNodes.add(node);\n                    }\n                    else if (node instanceof Element) {\n                        walk(node);\n                    }\n                }\n            }\n        }\n    });\n    observer.observe(root, { childList: true, subtree: true });\n    const observerWrapper = {\n        observe() {\n            observer.observe(root, { childList: true, subtree: true });\n        },\n        disconnect() {\n            observer.disconnect();\n        },\n    };\n    observerStack.push(observerWrapper);\n    return () => {\n        observer.disconnect();\n        for (const node of hiddenNodes) {\n            const count = refCountMap.get(node);\n            if (count == null) {\n                return;\n            }\n            if (count === 1) {\n                node.removeAttribute(\"aria-hidden\");\n                refCountMap.delete(node);\n            }\n            else {\n                refCountMap.set(node, count - 1);\n            }\n        }\n        // Remove this observer from the stack, and start the previous one.\n        if (observerWrapper === observerStack[observerStack.length - 1]) {\n            observerStack.pop();\n            if (observerStack.length) {\n                observerStack[observerStack.length - 1].observe();\n            }\n        }\n        else {\n            observerStack.splice(observerStack.indexOf(observerWrapper), 1);\n        }\n    };\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/interact-outside/src/index.ts\n */\nimport { access, composeEventHandlers, contains, getDocument, isCtrlKey, noop, } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { DATA_TOP_LAYER_ATTR } from \"../../dismissable-layer/layer-stack\";\nconst POINTER_DOWN_OUTSIDE_EVENT = \"interactOutside.pointerDownOutside\";\nconst FOCUS_OUTSIDE_EVENT = \"interactOutside.focusOutside\";\nexport function createInteractOutside(props, ref) {\n    let pointerDownTimeoutId;\n    let clickHandler = noop;\n    const ownerDocument = () => getDocument(ref());\n    const onPointerDownOutside = (e) => props.onPointerDownOutside?.(e);\n    const onFocusOutside = (e) => props.onFocusOutside?.(e);\n    const onInteractOutside = (e) => props.onInteractOutside?.(e);\n    const isEventOutside = (e) => {\n        const target = e.target;\n        if (!(target instanceof HTMLElement)) {\n            return false;\n        }\n        // If the target is within a top layer element (e.g. toasts), ignore.\n        if (target.closest(`[${DATA_TOP_LAYER_ATTR}]`)) {\n            return false;\n        }\n        if (!contains(ownerDocument(), target)) {\n            return false;\n        }\n        if (contains(ref(), target)) {\n            return false;\n        }\n        return !props.shouldExcludeElement?.(target);\n    };\n    const onPointerDown = (e) => {\n        function handler() {\n            const container = ref();\n            const target = e.target;\n            if (!container || !target || !isEventOutside(e)) {\n                return;\n            }\n            const handler = composeEventHandlers([\n                onPointerDownOutside,\n                onInteractOutside,\n            ]);\n            target.addEventListener(POINTER_DOWN_OUTSIDE_EVENT, handler, { once: true });\n            const pointerDownOutsideEvent = new CustomEvent(POINTER_DOWN_OUTSIDE_EVENT, {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    originalEvent: e,\n                    isContextMenu: e.button === 2 || (isCtrlKey(e) && e.button === 0),\n                },\n            });\n            target.dispatchEvent(pointerDownOutsideEvent);\n        }\n        /**\n         * On touch devices, we need to wait for a click event because browsers implement\n         * a ~350ms delay between the time the user stops touching the display and when the\n         * browser executes events. We need to ensure we don't reactivate pointer-events within\n         * this timeframe otherwise the browser may execute events that should have been prevented.\n         *\n         * Additionally, this also lets us deal automatically with cancellations when a click event\n         * isn't raised because the page was considered scrolled/drag-scrolled, long-pressed, etc.\n         *\n         * This is why we also continuously remove the previous listener, because we cannot be\n         * certain that it was raised, and therefore cleaned-up.\n         */\n        if (e.pointerType === \"touch\") {\n            ownerDocument().removeEventListener(\"click\", handler);\n            clickHandler = handler;\n            ownerDocument().addEventListener(\"click\", handler, { once: true });\n        }\n        else {\n            handler();\n        }\n    };\n    const onFocusIn = (e) => {\n        const container = ref();\n        const target = e.target;\n        if (!container || !target || !isEventOutside(e)) {\n            return;\n        }\n        const handler = composeEventHandlers([onFocusOutside, onInteractOutside]);\n        target.addEventListener(FOCUS_OUTSIDE_EVENT, handler, { once: true });\n        const focusOutsideEvent = new CustomEvent(FOCUS_OUTSIDE_EVENT, {\n            bubbles: false,\n            cancelable: true,\n            detail: {\n                originalEvent: e,\n                isContextMenu: false,\n            },\n        });\n        target.dispatchEvent(focusOutsideEvent);\n    };\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        if (access(props.isDisabled)) {\n            return;\n        }\n        /**\n         * if this primitive executes in a component that mounts via a `pointerdown` event, the event\n         * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n         * this by delaying the event listener registration on the document.\n         * ```\n         * button.addEventListener('pointerdown', () => {\n         *   console.log('I will log');\n         *   document.addEventListener('pointerdown', () => {\n         *     console.log('I will also log');\n         *   })\n         * });\n         */\n        pointerDownTimeoutId = window.setTimeout(() => {\n            ownerDocument().addEventListener(\"pointerdown\", onPointerDown, true);\n        }, 0);\n        ownerDocument().addEventListener(\"focusin\", onFocusIn, true);\n        onCleanup(() => {\n            window.clearTimeout(pointerDownTimeoutId);\n            ownerDocument().removeEventListener(\"click\", clickHandler);\n            ownerDocument().removeEventListener(\"pointerdown\", onPointerDown, true);\n            ownerDocument().removeEventListener(\"focusin\", onFocusIn, true);\n        });\n    });\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/Presence.tsx\n * https://github.com/radix-ui/primitives/blob/21a7c97dc8efa79fecca36428eec49f187294085/packages/react/presence/src/useStateMachine.tsx\n */\nimport { createEffect, createSignal, on, onCleanup } from \"solid-js\";\nexport function createPresence(present) {\n    const [node, setNode] = createSignal();\n    let styles = {};\n    let prevPresent = present();\n    let prevAnimationName = \"none\";\n    const [state, send] = createStateMachine(present() ? \"mounted\" : \"unmounted\", {\n        mounted: {\n            UNMOUNT: \"unmounted\",\n            ANIMATION_OUT: \"unmountSuspended\",\n        },\n        unmountSuspended: {\n            MOUNT: \"mounted\",\n            ANIMATION_END: \"unmounted\",\n        },\n        unmounted: {\n            MOUNT: \"mounted\",\n        },\n    });\n    createEffect(on(state, state => {\n        const currentAnimationName = getAnimationName(styles);\n        prevAnimationName = state === \"mounted\" ? currentAnimationName : \"none\";\n    }));\n    createEffect(on(present, present => {\n        if (prevPresent === present) {\n            return;\n        }\n        const currentAnimationName = getAnimationName(styles);\n        if (present) {\n            send(\"MOUNT\");\n            //} else if (currentAnimationName === \"none\" || styles?.display === \"none\") {\n            // If there is no exit animation or the element is hidden, animations won't run, so we unmount instantly\n        }\n        else if (styles?.display === \"none\") {\n            // If the element is hidden, animations won't run, so we unmount instantly\n            send(\"UNMOUNT\");\n        }\n        else {\n            /**\n             * When `present` changes to `false`, we check changes to animation-name to\n             * determine whether an animation has started. We chose this approach (reading\n             * computed styles) because there is no `animationrun` event and `animationstart`\n             * fires after `animation-delay` has expired which would be too late.\n             */\n            const isAnimating = prevAnimationName !== currentAnimationName;\n            if (prevPresent && isAnimating) {\n                send(\"ANIMATION_OUT\");\n            }\n            else {\n                send(\"UNMOUNT\");\n            }\n        }\n        prevPresent = present;\n    }));\n    createEffect(on(node, node => {\n        if (node) {\n            /**\n             * Triggering an ANIMATION_OUT during an ANIMATION_IN will fire an `animationcancel`\n             * event for ANIMATION_IN after we have entered `unmountSuspended` state. So, we\n             * make sure we only trigger ANIMATION_END for the currently active animation.\n             */\n            const handleAnimationEnd = (event) => {\n                const currentAnimationName = getAnimationName(styles);\n                const isCurrentAnimation = currentAnimationName.includes(event.animationName);\n                if (event.target === node && isCurrentAnimation) {\n                    send(\"ANIMATION_END\");\n                }\n            };\n            const handleAnimationStart = (event) => {\n                if (event.target === node) {\n                    // if animation occurred, store its name as the previous animation.\n                    prevAnimationName = getAnimationName(styles);\n                }\n            };\n            node.addEventListener(\"animationstart\", handleAnimationStart);\n            node.addEventListener(\"animationcancel\", handleAnimationEnd);\n            node.addEventListener(\"animationend\", handleAnimationEnd);\n            onCleanup(() => {\n                node.removeEventListener(\"animationstart\", handleAnimationStart);\n                node.removeEventListener(\"animationcancel\", handleAnimationEnd);\n                node.removeEventListener(\"animationend\", handleAnimationEnd);\n            });\n        }\n        else {\n            // Transition to the unmounted state if the node is removed prematurely.\n            // We avoid doing so during cleanup as the node may change but still exist.\n            send(\"ANIMATION_END\");\n        }\n    }));\n    return {\n        isPresent: () => [\"mounted\", \"unmountSuspended\"].includes(state()),\n        setRef: (el) => {\n            if (el) {\n                styles = getComputedStyle(el);\n            }\n            setNode(el);\n        },\n    };\n}\n/* -----------------------------------------------------------------------------------------------*/\nfunction getAnimationName(styles) {\n    return styles?.animationName || \"none\";\n}\nfunction createStateMachine(initialState, machine) {\n    const reduce = (state, event) => {\n        const nextState = machine[state][event];\n        return nextState ?? state;\n    };\n    const [state, setState] = createSignal(initialState);\n    const send = (event) => {\n        setState(prev => reduce(prev, event));\n    };\n    return [state, send];\n}\n","/*!\n * Portions of this file are based on code from floating-ui.\n * MIT Licensed, Copyright (c) 2021 Floating UI contributors.\n *\n * Credits to the Floating UI contributors:\n * https://github.com/floating-ui/floating-ui/blob/f7ce9420aa32c150eb45049f12cf3b5506715341/packages/react/src/components/FloatingOverlay.tsx\n *\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/5d8a1f047fcadcf117073c70359663a3946b73bf/packages/ariakit/src/dialog/__utils/use-prevent-body-scroll.ts\n */\nimport { access, chain, getDocument, getWindow, isIOS } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nconst SCROLL_LOCK_IDENTIFIER = \"data-kb-scroll-lock\";\nfunction assignStyle(element, style) {\n    if (!element) {\n        return () => { };\n    }\n    const previousStyle = element.style.cssText;\n    Object.assign(element.style, style);\n    return () => {\n        element.style.cssText = previousStyle;\n    };\n}\nfunction setCSSProperty(element, property, value) {\n    if (!element) {\n        return () => { };\n    }\n    const previousValue = element.style.getPropertyValue(property);\n    element.style.setProperty(property, value);\n    return () => {\n        if (previousValue) {\n            element.style.setProperty(property, previousValue);\n        }\n        else {\n            element.style.removeProperty(property);\n        }\n    };\n}\nfunction getPaddingProperty(documentElement) {\n    // RTL <body> scrollbar\n    const documentLeft = documentElement.getBoundingClientRect().left;\n    const scrollbarX = Math.round(documentLeft) + documentElement.scrollLeft;\n    return scrollbarX ? \"paddingLeft\" : \"paddingRight\";\n}\n/**\n * Prevents scrolling on the document body on mount, and\n * restores it on unmount. Also ensures that content does not\n * shift due to the scrollbars disappearing.\n */\nexport function createPreventScroll(props) {\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        if (!access(props.ownerRef) || access(props.isDisabled)) {\n            return;\n        }\n        const doc = getDocument(access(props.ownerRef));\n        const win = getWindow(access(props.ownerRef));\n        const { documentElement, body } = doc;\n        const alreadyLocked = body.hasAttribute(SCROLL_LOCK_IDENTIFIER);\n        if (alreadyLocked) {\n            return;\n        }\n        body.setAttribute(SCROLL_LOCK_IDENTIFIER, \"\");\n        const scrollbarWidth = win.innerWidth - documentElement.clientWidth;\n        const setScrollbarWidthProperty = () => {\n            return setCSSProperty(documentElement, \"--scrollbar-width\", `${scrollbarWidth}px`);\n        };\n        const paddingProperty = getPaddingProperty(documentElement);\n        // For most browsers, all we need to do is set `overflow: hidden` on the root element, and\n        // add some padding to prevent the page from shifting when the scrollbar is hidden.\n        const setStyle = () => {\n            return assignStyle(body, {\n                overflow: \"hidden\",\n                [paddingProperty]: `${scrollbarWidth}px`,\n            });\n        };\n        // Only iOS doesn't respect `overflow: hidden` on document.body.\n        const setIOSStyle = () => {\n            const { scrollX, scrollY, visualViewport } = win;\n            // iOS 12 does not support `visualViewport`.\n            const offsetLeft = visualViewport?.offsetLeft ?? 0;\n            const offsetTop = visualViewport?.offsetTop ?? 0;\n            const restoreStyle = assignStyle(body, {\n                position: \"fixed\",\n                overflow: \"hidden\",\n                top: `${-(scrollY - Math.floor(offsetTop))}px`,\n                left: `${-(scrollX - Math.floor(offsetLeft))}px`,\n                right: \"0\",\n                [paddingProperty]: `${scrollbarWidth}px`,\n            });\n            return () => {\n                restoreStyle();\n                win.scrollTo(scrollX, scrollY);\n            };\n        };\n        const cleanup = chain([setScrollbarWidthProperty(), isIOS() ? setIOSStyle() : setStyle()]);\n        onCleanup(() => {\n            cleanup();\n            body.removeAttribute(SCROLL_LOCK_IDENTIFIER);\n        });\n    });\n}\n","/**\n * Create a function that call the setter with an id and return a function to reset it.\n */\nexport function createRegisterId(setter) {\n    return (id) => {\n        setter(id);\n        return () => setter(undefined);\n    };\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the ariakit team:\n * https://github.com/ariakit/ariakit/blob/8a13899ff807bbf39f3d89d2d5964042ba4d5287/packages/ariakit-react-utils/src/hooks.ts\n */\nimport { isString } from \"@kobalte/utils\";\nimport { createEffect, createSignal } from \"solid-js\";\n/**\n * Returns the tag name by parsing an element ref.\n * @example\n * function Component(props) {\n *   let ref: HTMLDivElement | undefined;\n *   const tagName = createTagName(() => ref, () => \"button\"); // div\n *   return <div ref={ref} {...props} />;\n * }\n */\nexport function createTagName(ref, fallback) {\n    const [tagName, setTagName] = createSignal(stringOrUndefined(fallback?.()));\n    createEffect(() => {\n        setTagName(ref()?.tagName.toLowerCase() || stringOrUndefined(fallback?.()));\n    });\n    return tagName;\n}\nfunction stringOrUndefined(value) {\n    return isString(value) ? value : undefined;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/70e7caf1946c423bc9aa9cb0e50dbdbe953d239b/packages/@react-aria/label/src/useField.ts\n */\nimport { access, createGenerateId, mergeDefaultProps, } from \"@kobalte/utils\";\nimport { createMemo, createSignal, createUniqueId } from \"solid-js\";\nimport { createRegisterId } from \"../primitives\";\nexport const FORM_CONTROL_PROP_NAMES = [\n    \"id\",\n    \"name\",\n    \"validationState\",\n    \"required\",\n    \"disabled\",\n    \"readOnly\",\n];\nexport function createFormControl(props) {\n    const defaultId = `form-control-${createUniqueId()}`;\n    props = mergeDefaultProps({ id: defaultId }, props);\n    const [labelId, setLabelId] = createSignal();\n    const [fieldId, setFieldId] = createSignal();\n    const [descriptionId, setDescriptionId] = createSignal();\n    const [errorMessageId, setErrorMessageId] = createSignal();\n    const getAriaLabelledBy = (fieldId, fieldAriaLabel, fieldAriaLabelledBy) => {\n        const hasAriaLabelledBy = fieldAriaLabelledBy != null || labelId() != null;\n        return ([\n            fieldAriaLabelledBy,\n            labelId(),\n            // If there is both an aria-label and aria-labelledby, add the field itself has an aria-labelledby\n            hasAriaLabelledBy && fieldAriaLabel != null ? fieldId : undefined,\n        ]\n            .filter(Boolean)\n            .join(\" \") || undefined);\n    };\n    const getAriaDescribedBy = (fieldAriaDescribedBy) => {\n        return ([\n            descriptionId(),\n            // Use aria-describedby for error message because aria-errormessage is unsupported using VoiceOver or NVDA.\n            // See https://github.com/adobe/react-spectrum/issues/1346#issuecomment-740136268\n            errorMessageId(),\n            fieldAriaDescribedBy,\n        ]\n            .filter(Boolean)\n            .join(\" \") || undefined);\n    };\n    const dataset = createMemo(() => ({\n        \"data-valid\": access(props.validationState) === \"valid\" ? \"\" : undefined,\n        \"data-invalid\": access(props.validationState) === \"invalid\" ? \"\" : undefined,\n        \"data-required\": access(props.required) ? \"\" : undefined,\n        \"data-disabled\": access(props.disabled) ? \"\" : undefined,\n        \"data-readonly\": access(props.readOnly) ? \"\" : undefined,\n    }));\n    const formControlContext = {\n        name: () => access(props.name) ?? access(props.id),\n        dataset,\n        validationState: () => access(props.validationState),\n        isRequired: () => access(props.required),\n        isDisabled: () => access(props.disabled),\n        isReadOnly: () => access(props.readOnly),\n        labelId,\n        fieldId,\n        descriptionId,\n        errorMessageId,\n        getAriaLabelledBy,\n        getAriaDescribedBy,\n        generateId: createGenerateId(() => access(props.id)),\n        registerLabel: createRegisterId(setLabelId),\n        registerField: createRegisterId(setFieldId),\n        registerDescription: createRegisterId(setDescriptionId),\n        registerErrorMessage: createRegisterId(setErrorMessageId),\n    };\n    return { formControlContext };\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const FormControlContext = createContext();\nexport function useFormControlContext() {\n    const context = useContext(FormControlContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useFormControlContext` must be used within a `FormControlContext.Provider` component\");\n    }\n    return context;\n}\n","import { access, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { useFormControlContext } from \"./form-control-context\";\nexport const FORM_CONTROL_FIELD_PROP_NAMES = [\n    \"id\",\n    \"aria-label\",\n    \"aria-labelledby\",\n    \"aria-describedby\",\n];\nexport function createFormControlField(props) {\n    const context = useFormControlContext();\n    props = mergeDefaultProps({ id: context.generateId(\"field\") }, props);\n    createEffect(() => onCleanup(context.registerField(access(props.id))));\n    return {\n        fieldProps: {\n            id: () => access(props.id),\n            ariaLabel: () => access(props[\"aria-label\"]),\n            ariaLabelledBy: () => context.getAriaLabelledBy(access(props.id), access(props[\"aria-label\"]), access(props[\"aria-labelledby\"])),\n            ariaDescribedBy: () => context.getAriaDescribedBy(access(props[\"aria-describedby\"])),\n        },\n    };\n}\n","/* @refresh reload */\n/* eslint-disable solid/reactivity */\n/* eslint-disable solid/components-return-once */\n/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/b14ac1fff0cdaf45d1ea3e65c28c320ac0f743f2/packages/react/slot/src/Slot.tsx\n */\nimport { combineProps as baseCombineProps, isArray } from \"@kobalte/utils\";\nimport { children, For, Show, splitProps, } from \"solid-js\";\nimport { Dynamic } from \"solid-js/web\";\n/**\n * A utility component that render either a direct `<As>` child or its `as` prop.\n */\nexport function Polymorphic(props) {\n    const [local, others] = splitProps(props, [\n        \"asChild\",\n        \"as\",\n        \"children\",\n    ]);\n    // Prevent the extra computation below when \"as child\" polymorphism is not needed.\n    if (!local.asChild) {\n        return (<Dynamic component={local.as} {...others}>\n        {local.children}\n      </Dynamic>);\n    }\n    const resolvedChildren = children(() => local.children);\n    // Single child is `As`.\n    if (isAs(resolvedChildren())) {\n        const combinedProps = combineProps(others, resolvedChildren()?.props ?? {});\n        return <Dynamic {...combinedProps}/>;\n    }\n    // Multiple children, find an `As` if any.\n    if (isArray(resolvedChildren())) {\n        const newElement = resolvedChildren().find(isAs);\n        if (newElement) {\n            // because the new element will be the one rendered, we are only interested\n            // in grabbing its children (`newElement.props.children`)\n            const newChildren = () => (<For each={resolvedChildren()}>\n          {(child) => (<Show when={child === newElement} fallback={child}>\n              {newElement.props.children}\n            </Show>)}\n        </For>);\n            const combinedProps = combineProps(others, newElement?.props ?? {});\n            return <Dynamic {...combinedProps}>{newChildren}</Dynamic>;\n        }\n    }\n    throw new Error(\"[kobalte]: Component is expected to render `asChild` but no children `As` component was found.\");\n}\n/* -------------------------------------------------------------------------------------------------\n * As\n * -----------------------------------------------------------------------------------------------*/\nconst AS_COMPONENT_SYMBOL = Symbol(\"$$KobalteAsComponent\");\n/**\n * A utility component used to delegate rendering of its `Polymorphic` parent component.\n */\nexport function As(props) {\n    return {\n        [AS_COMPONENT_SYMBOL]: true,\n        props,\n    };\n}\n/* -------------------------------------------------------------------------------------------------\n * Utils\n * -----------------------------------------------------------------------------------------------*/\nfunction isAs(component) {\n    return component?.[AS_COMPONENT_SYMBOL] === true;\n}\nfunction combineProps(baseProps, overrideProps) {\n    return baseCombineProps([baseProps, overrideProps], { reverseEventHandlers: true });\n}\n","import { mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\nimport { useFormControlContext } from \"./form-control-context\";\n/**\n * The label that gives the user information on the form control.\n */\nexport function FormControlLabel(props) {\n    let ref;\n    const context = useFormControlContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"label\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"ref\"]);\n    const tagName = createTagName(() => ref, () => \"label\");\n    createEffect(() => onCleanup(context.registerLabel(others.id)));\n    return (<Polymorphic as=\"label\" ref={mergeRefs(el => (ref = el), local.ref)} for={tagName() === \"label\" ? context.fieldId() : undefined} {...context.dataset()} {...others}/>);\n}\n","export const COMMON_INTL_MESSAGES = {\n    \"ar-AE\": { dismiss: \"تجاهل\" },\n    \"bg-BG\": { dismiss: \"Отхвърляне\" },\n    \"cs-CZ\": { dismiss: \"Odstranit\" },\n    \"da-DK\": { dismiss: \"Luk\" },\n    \"de-DE\": { dismiss: \"Schließen\" },\n    \"el-GR\": { dismiss: \"Απόρριψη\" },\n    \"en-US\": { dismiss: \"Dismiss\" },\n    \"es-ES\": { dismiss: \"Descartar\" },\n    \"et-EE\": { dismiss: \"Lõpeta\" },\n    \"fi-FI\": { dismiss: \"Hylkää\" },\n    \"fr-FR\": { dismiss: \"Rejeter\" },\n    \"he-IL\": { dismiss: \"התעלם\" },\n    \"hr-HR\": { dismiss: \"Odbaci\" },\n    \"hu-HU\": { dismiss: \"Elutasítás\" },\n    \"it-IT\": { dismiss: \"Ignora\" },\n    \"ja-JP\": { dismiss: \"閉じる\" },\n    \"ko-KR\": { dismiss: \"무시\" },\n    \"lt-LT\": { dismiss: \"Atmesti\" },\n    \"lv-LV\": { dismiss: \"Nerādīt\" },\n    \"nb-NO\": { dismiss: \"Lukk\" },\n    \"nl-NL\": { dismiss: \"Negeren\" },\n    \"pl-PL\": { dismiss: \"Zignoruj\" },\n    \"pt-BR\": { dismiss: \"Descartar\" },\n    \"pt-PT\": { dismiss: \"Dispensar\" },\n    \"ro-RO\": { dismiss: \"Revocare\" },\n    \"ru-RU\": { dismiss: \"Пропустить\" },\n    \"sk-SK\": { dismiss: \"Zrušiť\" },\n    \"sl-SI\": { dismiss: \"Opusti\" },\n    \"sr-SP\": { dismiss: \"Odbaci\" },\n    \"sv-SE\": { dismiss: \"Avvisa\" },\n    \"tr-TR\": { dismiss: \"Kapat\" },\n    \"uk-UA\": { dismiss: \"Скасувати\" },\n    \"zh-CN\": { dismiss: \"取消\" },\n    \"zh-TW\": { dismiss: \"關閉\" },\n};\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/utils.ts\n */\n// https://en.wikipedia.org/wiki/Right-to-left\nconst RTL_SCRIPTS = new Set([\n    \"Avst\",\n    \"Arab\",\n    \"Armi\",\n    \"Syrc\",\n    \"Samr\",\n    \"Mand\",\n    \"Thaa\",\n    \"Mend\",\n    \"Nkoo\",\n    \"Adlm\",\n    \"Rohg\",\n    \"Hebr\",\n]);\nexport const RTL_LANGS = new Set([\n    \"ae\",\n    \"ar\",\n    \"arc\",\n    \"bcc\",\n    \"bqi\",\n    \"ckb\",\n    \"dv\",\n    \"fa\",\n    \"glk\",\n    \"he\",\n    \"ku\",\n    \"mzn\",\n    \"nqo\",\n    \"pnb\",\n    \"ps\",\n    \"sd\",\n    \"ug\",\n    \"ur\",\n    \"yi\",\n]);\n/**\n * Determines if a locale is read right to left using [Intl.Locale]\n * {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale}.\n */\nexport function isRTL(locale) {\n    // If the Intl.Locale API is available, use it to get the script for the locale.\n    // This is more accurate than guessing by language, since languages can be written in multiple scripts.\n    if (Intl.Locale) {\n        const script = new Intl.Locale(locale).maximize().script ?? \"\";\n        return RTL_SCRIPTS.has(script);\n    }\n    // If not, just guess by the language (first part of the locale)\n    const lang = locale.split(\"-\")[0];\n    return RTL_LANGS.has(lang);\n}\nexport function getReadingDirection(locale) {\n    return isRTL(locale) ? \"rtl\" : \"ltr\";\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useDefaultLocale.ts\n */\nimport { createMemo, createSignal, onCleanup, onMount } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { getReadingDirection } from \"./utils\";\n/**\n * Gets the locale setting of the browser.\n */\nexport function getDefaultLocale() {\n    let locale = \n    // @ts-ignore\n    (typeof navigator !== \"undefined\" && (navigator.language || navigator.userLanguage)) || \"en-US\";\n    try {\n        Intl.DateTimeFormat.supportedLocalesOf([locale]);\n    }\n    catch (_err) {\n        locale = \"en-US\";\n    }\n    return {\n        locale,\n        direction: getReadingDirection(locale),\n    };\n}\nlet currentLocale = getDefaultLocale();\nconst listeners = new Set();\nfunction updateLocale() {\n    currentLocale = getDefaultLocale();\n    for (const listener of listeners) {\n        listener(currentLocale);\n    }\n}\n/**\n * Returns an accessor for the current browser/system language, and updates when it changes.\n */\nexport function createDefaultLocale() {\n    // We cannot determine the browser's language on the server, so default to en-US.\n    // This will be updated after hydration on the client to the correct value.\n    const defaultSSRLocale = {\n        locale: \"en-US\",\n        direction: \"ltr\",\n    };\n    const [defaultClientLocale, setDefaultClientLocale] = createSignal(currentLocale);\n    const defaultLocale = createMemo(() => (isServer ? defaultSSRLocale : defaultClientLocale()));\n    onMount(() => {\n        if (listeners.size === 0) {\n            window.addEventListener(\"languagechange\", updateLocale);\n        }\n        listeners.add(setDefaultClientLocale);\n        onCleanup(() => {\n            listeners.delete(setDefaultClientLocale);\n            if (listeners.size === 0) {\n                window.removeEventListener(\"languagechange\", updateLocale);\n            }\n        });\n    });\n    return {\n        locale: () => defaultLocale().locale,\n        direction: () => defaultLocale().direction,\n    };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/context.tsx\n */\nimport { createContext, useContext } from \"solid-js\";\nimport { createDefaultLocale } from \"./create-default-locale\";\nimport { getReadingDirection } from \"./utils\";\nconst I18nContext = createContext();\n/**\n * Provides the locale for the application to all child components.\n */\nexport function I18nProvider(props) {\n    const defaultLocale = createDefaultLocale();\n    const context = {\n        locale: () => props.locale ?? defaultLocale.locale(),\n        direction: () => (props.locale ? getReadingDirection(props.locale) : defaultLocale.direction()),\n    };\n    return <I18nContext.Provider value={context}>{props.children}</I18nContext.Provider>;\n}\n/**\n * Returns an accessor for the current locale and layout direction.\n */\nexport function useLocale() {\n    const defaultLocale = createDefaultLocale();\n    const context = useContext(I18nContext);\n    return context || defaultLocale;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/i18n/src/useCollator.ts\n */\nimport { createMemo } from \"solid-js\";\nimport { useLocale } from \"./i18n-provider\";\nconst cache = new Map();\n/**\n * Provides localized string collation for the current locale. Automatically updates when the locale changes,\n * and handles caching of the collator for performance.\n * @param options - Collator options.\n */\nexport function createCollator(options) {\n    const { locale } = useLocale();\n    const cacheKey = createMemo(() => {\n        return (locale() +\n            (options\n                ? Object.entries(options)\n                    .sort((a, b) => (a[0] < b[0] ? -1 : 1))\n                    .join()\n                : \"\"));\n    });\n    return createMemo(() => {\n        const key = cacheKey();\n        let collator;\n        if (cache.has(key)) {\n            collator = cache.get(key);\n        }\n        if (!collator) {\n            collator = new Intl.Collator(locale(), options);\n            cache.set(key, collator);\n        }\n        return collator;\n    });\n}\n","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: milliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            case 'rounding-mode-floor':\n                result.roundingMode = 'floor';\n                continue;\n            case 'rounding-mode-ceiling':\n                result.roundingMode = 'ceil';\n                continue;\n            case 'rounding-mode-down':\n                result.roundingMode = 'trunc';\n                continue;\n            case 'rounding-mode-up':\n                result.roundingMode = 'expand';\n                continue;\n            case 'rounding-mode-half-even':\n                result.roundingMode = 'halfEven';\n                continue;\n            case 'rounding-mode-half-down':\n                result.roundingMode = 'halfTrunc';\n                continue;\n            case 'rounding-mode-half-up':\n                result.roundingMode = 'halfExpand';\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","// @generated from time-data-gen.ts\n// prettier-ignore  \nexport var timeData = {\n    \"001\": [\n        \"H\",\n        \"h\"\n    ],\n    \"AC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"AF\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"AG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"AL\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"AS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"AT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"AW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"AX\": [\n        \"H\"\n    ],\n    \"AZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BD\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"BE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BG\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"BH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"BI\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BJ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BN\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"BO\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"BQ\": [\n        \"H\"\n    ],\n    \"BR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"BS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"BT\": [\n        \"h\",\n        \"H\"\n    ],\n    \"BW\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"BY\": [\n        \"H\",\n        \"h\"\n    ],\n    \"BZ\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CA\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"CC\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CD\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"CF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CH\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"CI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CL\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"CN\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"CO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CP\": [\n        \"H\"\n    ],\n    \"CR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CU\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"CV\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"CX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CY\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"CZ\": [\n        \"H\"\n    ],\n    \"DE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"DG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"DJ\": [\n        \"h\",\n        \"H\"\n    ],\n    \"DK\": [\n        \"H\"\n    ],\n    \"DM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"DO\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"DZ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"EC\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"EE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"EG\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"EH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ER\": [\n        \"h\",\n        \"H\"\n    ],\n    \"ES\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"ET\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"FI\": [\n        \"H\"\n    ],\n    \"FJ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"FM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"FO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"FR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GA\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GB\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GD\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GE\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"GF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GH\": [\n        \"h\",\n        \"H\"\n    ],\n    \"GI\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"GM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GN\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GP\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GQ\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"GR\": [\n        \"h\",\n        \"H\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"GT\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"GU\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"GW\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"GY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"HK\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"HN\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"HR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"HU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"IC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ID\": [\n        \"H\"\n    ],\n    \"IE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"IM\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IN\": [\n        \"h\",\n        \"H\"\n    ],\n    \"IO\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"IQ\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"IR\": [\n        \"hB\",\n        \"H\"\n    ],\n    \"IS\": [\n        \"H\"\n    ],\n    \"IT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"JE\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"JM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"JO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"JP\": [\n        \"H\",\n        \"K\",\n        \"h\"\n    ],\n    \"KE\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"KG\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KH\": [\n        \"hB\",\n        \"h\",\n        \"H\",\n        \"hb\"\n    ],\n    \"KI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KM\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KN\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KP\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"KW\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"KY\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"KZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"LA\": [\n        \"H\",\n        \"hb\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LB\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"LC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LI\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"LK\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"LR\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"LS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"LT\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"LU\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"LV\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"LY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MD\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ME\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"MF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MG\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MH\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MK\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ML\": [\n        \"H\"\n    ],\n    \"MM\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"MN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MO\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MP\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MQ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"MR\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"MS\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"MT\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MU\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MV\": [\n        \"H\",\n        \"h\"\n    ],\n    \"MW\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"MX\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"MY\": [\n        \"hb\",\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"MZ\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NC\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NE\": [\n        \"H\"\n    ],\n    \"NF\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NG\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NI\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"NL\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"NO\": [\n        \"H\",\n        \"h\"\n    ],\n    \"NP\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"NR\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NU\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"NZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"OM\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PA\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PE\": [\n        \"H\",\n        \"hB\",\n        \"h\",\n        \"hb\"\n    ],\n    \"PF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"PG\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PH\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PK\": [\n        \"h\",\n        \"hB\",\n        \"H\"\n    ],\n    \"PL\": [\n        \"H\",\n        \"h\"\n    ],\n    \"PM\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PN\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"PR\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"PS\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"PT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"PW\": [\n        \"h\",\n        \"H\"\n    ],\n    \"PY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"QA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"RE\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RO\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"RS\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"RU\": [\n        \"H\"\n    ],\n    \"RW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"SA\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SB\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SC\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SD\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SE\": [\n        \"H\"\n    ],\n    \"SG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SH\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SI\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SJ\": [\n        \"H\"\n    ],\n    \"SK\": [\n        \"H\"\n    ],\n    \"SL\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"SM\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SN\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"SO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"SR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SS\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ST\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"SV\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"SX\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"SY\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"SZ\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"TC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TD\": [\n        \"h\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TF\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"TG\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TH\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TJ\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TL\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ],\n    \"TM\": [\n        \"H\",\n        \"h\"\n    ],\n    \"TN\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"TO\": [\n        \"h\",\n        \"H\"\n    ],\n    \"TR\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"TT\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"TW\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"TZ\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UA\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"UG\": [\n        \"hB\",\n        \"hb\",\n        \"H\",\n        \"h\"\n    ],\n    \"UM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"US\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"UY\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"UZ\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"VA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"VC\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VE\": [\n        \"h\",\n        \"H\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"VG\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VI\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"VN\": [\n        \"H\",\n        \"h\"\n    ],\n    \"VU\": [\n        \"h\",\n        \"H\"\n    ],\n    \"WF\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"WS\": [\n        \"h\",\n        \"H\"\n    ],\n    \"XK\": [\n        \"H\",\n        \"hB\",\n        \"h\"\n    ],\n    \"YE\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"YT\": [\n        \"H\",\n        \"hB\"\n    ],\n    \"ZA\": [\n        \"H\",\n        \"h\",\n        \"hb\",\n        \"hB\"\n    ],\n    \"ZM\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"ZW\": [\n        \"H\",\n        \"h\"\n    ],\n    \"af-ZA\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"ar-001\": [\n        \"h\",\n        \"hB\",\n        \"hb\",\n        \"H\"\n    ],\n    \"ca-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"en-001\": [\n        \"h\",\n        \"hb\",\n        \"H\",\n        \"hB\"\n    ],\n    \"es-BO\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-BR\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-EC\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-GQ\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"es-PE\": [\n        \"H\",\n        \"h\",\n        \"hB\",\n        \"hb\"\n    ],\n    \"fr-CA\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gl-ES\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"gu-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"hi-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"it-CH\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"it-IT\": [\n        \"H\",\n        \"h\",\n        \"hB\"\n    ],\n    \"kn-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"ml-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"mr-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"pa-IN\": [\n        \"hB\",\n        \"hb\",\n        \"h\",\n        \"H\"\n    ],\n    \"ta-IN\": [\n        \"hB\",\n        \"h\",\n        \"hb\",\n        \"H\"\n    ],\n    \"te-IN\": [\n        \"hB\",\n        \"h\",\n        \"H\"\n    ],\n    \"zu-ZA\": [\n        \"H\",\n        \"hB\",\n        \"hb\",\n        \"h\"\n    ]\n};\n","import { timeData } from './time-data.generated';\n/**\n * Returns the best matching date time pattern if a date time skeleton\n * pattern is provided with a locale. Follows the Unicode specification:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#table-mapping-requested-time-skeletons-to-patterns\n * @param skeleton date time skeleton pattern that possibly includes j, J or C\n * @param locale\n */\nexport function getBestPattern(skeleton, locale) {\n    var skeletonCopy = '';\n    for (var patternPos = 0; patternPos < skeleton.length; patternPos++) {\n        var patternChar = skeleton.charAt(patternPos);\n        if (patternChar === 'j') {\n            var extraLength = 0;\n            while (patternPos + 1 < skeleton.length &&\n                skeleton.charAt(patternPos + 1) === patternChar) {\n                extraLength++;\n                patternPos++;\n            }\n            var hourLen = 1 + (extraLength & 1);\n            var dayPeriodLen = extraLength < 2 ? 1 : 3 + (extraLength >> 1);\n            var dayPeriodChar = 'a';\n            var hourChar = getDefaultHourSymbolFromLocale(locale);\n            if (hourChar == 'H' || hourChar == 'k') {\n                dayPeriodLen = 0;\n            }\n            while (dayPeriodLen-- > 0) {\n                skeletonCopy += dayPeriodChar;\n            }\n            while (hourLen-- > 0) {\n                skeletonCopy = hourChar + skeletonCopy;\n            }\n        }\n        else if (patternChar === 'J') {\n            skeletonCopy += 'H';\n        }\n        else {\n            skeletonCopy += patternChar;\n        }\n    }\n    return skeletonCopy;\n}\n/**\n * Maps the [hour cycle type](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/hourCycle)\n * of the given `locale` to the corresponding time pattern.\n * @param locale\n */\nfunction getDefaultHourSymbolFromLocale(locale) {\n    var hourCycle = locale.hourCycle;\n    if (hourCycle === undefined &&\n        // @ts-ignore hourCycle(s) is not identified yet\n        locale.hourCycles &&\n        // @ts-ignore\n        locale.hourCycles.length) {\n        // @ts-ignore\n        hourCycle = locale.hourCycles[0];\n    }\n    if (hourCycle) {\n        switch (hourCycle) {\n            case 'h24':\n                return 'k';\n            case 'h23':\n                return 'H';\n            case 'h12':\n                return 'h';\n            case 'h11':\n                return 'K';\n            default:\n                throw new Error('Invalid hourCycle');\n        }\n    }\n    // TODO: Once hourCycle is fully supported remove the following with data generation\n    var languageTag = locale.language;\n    var regionTag;\n    if (languageTag !== 'root') {\n        regionTag = locale.maximize().region;\n    }\n    var hourCycles = timeData[regionTag || ''] ||\n        timeData[languageTag || ''] ||\n        timeData[\"\".concat(languageTag, \"-001\")] ||\n        timeData['001'];\n    return hourCycles[0];\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nimport { getBestPattern } from './date-time-pattern-generator';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith && '_a'.startsWith('a', 1);\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.locale = options.locale;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var dateTimePattern = skeleton;\n                        // Get \"best match\" pattern only if locale is passed, if not, let it\n                        // pass as-is where `parseDateTimeSkeleton()` will throw an error\n                        // for unsupported patterns.\n                        if (this.locale) {\n                            dateTimePattern = getBestPattern(skeleton, this.locale);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: dateTimePattern,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(dateTimePattern)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n// only for testing\nexport var _Parser = Parser;\n","//\n// Main\n//\nexport function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : formats.time.medium;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport { parse, } from '@formatjs/icu-messageformat-parser';\nimport { memoize, strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () {\n            var _a;\n            return ({\n                locale: ((_a = _this.resolvedLocale) === null || _a === void 0 ? void 0 : _a.toString()) ||\n                    Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n            });\n        };\n        this.getAst = function () { return _this.ast; };\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.resolvedLocale = IntlMessageFormat.resolveLocale(locales);\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            var _a = opts || {}, formatters = _a.formatters, parseOpts = __rest(_a, [\"formatters\"]);\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, __assign(__assign({}, parseOpts), { locale: this.resolvedLocale }));\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.resolveLocale = function (locales) {\n        if (typeof Intl.Locale === 'undefined') {\n            return;\n        }\n        var supportedLocales = Intl.NumberFormat.supportedLocalesOf(locales);\n        if (supportedLocales.length > 0) {\n            return new Intl.Locale(supportedLocales[0]);\n        }\n        return new Intl.Locale(typeof locales === 'string' ? locales : locales[0]);\n    };\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","import $1DoQa$intlmessageformat from \"intl-messageformat\";\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ /*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ class $d6fd23bc337660df$export$64839e615120df17 {\n    getStringForLocale(key, locale) {\n        let strings = this.messages[locale];\n        if (!strings) {\n            strings = $d6fd23bc337660df$var$getStringsForLocale(locale, this.messages, this.defaultLocale);\n            this.messages[locale] = strings;\n        }\n        let string = strings[key];\n        if (!string) throw new Error(`Could not find intl message ${key} in ${locale} locale`);\n        return string;\n    }\n    constructor(messages, defaultLocale = \"en-US\"){\n        // Clone messages so we don't modify the original object.\n        this.messages = {\n            ...messages\n        };\n        this.defaultLocale = defaultLocale;\n    }\n}\nfunction $d6fd23bc337660df$var$getStringsForLocale(locale, strings, defaultLocale = \"en-US\") {\n    // If there is an exact match, use it.\n    if (strings[locale]) return strings[locale];\n    // Attempt to find the closest match by language.\n    // For example, if the locale is fr-CA (French Canadian), but there is only\n    // an fr-FR (France) set of strings, use that.\n    // This could be replaced with Intl.LocaleMatcher once it is supported.\n    // https://github.com/tc39/proposal-intl-localematcher\n    let language = $d6fd23bc337660df$var$getLanguage(locale);\n    if (strings[language]) return strings[language];\n    for(let key in strings){\n        if (key.startsWith(language + \"-\")) return strings[key];\n    }\n    // Nothing close, use english.\n    return strings[defaultLocale];\n}\nfunction $d6fd23bc337660df$var$getLanguage(locale) {\n    // @ts-ignore\n    if (Intl.Locale) // @ts-ignore\n    return new Intl.Locale(locale).language;\n    return locale.split(\"-\")[0];\n}\n\n\n/*\n * Copyright 2020 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */ \nclass $972eb555d604f491$export$526ebc05ff964723 {\n    format(key, variables) {\n        let message = this.cache[key];\n        if (!message) {\n            let msg = this.messages.getStringForLocale(key, this.locale);\n            if (!msg) throw new Error(`Could not find intl message ${key} in ${this.locale} locale`);\n            message = new (0, $1DoQa$intlmessageformat)(msg, this.locale);\n            this.cache[key] = message;\n        }\n        let varCopy;\n        if (variables) varCopy = Object.keys(variables).reduce((acc, key)=>{\n            acc[key] = variables[key] == null ? false : variables[key];\n            return acc;\n        }, {});\n        return message.format(varCopy);\n    }\n    constructor(locale, messages){\n        this.locale = locale;\n        this.messages = messages;\n        this.cache = {};\n    }\n}\n\n\n\n\nexport {$d6fd23bc337660df$export$64839e615120df17 as MessageDictionary, $972eb555d604f491$export$526ebc05ff964723 as MessageFormatter};\n//# sourceMappingURL=module.js.map\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/23c3a91e7b87952f07da9da115188bd2abd99d77/packages/@react-aria/i18n/src/useMessageFormatter.ts\n */\nimport { MessageDictionary, MessageFormatter } from \"@internationalized/message\";\nimport { access } from \"@kobalte/utils\";\nimport { createMemo } from \"solid-js\";\nimport { useLocale } from \"./i18n-provider\";\nconst cache = new WeakMap();\nfunction getCachedDictionary(strings) {\n    let dictionary = cache.get(strings);\n    if (!dictionary) {\n        dictionary = new MessageDictionary(strings);\n        cache.set(strings, dictionary);\n    }\n    return dictionary;\n}\n/**\n * Handles formatting ICU Message strings to create localized strings for the current locale.\n * Automatically updates when the locale changes, and handles caching of messages for performance.\n * @param strings - A mapping of languages to strings by key.\n */\nexport function createMessageFormatter(strings) {\n    const { locale } = useLocale();\n    const messageFormatter = createMemo(() => {\n        return new MessageFormatter(locale(), getCachedDictionary(access(strings)));\n    });\n    // Re-export as a new object with narrowed type for the `format()` method.\n    return createMemo(() => ({\n        format: (key, variables) => messageFormatter().format(key, variables),\n    }));\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/Selection.ts\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/types.ts\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-types/shared/src/selection.d.ts\n */\n/**\n * A Selection is a special Set containing Keys, which also has an anchor\n * and current selected key for use when range selecting.\n */\nexport class Selection extends Set {\n    anchorKey;\n    currentKey;\n    constructor(keys, anchorKey, currentKey) {\n        super(keys);\n        if (keys instanceof Selection) {\n            this.anchorKey = anchorKey || keys.anchorKey;\n            this.currentKey = currentKey || keys.currentKey;\n        }\n        else {\n            this.anchorKey = anchorKey;\n            this.currentKey = currentKey;\n        }\n    }\n}\n","import { createControllableSignal } from \"../primitives\";\nimport { Selection } from \"./types\";\n/**\n * Creates a simple reactive `Selection` state with a getter, setter and a fallback value of an empty selection,\n * that can be controlled with `value` and `onChange` props.\n */\nexport function createControllableSelectionSignal(props) {\n    const [_value, setValue] = createControllableSignal(props);\n    const value = () => _value() ?? new Selection();\n    return [value, setValue];\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/utils.ts\n */\nimport { isAppleDevice, isMac } from \"@kobalte/utils\";\nimport { Selection } from \"./types\";\nexport function isNonContiguousSelectionModifier(e) {\n    // Ctrl + Arrow Up/Arrow Down has a system-wide meaning on macOS, so use Alt instead.\n    // On Windows and Ubuntu, Alt + Space has a system-wide meaning.\n    return isAppleDevice() ? e.altKey : e.ctrlKey;\n}\nexport function isCtrlKeyPressed(e) {\n    if (isMac()) {\n        return e.metaKey;\n    }\n    return e.ctrlKey;\n}\nexport function convertSelection(selection) {\n    return new Selection(selection);\n}\nexport function isSameSelection(setA, setB) {\n    if (setA.size !== setB.size) {\n        return false;\n    }\n    for (const item of setA) {\n        if (!setB.has(item)) {\n            return false;\n        }\n    }\n    return true;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/useMultipleSelectionState.ts\n */\nimport { access, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal } from \"solid-js\";\nimport { createControllableSelectionSignal } from \"./create-controllable-selection-signal\";\nimport { Selection } from \"./types\";\nimport { convertSelection, isSameSelection } from \"./utils\";\n/**\n * Manages state for multiple selection and focus in a collection.\n */\nexport function createMultipleSelectionState(props) {\n    props = mergeDefaultProps({\n        selectionMode: \"none\",\n        selectionBehavior: \"toggle\",\n    }, props);\n    const [isFocused, setFocused] = createSignal(false);\n    const [focusedKey, setFocusedKey] = createSignal();\n    const selectedKeysProp = createMemo(() => {\n        const selection = access(props.selectedKeys);\n        if (selection != null) {\n            return convertSelection(selection);\n        }\n        return selection;\n    });\n    const defaultSelectedKeys = createMemo(() => {\n        const defaultSelection = access(props.defaultSelectedKeys);\n        if (defaultSelection != null) {\n            return convertSelection(defaultSelection);\n        }\n        return new Selection();\n    });\n    const [selectedKeys, _setSelectedKeys] = createControllableSelectionSignal({\n        value: selectedKeysProp,\n        defaultValue: defaultSelectedKeys,\n        onChange: value => props.onSelectionChange?.(value),\n    });\n    const [selectionBehavior, setSelectionBehavior] = createSignal(access(props.selectionBehavior));\n    const selectionMode = () => access(props.selectionMode);\n    const disallowEmptySelection = () => access(props.disallowEmptySelection) ?? false;\n    const setSelectedKeys = (keys) => {\n        if (access(props.allowDuplicateSelectionEvents) || !isSameSelection(keys, selectedKeys())) {\n            _setSelectedKeys(keys);\n        }\n    };\n    // If the selectionBehavior prop is set to replace, but the current state is toggle (e.g. due to long press\n    // to enter selection mode on touch), and the selection becomes empty, reset the selection behavior.\n    createEffect(() => {\n        const selection = selectedKeys();\n        if (access(props.selectionBehavior) === \"replace\" &&\n            selectionBehavior() === \"toggle\" &&\n            typeof selection === \"object\" &&\n            selection.size === 0) {\n            setSelectionBehavior(\"replace\");\n        }\n    });\n    // If the selectionBehavior prop changes, update the state as well.\n    createEffect(() => {\n        setSelectionBehavior(access(props.selectionBehavior) ?? \"toggle\");\n    });\n    return {\n        selectionMode,\n        disallowEmptySelection,\n        selectionBehavior,\n        setSelectionBehavior,\n        isFocused,\n        setFocused,\n        focusedKey,\n        setFocusedKey,\n        selectedKeys,\n        setSelectedKeys,\n    };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useTypeSelect.ts\n */\nimport { access } from \"@kobalte/utils\";\nimport { createSignal } from \"solid-js\";\n/**\n * Handles typeahead interactions with collections.\n */\nexport function createTypeSelect(props) {\n    const [search, setSearch] = createSignal(\"\");\n    const [timeoutId, setTimeoutId] = createSignal(-1);\n    const onKeyDown = (e) => {\n        if (access(props.isDisabled)) {\n            return;\n        }\n        const delegate = access(props.keyboardDelegate);\n        const manager = access(props.selectionManager);\n        if (!delegate.getKeyForSearch) {\n            return;\n        }\n        const character = getStringForKey(e.key);\n        if (!character || e.ctrlKey || e.metaKey) {\n            return;\n        }\n        // Do not propagate the Space bar event if it's meant to be part of the search.\n        // When we time out, the search term becomes empty, hence the check on length.\n        // Trimming is to account for the case of pressing the Space bar more than once,\n        // which should cycle through the selection/deselection of the focused item.\n        if (character === \" \" && search().trim().length > 0) {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n        let newSearch = setSearch(prev => (prev += character));\n        // Use the delegate to find a key to focus.\n        // Prioritize items after the currently focused item, falling back to searching the whole list.\n        let key = delegate.getKeyForSearch(newSearch, manager.focusedKey()) ??\n            delegate.getKeyForSearch(newSearch);\n        // If not key found, and the search is multiple iterations of the same letter (e.g \"aaa\"),\n        // then cycle through first-letter matches\n        if (key == null && isAllSameLetter(newSearch)) {\n            newSearch = newSearch[0];\n            key =\n                delegate.getKeyForSearch(newSearch, manager.focusedKey()) ??\n                    delegate.getKeyForSearch(newSearch);\n        }\n        if (key != null) {\n            manager.setFocusedKey(key);\n            props.onTypeSelect?.(key);\n        }\n        clearTimeout(timeoutId());\n        setTimeoutId(window.setTimeout(() => setSearch(\"\"), 500));\n    };\n    return {\n        typeSelectHandlers: {\n            onKeyDown,\n        },\n    };\n}\nfunction getStringForKey(key) {\n    // If the key is of length 1, it is an ASCII value.\n    // Otherwise, if there are no ASCII characters in the key name,\n    // it is a Unicode character.\n    // See https://www.w3.org/TR/uievents-key/\n    if (key.length === 1 || !/^[A-Z]/i.test(key)) {\n        return key;\n    }\n    return \"\";\n}\nfunction isAllSameLetter(search) {\n    return search.split(\"\").every(letter => letter === search[0]);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableCollection.ts\n */\nimport { access, callHandler, createEventListener, focusWithoutScrolling, getFocusableTreeWalker, scrollIntoView, } from \"@kobalte/utils\";\nimport { createEffect, createMemo, mergeProps, on, onMount } from \"solid-js\";\nimport { useLocale } from \"../i18n\";\nimport { createTypeSelect } from \"./create-type-select\";\nimport { isCtrlKeyPressed, isNonContiguousSelectionModifier } from \"./utils\";\n/**\n * Handles interactions with selectable collections.\n * @param props Props for the collection.\n * @param ref The ref attached to the element representing the collection.\n * @param scrollRef The ref attached to the scrollable body. Used to provide automatic scrolling on item focus for non-virtualized collections. If not provided, defaults to the collection ref.\n */\nexport function createSelectableCollection(props, ref, scrollRef) {\n    const defaultProps = {\n        selectOnFocus: () => access(props.selectionManager).selectionBehavior() === \"replace\",\n    };\n    props = mergeProps(defaultProps, props);\n    const finalScrollRef = () => scrollRef?.() ?? ref();\n    const { direction } = useLocale();\n    // Store the scroll position, so we can restore it later.\n    let scrollPos = { top: 0, left: 0 };\n    createEventListener(() => (!access(props.isVirtualized) ? finalScrollRef() : undefined), \"scroll\", () => {\n        const scrollEl = finalScrollRef();\n        if (!scrollEl) {\n            return;\n        }\n        scrollPos = {\n            top: scrollEl.scrollTop,\n            left: scrollEl.scrollLeft,\n        };\n    });\n    const { typeSelectHandlers } = createTypeSelect({\n        isDisabled: () => access(props.disallowTypeAhead),\n        keyboardDelegate: () => access(props.keyboardDelegate),\n        selectionManager: () => access(props.selectionManager),\n    });\n    const onKeyDown = e => {\n        callHandler(e, typeSelectHandlers.onKeyDown);\n        // Prevent option + tab from doing anything since it doesn't move focus to the cells, only buttons/checkboxes\n        if (e.altKey && e.key === \"Tab\") {\n            e.preventDefault();\n        }\n        const refEl = ref();\n        // Keyboard events bubble through portals. Don't handle keyboard events\n        // for elements outside the collection (e.g. menus).\n        if (!refEl?.contains(e.target)) {\n            return;\n        }\n        const manager = access(props.selectionManager);\n        const selectOnFocus = access(props.selectOnFocus);\n        const navigateToKey = (key) => {\n            if (key != null) {\n                manager.setFocusedKey(key);\n                if (e.shiftKey && manager.selectionMode() === \"multiple\") {\n                    manager.extendSelection(key);\n                }\n                else if (selectOnFocus && !isNonContiguousSelectionModifier(e)) {\n                    manager.replaceSelection(key);\n                }\n            }\n        };\n        const delegate = access(props.keyboardDelegate);\n        const shouldFocusWrap = access(props.shouldFocusWrap);\n        const focusedKey = manager.focusedKey();\n        switch (e.key) {\n            case \"ArrowDown\": {\n                if (delegate.getKeyBelow) {\n                    e.preventDefault();\n                    let nextKey;\n                    if (focusedKey != null) {\n                        nextKey = delegate.getKeyBelow(focusedKey);\n                    }\n                    else {\n                        nextKey = delegate.getFirstKey?.();\n                    }\n                    if (nextKey == null && shouldFocusWrap) {\n                        nextKey = delegate.getFirstKey?.(focusedKey);\n                    }\n                    navigateToKey(nextKey);\n                }\n                break;\n            }\n            case \"ArrowUp\": {\n                if (delegate.getKeyAbove) {\n                    e.preventDefault();\n                    let nextKey;\n                    if (focusedKey != null) {\n                        nextKey = delegate.getKeyAbove(focusedKey);\n                    }\n                    else {\n                        nextKey = delegate.getLastKey?.();\n                    }\n                    if (nextKey == null && shouldFocusWrap) {\n                        nextKey = delegate.getLastKey?.(focusedKey);\n                    }\n                    navigateToKey(nextKey);\n                }\n                break;\n            }\n            case \"ArrowLeft\": {\n                if (delegate.getKeyLeftOf) {\n                    e.preventDefault();\n                    const isRTL = direction() === \"rtl\";\n                    let nextKey;\n                    if (focusedKey != null) {\n                        nextKey = delegate.getKeyLeftOf(focusedKey);\n                    }\n                    else {\n                        nextKey = isRTL ? delegate.getFirstKey?.() : delegate.getLastKey?.();\n                    }\n                    navigateToKey(nextKey);\n                }\n                break;\n            }\n            case \"ArrowRight\": {\n                if (delegate.getKeyRightOf) {\n                    e.preventDefault();\n                    const isRTL = direction() === \"rtl\";\n                    let nextKey;\n                    if (focusedKey != null) {\n                        nextKey = delegate.getKeyRightOf(focusedKey);\n                    }\n                    else {\n                        nextKey = isRTL ? delegate.getLastKey?.() : delegate.getFirstKey?.();\n                    }\n                    navigateToKey(nextKey);\n                }\n                break;\n            }\n            case \"Home\":\n                if (delegate.getFirstKey) {\n                    e.preventDefault();\n                    const firstKey = delegate.getFirstKey(focusedKey, isCtrlKeyPressed(e));\n                    if (firstKey != null) {\n                        manager.setFocusedKey(firstKey);\n                        if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode() === \"multiple\") {\n                            manager.extendSelection(firstKey);\n                        }\n                        else if (selectOnFocus) {\n                            manager.replaceSelection(firstKey);\n                        }\n                    }\n                }\n                break;\n            case \"End\":\n                if (delegate.getLastKey) {\n                    e.preventDefault();\n                    const lastKey = delegate.getLastKey(focusedKey, isCtrlKeyPressed(e));\n                    if (lastKey != null) {\n                        manager.setFocusedKey(lastKey);\n                        if (isCtrlKeyPressed(e) && e.shiftKey && manager.selectionMode() === \"multiple\") {\n                            manager.extendSelection(lastKey);\n                        }\n                        else if (selectOnFocus) {\n                            manager.replaceSelection(lastKey);\n                        }\n                    }\n                }\n                break;\n            case \"PageDown\":\n                if (delegate.getKeyPageBelow && focusedKey != null) {\n                    e.preventDefault();\n                    const nextKey = delegate.getKeyPageBelow(focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"PageUp\":\n                if (delegate.getKeyPageAbove && focusedKey != null) {\n                    e.preventDefault();\n                    const nextKey = delegate.getKeyPageAbove(focusedKey);\n                    navigateToKey(nextKey);\n                }\n                break;\n            case \"a\":\n                if (isCtrlKeyPressed(e) &&\n                    manager.selectionMode() === \"multiple\" &&\n                    access(props.disallowSelectAll) !== true) {\n                    e.preventDefault();\n                    manager.selectAll();\n                }\n                break;\n            case \"Escape\":\n                if (!e.defaultPrevented) {\n                    e.preventDefault();\n                    if (!access(props.disallowEmptySelection)) {\n                        manager.clearSelection();\n                    }\n                }\n                break;\n            case \"Tab\": {\n                if (!access(props.allowsTabNavigation)) {\n                    // There may be elements that are \"tabbable\" inside a collection (e.g. in a grid cell).\n                    // However, collections should be treated as a single tab stop, with arrow key navigation internally.\n                    // We don't control the rendering of these, so we can't override the tabIndex to prevent tabbing.\n                    // Instead, we handle the Tab key, and move focus manually to the first/last tabbable element\n                    // in the collection, so that the browser default behavior will apply starting from that element\n                    // rather than the currently focused one.\n                    if (e.shiftKey) {\n                        refEl.focus();\n                    }\n                    else {\n                        const walker = getFocusableTreeWalker(refEl, { tabbable: true });\n                        let next;\n                        let last;\n                        do {\n                            last = walker.lastChild();\n                            if (last) {\n                                next = last;\n                            }\n                        } while (last);\n                        if (next && !next.contains(document.activeElement)) {\n                            focusWithoutScrolling(next);\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n    };\n    const onFocusIn = e => {\n        const manager = access(props.selectionManager);\n        const delegate = access(props.keyboardDelegate);\n        const selectOnFocus = access(props.selectOnFocus);\n        if (manager.isFocused()) {\n            // If a focus event bubbled through a portal, reset focus state.\n            if (!e.currentTarget.contains(e.target)) {\n                manager.setFocused(false);\n            }\n            return;\n        }\n        // Focus events can bubble through portals. Ignore these events.\n        if (!e.currentTarget.contains(e.target)) {\n            return;\n        }\n        manager.setFocused(true);\n        if (manager.focusedKey() == null) {\n            const navigateToFirstKey = (key) => {\n                if (key == null) {\n                    return;\n                }\n                manager.setFocusedKey(key);\n                if (selectOnFocus) {\n                    manager.replaceSelection(key);\n                }\n            };\n            // If the user hasn't yet interacted with the collection, there will be no focusedKey set.\n            // Attempt to detect whether the user is tabbing forward or backward into the collection\n            // and either focus the first or last item accordingly.\n            const relatedTarget = e.relatedTarget;\n            if (relatedTarget &&\n                e.currentTarget.compareDocumentPosition(relatedTarget) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                navigateToFirstKey(manager.lastSelectedKey() ?? delegate.getLastKey?.());\n            }\n            else {\n                navigateToFirstKey(manager.firstSelectedKey() ?? delegate.getFirstKey?.());\n            }\n        }\n        else if (!access(props.isVirtualized)) {\n            const scrollEl = finalScrollRef();\n            if (scrollEl) {\n                // Restore the scroll position to what it was before.\n                scrollEl.scrollTop = scrollPos.top;\n                scrollEl.scrollLeft = scrollPos.left;\n                // Refocus and scroll the focused item into view if it exists within the scrollable region.\n                const element = scrollEl.querySelector(`[data-key=\"${manager.focusedKey()}\"]`);\n                if (element) {\n                    // This prevents a flash of focus on the first/last element in the collection\n                    focusWithoutScrolling(element);\n                    scrollIntoView(scrollEl, element);\n                }\n            }\n        }\n    };\n    const onFocusOut = e => {\n        const manager = access(props.selectionManager);\n        // Don't set blurred and then focused again if moving focus within the collection.\n        if (!e.currentTarget.contains(e.relatedTarget)) {\n            manager.setFocused(false);\n        }\n    };\n    const onMouseDown = e => {\n        // Ignore events that bubbled through portals.\n        if (finalScrollRef() === e.target) {\n            // Prevent focus going to the collection when clicking on the scrollbar.\n            e.preventDefault();\n        }\n    };\n    const tryAutoFocus = () => {\n        const autoFocus = access(props.autoFocus);\n        if (!autoFocus) {\n            return;\n        }\n        const manager = access(props.selectionManager);\n        const delegate = access(props.keyboardDelegate);\n        let focusedKey;\n        // Check focus strategy to determine which item to focus\n        if (autoFocus === \"first\") {\n            focusedKey = delegate.getFirstKey?.();\n        }\n        if (autoFocus === \"last\") {\n            focusedKey = delegate.getLastKey?.();\n        }\n        // If there are any selected keys, make the first one the new focus target\n        const selectedKeys = manager.selectedKeys();\n        if (selectedKeys.size) {\n            focusedKey = selectedKeys.values().next().value;\n        }\n        manager.setFocused(true);\n        manager.setFocusedKey(focusedKey);\n        const refEl = ref();\n        // If no default focus key is selected, focus the collection itself.\n        if (refEl && focusedKey == null && !access(props.shouldUseVirtualFocus)) {\n            focusWithoutScrolling(refEl);\n        }\n    };\n    onMount(() => {\n        if (props.deferAutoFocus) {\n            setTimeout(tryAutoFocus, 0); // TODO: does this work EVERY time ?\n        }\n        else {\n            tryAutoFocus();\n        }\n    });\n    // If not virtualized, scroll the focused element into view when the focusedKey changes.\n    // When virtualized, the Virtualizer should handle this.\n    createEffect(on([\n        finalScrollRef,\n        () => access(props.isVirtualized),\n        () => access(props.selectionManager).focusedKey(),\n    ], newValue => {\n        const [scrollEl, isVirtualized, focusedKey] = newValue;\n        if (isVirtualized) {\n            focusedKey && props.scrollToKey?.(focusedKey);\n        }\n        else {\n            if (focusedKey && scrollEl) {\n                const element = scrollEl.querySelector(`[data-key=\"${focusedKey}\"]`);\n                if (element) {\n                    scrollIntoView(scrollEl, element);\n                }\n            }\n        }\n    }));\n    // If nothing is focused within the collection, make the collection itself tabbable.\n    // This will be marshalled to either the first or last item depending on where focus came from.\n    // If using virtual focus, don't set a tabIndex at all so that VoiceOver on iOS 14 doesn't try\n    // to move real DOM focus to the element anyway.\n    const tabIndex = createMemo(() => {\n        if (access(props.shouldUseVirtualFocus)) {\n            return undefined;\n        }\n        return access(props.selectionManager).focusedKey() == null ? 0 : -1;\n    });\n    return {\n        tabIndex,\n        onKeyDown,\n        onMouseDown,\n        onFocusIn,\n        onFocusOut,\n    };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableItem.ts\n */\nimport { access, focusWithoutScrolling } from \"@kobalte/utils\";\nimport { createEffect, createMemo, on } from \"solid-js\";\nimport { isCtrlKeyPressed, isNonContiguousSelectionModifier } from \"./utils\";\n/**\n * Handles interactions with an item in a selectable collection.\n * @param props Props for the item.\n * @param ref Ref to the item.\n */\nexport function createSelectableItem(props, ref) {\n    const manager = () => access(props.selectionManager);\n    const key = () => access(props.key);\n    const shouldUseVirtualFocus = () => access(props.shouldUseVirtualFocus);\n    const onSelect = (e) => {\n        if (manager().selectionMode() === \"none\") {\n            return;\n        }\n        if (manager().selectionMode() === \"single\") {\n            if (manager().isSelected(key()) && !manager().disallowEmptySelection()) {\n                manager().toggleSelection(key());\n            }\n            else {\n                manager().replaceSelection(key());\n            }\n        }\n        else if (e && e.shiftKey) {\n            manager().extendSelection(key());\n        }\n        else if (manager().selectionBehavior() === \"toggle\" ||\n            isCtrlKeyPressed(e) ||\n            (\"pointerType\" in e && e.pointerType === \"touch\")) {\n            // if touch then we just want to toggle, otherwise it's impossible to multi select because they don't have modifier keys\n            manager().toggleSelection(key());\n        }\n        else {\n            manager().replaceSelection(key());\n        }\n    };\n    const isSelected = () => manager().isSelected(key());\n    // With checkbox selection, onAction (i.e. navigation) becomes primary, and occurs on a single click of the row.\n    // Clicking the checkbox enters selection mode, after which clicking anywhere on any row toggles selection for that row.\n    // With highlight selection, onAction is secondary, and occurs on double click. Single click selects the row.\n    // With touch, onAction occurs on single tap, and long press enters selection mode.\n    const isDisabled = () => access(props.disabled) || manager().isDisabled(key());\n    const allowsSelection = () => !isDisabled() && manager().canSelectItem(key());\n    let pointerDownType = null;\n    const onPointerDown = e => {\n        if (!allowsSelection()) {\n            return;\n        }\n        pointerDownType = e.pointerType;\n        // Selection occurs on mouse down (main button).\n        if (e.pointerType === \"mouse\" && e.button === 0 && !access(props.shouldSelectOnPressUp)) {\n            onSelect(e);\n        }\n    };\n    // By default, selection occurs on pointer down. This can be strange if selecting an\n    // item causes the UI to disappear immediately (e.g. menus).\n    // If shouldSelectOnPressUp is true, we use onPointerUp instead of onPointerDown.\n    const onPointerUp = e => {\n        if (!allowsSelection()) {\n            return;\n        }\n        // If allowsDifferentPressOrigin, make selection happen on mouse up (main button).\n        // Otherwise, have selection happen on click.\n        if (e.pointerType === \"mouse\" &&\n            e.button === 0 &&\n            access(props.shouldSelectOnPressUp) &&\n            access(props.allowsDifferentPressOrigin)) {\n            onSelect(e);\n        }\n    };\n    const onClick = e => {\n        if (!allowsSelection()) {\n            return;\n        }\n        // If not allowsDifferentPressOrigin or pointerType is touch/pen, make selection happen on click.\n        if ((access(props.shouldSelectOnPressUp) && !access(props.allowsDifferentPressOrigin)) ||\n            pointerDownType !== \"mouse\") {\n            onSelect(e);\n        }\n    };\n    // For keyboard events, selection occurs on key down (Enter or Space bar).\n    const onKeyDown = e => {\n        if (!allowsSelection() || ![\"Enter\", \" \"].includes(e.key)) {\n            return;\n        }\n        if (isNonContiguousSelectionModifier(e)) {\n            manager().toggleSelection(key());\n        }\n        else {\n            onSelect(e);\n        }\n    };\n    const onMouseDown = (e) => {\n        if (isDisabled()) {\n            // Prevent focus going to the body when clicking on a disabled item.\n            e.preventDefault();\n        }\n    };\n    const onFocus = (e) => {\n        const refEl = ref();\n        if (shouldUseVirtualFocus() || isDisabled() || !refEl) {\n            return;\n        }\n        if (e.target === refEl) {\n            manager().setFocusedKey(key());\n        }\n    };\n    // Set tabIndex to 0 if the element is focused,\n    // or -1 otherwise so that only the last focused item is tabbable.\n    // If using virtual focus, don't set a tabIndex at all so that VoiceOver\n    // on iOS 14 doesn't try to move real DOM focus to the item anyway.\n    const tabIndex = createMemo(() => {\n        if (shouldUseVirtualFocus() || isDisabled()) {\n            return undefined;\n        }\n        return key() === manager().focusedKey() ? 0 : -1;\n    });\n    // data-attribute used in selection manager and keyboard delegate\n    const dataKey = createMemo(() => {\n        return access(props.virtualized) ? undefined : key();\n    });\n    // Focus the associated DOM node when this item becomes the focusedKey.\n    createEffect(on([ref, key, shouldUseVirtualFocus, () => manager().focusedKey(), () => manager().isFocused()], ([refEl, key, shouldUseVirtualFocus, focusedKey, isFocused]) => {\n        if (refEl &&\n            key === focusedKey &&\n            isFocused &&\n            !shouldUseVirtualFocus &&\n            document.activeElement !== refEl) {\n            if (props.focus) {\n                props.focus();\n            }\n            else {\n                focusWithoutScrolling(refEl);\n            }\n        }\n    }));\n    return {\n        isSelected,\n        isDisabled,\n        allowsSelection,\n        tabIndex,\n        dataKey,\n        onPointerDown,\n        onPointerUp,\n        onClick,\n        onKeyDown,\n        onMouseDown,\n        onFocus,\n    };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/selection/src/SelectionManager.ts\n */\nimport { Selection, } from \"./types\";\n/**\n * An interface for reading and updating multiple selection state.\n */\nexport class SelectionManager {\n    collection;\n    state;\n    constructor(collection, state) {\n        this.collection = collection;\n        this.state = state;\n    }\n    /** The type of selection that is allowed in the collection. */\n    selectionMode() {\n        return this.state.selectionMode();\n    }\n    /** Whether the collection allows empty selection. */\n    disallowEmptySelection() {\n        return this.state.disallowEmptySelection();\n    }\n    /** The selection behavior for the collection. */\n    selectionBehavior() {\n        return this.state.selectionBehavior();\n    }\n    /** Sets the selection behavior for the collection. */\n    setSelectionBehavior(selectionBehavior) {\n        this.state.setSelectionBehavior(selectionBehavior);\n    }\n    /** Whether the collection is currently focused. */\n    isFocused() {\n        return this.state.isFocused();\n    }\n    /** Sets whether the collection is focused. */\n    setFocused(isFocused) {\n        this.state.setFocused(isFocused);\n    }\n    /** The current focused key in the collection. */\n    focusedKey() {\n        return this.state.focusedKey();\n    }\n    /** Sets the focused key. */\n    setFocusedKey(key) {\n        if (key == null || this.collection().getItem(key)) {\n            this.state.setFocusedKey(key);\n        }\n    }\n    /** The currently selected keys in the collection. */\n    selectedKeys() {\n        return this.state.selectedKeys();\n    }\n    /** Returns whether a key is selected. */\n    isSelected(key) {\n        if (this.state.selectionMode() === \"none\") {\n            return false;\n        }\n        const retrievedKey = this.getKey(key);\n        if (retrievedKey == null) {\n            return false;\n        }\n        return this.state.selectedKeys().has(retrievedKey);\n    }\n    /** Whether the selection is empty. */\n    isEmpty() {\n        return this.state.selectedKeys().size === 0;\n    }\n    /** Whether all items in the collection are selected. */\n    isSelectAll() {\n        if (this.isEmpty()) {\n            return false;\n        }\n        const selectedKeys = this.state.selectedKeys();\n        return this.getAllSelectableKeys().every(k => selectedKeys.has(k));\n    }\n    firstSelectedKey() {\n        let first;\n        for (const key of this.state.selectedKeys()) {\n            const item = this.collection().getItem(key);\n            const isItemBeforeFirst = item?.index != null && first?.index != null && item.index < first.index;\n            if (!first || isItemBeforeFirst) {\n                first = item;\n            }\n        }\n        return first?.key;\n    }\n    lastSelectedKey() {\n        let last;\n        for (const key of this.state.selectedKeys()) {\n            const item = this.collection().getItem(key);\n            const isItemAfterLast = item?.index != null && last?.index != null && item.index > last.index;\n            if (!last || isItemAfterLast) {\n                last = item;\n            }\n        }\n        return last?.key;\n    }\n    /** Extends the selection to the given key. */\n    extendSelection(toKey) {\n        if (this.selectionMode() === \"none\") {\n            return;\n        }\n        if (this.selectionMode() === \"single\") {\n            this.replaceSelection(toKey);\n            return;\n        }\n        const retrievedToKey = this.getKey(toKey);\n        if (retrievedToKey == null) {\n            return;\n        }\n        const selectedKeys = this.state.selectedKeys();\n        const anchorKey = selectedKeys.anchorKey || retrievedToKey;\n        const selection = new Selection(selectedKeys, anchorKey, retrievedToKey);\n        for (const key of this.getKeyRange(anchorKey, selectedKeys.currentKey || retrievedToKey)) {\n            selection.delete(key);\n        }\n        for (const key of this.getKeyRange(retrievedToKey, anchorKey)) {\n            if (this.canSelectItem(key)) {\n                selection.add(key);\n            }\n        }\n        this.state.setSelectedKeys(selection);\n    }\n    getKeyRange(from, to) {\n        const fromItem = this.collection().getItem(from);\n        const toItem = this.collection().getItem(to);\n        if (fromItem && toItem) {\n            if (fromItem.index != null && toItem.index != null && fromItem.index <= toItem.index) {\n                return this.getKeyRangeInternal(from, to);\n            }\n            return this.getKeyRangeInternal(to, from);\n        }\n        return [];\n    }\n    getKeyRangeInternal(from, to) {\n        const keys = [];\n        let key = from;\n        while (key != null) {\n            const item = this.collection().getItem(key);\n            if (item && item.type === \"item\") {\n                keys.push(key);\n            }\n            if (key === to) {\n                return keys;\n            }\n            key = this.collection().getKeyAfter(key);\n        }\n        return [];\n    }\n    getKey(key) {\n        const item = this.collection().getItem(key);\n        if (!item) {\n            return key;\n        }\n        if (!item || item.type !== \"item\") {\n            return null;\n        }\n        return item.key;\n    }\n    /** Toggles whether the given key is selected. */\n    toggleSelection(key) {\n        if (this.selectionMode() === \"none\") {\n            return;\n        }\n        if (this.selectionMode() === \"single\" && !this.isSelected(key)) {\n            this.replaceSelection(key);\n            return;\n        }\n        const retrievedKey = this.getKey(key);\n        if (retrievedKey == null) {\n            return;\n        }\n        const keys = new Selection(this.state.selectedKeys());\n        if (keys.has(retrievedKey)) {\n            keys.delete(retrievedKey);\n        }\n        else if (this.canSelectItem(retrievedKey)) {\n            keys.add(retrievedKey);\n            keys.anchorKey = retrievedKey;\n            keys.currentKey = retrievedKey;\n        }\n        if (this.disallowEmptySelection() && keys.size === 0) {\n            return;\n        }\n        this.state.setSelectedKeys(keys);\n    }\n    /** Replaces the selection with only the given key. */\n    replaceSelection(key) {\n        if (this.selectionMode() === \"none\") {\n            return;\n        }\n        const retrievedKey = this.getKey(key);\n        if (retrievedKey == null) {\n            return;\n        }\n        const selection = this.canSelectItem(retrievedKey)\n            ? new Selection([retrievedKey], retrievedKey, retrievedKey)\n            : new Selection();\n        this.state.setSelectedKeys(selection);\n    }\n    /** Replaces the selection with the given keys. */\n    setSelectedKeys(keys) {\n        if (this.selectionMode() === \"none\") {\n            return;\n        }\n        const selection = new Selection();\n        for (const key of keys) {\n            const retrievedKey = this.getKey(key);\n            if (retrievedKey != null) {\n                selection.add(retrievedKey);\n                if (this.selectionMode() === \"single\") {\n                    break;\n                }\n            }\n        }\n        this.state.setSelectedKeys(selection);\n    }\n    /** Selects all items in the collection. */\n    selectAll() {\n        if (this.selectionMode() === \"multiple\") {\n            this.state.setSelectedKeys(new Set(this.getAllSelectableKeys()));\n        }\n    }\n    /**\n     * Removes all keys from the selection.\n     */\n    clearSelection() {\n        const selectedKeys = this.state.selectedKeys();\n        if (!this.disallowEmptySelection() && selectedKeys.size > 0) {\n            this.state.setSelectedKeys(new Selection());\n        }\n    }\n    /**\n     * Toggles between select all and an empty selection.\n     */\n    toggleSelectAll() {\n        if (this.isSelectAll()) {\n            this.clearSelection();\n        }\n        else {\n            this.selectAll();\n        }\n    }\n    select(key, e) {\n        if (this.selectionMode() === \"none\") {\n            return;\n        }\n        if (this.selectionMode() === \"single\") {\n            if (this.isSelected(key) && !this.disallowEmptySelection()) {\n                this.toggleSelection(key);\n            }\n            else {\n                this.replaceSelection(key);\n            }\n        }\n        else if (this.selectionBehavior() === \"toggle\" || (e && e.pointerType === \"touch\")) {\n            // if touch then we just want to toggle, otherwise it's impossible to multi select because they don't have modifier keys\n            this.toggleSelection(key);\n        }\n        else {\n            this.replaceSelection(key);\n        }\n    }\n    /** Returns whether the current selection is equal to the given selection. */\n    isSelectionEqual(selection) {\n        if (selection === this.state.selectedKeys()) {\n            return true;\n        }\n        // Check if the set of keys match.\n        const selectedKeys = this.selectedKeys();\n        if (selection.size !== selectedKeys.size) {\n            return false;\n        }\n        for (const key of selection) {\n            if (!selectedKeys.has(key)) {\n                return false;\n            }\n        }\n        for (const key of selectedKeys) {\n            if (!selection.has(key)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    canSelectItem(key) {\n        if (this.state.selectionMode() === \"none\") {\n            return false;\n        }\n        const item = this.collection().getItem(key);\n        return item != null && !item.disabled;\n    }\n    isDisabled(key) {\n        const item = this.collection().getItem(key);\n        return !item || item.disabled;\n    }\n    getAllSelectableKeys() {\n        const keys = [];\n        const addKeys = (key) => {\n            while (key != null) {\n                if (this.canSelectItem(key)) {\n                    const item = this.collection().getItem(key);\n                    if (!item) {\n                        continue;\n                    }\n                    if (item.type === \"item\") {\n                        keys.push(key);\n                    }\n                }\n                key = this.collection().getKeyAfter(key);\n            }\n        };\n        addKeys(this.collection().getFirstKey());\n        return keys;\n    }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/ListCollection.ts\n */\nexport class ListCollection {\n    keyMap = new Map();\n    iterable;\n    firstKey;\n    lastKey;\n    constructor(nodes) {\n        this.iterable = nodes;\n        for (const node of nodes) {\n            this.keyMap.set(node.key, node);\n        }\n        if (this.keyMap.size === 0) {\n            return;\n        }\n        let last;\n        let index = 0;\n        for (const [key, node] of this.keyMap) {\n            if (last) {\n                last.nextKey = key;\n                node.prevKey = last.key;\n            }\n            else {\n                this.firstKey = key;\n                node.prevKey = undefined;\n            }\n            if (node.type === \"item\") {\n                node.index = index++;\n            }\n            last = node;\n            // Set nextKey as undefined since this might be the last node\n            // If it isn't the last node, last.nextKey will properly set at start of new loop\n            last.nextKey = undefined;\n        }\n        this.lastKey = last.key;\n    }\n    *[Symbol.iterator]() {\n        yield* this.iterable;\n    }\n    getSize() {\n        return this.keyMap.size;\n    }\n    getKeys() {\n        return this.keyMap.keys();\n    }\n    getKeyBefore(key) {\n        return this.keyMap.get(key)?.prevKey;\n    }\n    getKeyAfter(key) {\n        return this.keyMap.get(key)?.nextKey;\n    }\n    getFirstKey() {\n        return this.firstKey;\n    }\n    getLastKey() {\n        return this.lastKey;\n    }\n    getItem(key) {\n        return this.keyMap.get(key);\n    }\n    at(idx) {\n        const keys = [...this.getKeys()];\n        return this.getItem(keys[idx]);\n    }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/bfce84fee12a027d9cbc38b43e1747e3e4b4b169/packages/@react-stately/list/src/useListState.ts\n */\nimport { access } from \"@kobalte/utils\";\nimport { createComputed } from \"solid-js\";\nimport { createCollection } from \"../primitives\";\nimport { createMultipleSelectionState, SelectionManager, } from \"../selection\";\nimport { ListCollection } from \"./list-collection\";\n/**\n * Provides state management for list-like components.\n * Handles building a collection of items from props, and manages multiple selection state.\n */\nexport function createListState(props) {\n    const selectionState = createMultipleSelectionState(props);\n    const factory = (nodes) => {\n        return props.filter ? new ListCollection(props.filter(nodes)) : new ListCollection(nodes);\n    };\n    const collection = createCollection({\n        dataSource: () => access(props.dataSource),\n        getKey: () => access(props.getKey),\n        getTextValue: () => access(props.getTextValue),\n        getDisabled: () => access(props.getDisabled),\n        getSectionChildren: () => access(props.getSectionChildren),\n        factory,\n    }, [() => props.filter]);\n    const selectionManager = new SelectionManager(collection, selectionState);\n    // Reset focused key if that item is deleted from the collection.\n    createComputed(() => {\n        const focusedKey = selectionState.focusedKey();\n        if (focusedKey != null && !collection().getItem(focusedKey)) {\n            selectionState.setFocusedKey(undefined);\n        }\n    });\n    return {\n        collection,\n        selectionManager: () => selectionManager,\n    };\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/ListKeyboardDelegate.ts\n */\nexport class ListKeyboardDelegate {\n    collection;\n    ref;\n    collator;\n    constructor(collection, ref, collator) {\n        this.collection = collection;\n        this.ref = ref;\n        this.collator = collator;\n    }\n    getKeyBelow(key) {\n        let keyAfter = this.collection().getKeyAfter(key);\n        while (keyAfter != null) {\n            const item = this.collection().getItem(keyAfter);\n            if (item && item.type === \"item\" && !item.disabled) {\n                return keyAfter;\n            }\n            keyAfter = this.collection().getKeyAfter(keyAfter);\n        }\n    }\n    getKeyAbove(key) {\n        let keyBefore = this.collection().getKeyBefore(key);\n        while (keyBefore != null) {\n            const item = this.collection().getItem(keyBefore);\n            if (item && item.type === \"item\" && !item.disabled) {\n                return keyBefore;\n            }\n            keyBefore = this.collection().getKeyBefore(keyBefore);\n        }\n    }\n    getFirstKey() {\n        let key = this.collection().getFirstKey();\n        while (key != null) {\n            const item = this.collection().getItem(key);\n            if (item && item.type === \"item\" && !item.disabled) {\n                return key;\n            }\n            key = this.collection().getKeyAfter(key);\n        }\n    }\n    getLastKey() {\n        let key = this.collection().getLastKey();\n        while (key != null) {\n            const item = this.collection().getItem(key);\n            if (item && item.type === \"item\" && !item.disabled) {\n                return key;\n            }\n            key = this.collection().getKeyBefore(key);\n        }\n    }\n    getItem(key) {\n        return this.ref?.()?.querySelector(`[data-key=\"${key}\"]`) ?? null;\n    }\n    // TODO: not working correctly\n    getKeyPageAbove(key) {\n        const menu = this.ref?.();\n        let item = this.getItem(key);\n        if (!menu || !item) {\n            return;\n        }\n        const pageY = Math.max(0, item.offsetTop + item.offsetHeight - menu.offsetHeight);\n        let keyAbove = key;\n        while (keyAbove && item && item.offsetTop > pageY) {\n            keyAbove = this.getKeyAbove(keyAbove);\n            item = keyAbove != null ? this.getItem(keyAbove) : null;\n        }\n        return keyAbove;\n    }\n    // TODO: not working correctly\n    getKeyPageBelow(key) {\n        const menu = this.ref?.();\n        let item = this.getItem(key);\n        if (!menu || !item) {\n            return;\n        }\n        const pageY = Math.min(menu.scrollHeight, item.offsetTop - item.offsetHeight + menu.offsetHeight);\n        let keyBelow = key;\n        while (keyBelow && item && item.offsetTop < pageY) {\n            keyBelow = this.getKeyBelow(keyBelow);\n            item = keyBelow != null ? this.getItem(keyBelow) : null;\n        }\n        return keyBelow;\n    }\n    getKeyForSearch(search, fromKey) {\n        const collator = this.collator?.();\n        if (!collator) {\n            return;\n        }\n        // Prevent from getting the same key twice\n        let key = fromKey != null ? this.getKeyBelow(fromKey) : this.getFirstKey();\n        while (key != null) {\n            const item = this.collection().getItem(key);\n            if (item) {\n                const substring = item.textValue.slice(0, search.length);\n                if (item.textValue && collator.compare(substring, search) === 0) {\n                    return key;\n                }\n            }\n            key = this.getKeyBelow(key);\n        }\n    }\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/8f2f2acb3d5850382ebe631f055f88c704aa7d17/packages/@react-aria/selection/src/useSelectableList.ts\n */\nimport { access } from \"@kobalte/utils\";\nimport { createMemo } from \"solid-js\";\nimport { createCollator } from \"../i18n\";\nimport { createSelectableCollection, } from \"../selection\";\nimport { ListKeyboardDelegate } from \"./list-keyboard-delegate\";\n/**\n * Handles interactions with a selectable list.\n * @param props Props for the list.\n * @param ref A ref to the list element.\n * @param scrollRef The ref attached to the scrollable body. Used to provide automatic scrolling on item focus for non-virtualized collections. If not provided, defaults to the collection ref.\n */\nexport function createSelectableList(props, ref, scrollRef) {\n    const collator = createCollator({ usage: \"search\", sensitivity: \"base\" });\n    // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n    const delegate = createMemo(() => {\n        const keyboardDelegate = access(props.keyboardDelegate);\n        if (keyboardDelegate) {\n            return keyboardDelegate;\n        }\n        return new ListKeyboardDelegate(props.collection, ref, collator);\n    });\n    return createSelectableCollection({\n        selectionManager: () => access(props.selectionManager),\n        keyboardDelegate: delegate,\n        autoFocus: () => access(props.autoFocus),\n        deferAutoFocus: () => access(props.deferAutoFocus),\n        shouldFocusWrap: () => access(props.shouldFocusWrap),\n        disallowEmptySelection: () => access(props.disallowEmptySelection),\n        selectOnFocus: () => access(props.selectOnFocus),\n        disallowTypeAhead: () => access(props.disallowTypeAhead),\n        shouldUseVirtualFocus: () => access(props.shouldUseVirtualFocus),\n        allowsTabNavigation: () => access(props.allowsTabNavigation),\n        isVirtualized: () => access(props.isVirtualized),\n        scrollToKey: key => access(props.scrollToKey)?.(key),\n    }, ref, scrollRef);\n}\n","import { createStore } from \"solid-js/store\";\nconst [state, setState] = createStore({\n    toasts: [],\n});\nfunction add(toast) {\n    setState(\"toasts\", prev => [...prev, toast]);\n}\nfunction get(id) {\n    return state.toasts.find(toast => toast.id === id);\n}\nfunction update(id, toast) {\n    const index = state.toasts.findIndex(toast => toast.id === id);\n    if (index != -1) {\n        setState(\"toasts\", prev => [...prev.slice(0, index), toast, ...prev.slice(index + 1)]);\n    }\n}\nfunction dismiss(id) {\n    setState(\"toasts\", toast => toast.id === id, \"dismiss\", true);\n}\nfunction remove(id) {\n    setState(\"toasts\", prev => prev.filter(toast => toast.id !== id));\n}\nfunction clear() {\n    setState(\"toasts\", []);\n}\nexport const toastStore = {\n    toasts: () => state.toasts,\n    add,\n    get,\n    update,\n    dismiss,\n    remove,\n    clear,\n};\n","import { isFunction } from \"@kobalte/utils\";\nimport { toastStore } from \"./toast-store\";\nlet toastsCounter = 0;\n/** Adds a new toast to the visible toasts or queue depending on current state and limit, and return the id of the created toast. */\nfunction show(toastComponent, options) {\n    const id = toastsCounter++;\n    toastStore.add({ id, toastComponent, dismiss: false, update: false, region: options?.region });\n    return id;\n}\n/** Update the toast of the given id with a new rendered component. */\nfunction update(id, toastComponent) {\n    toastStore.update(id, { id, toastComponent, dismiss: false, update: true });\n}\n/** Adds a new promise-based toast to the visible toasts or queue depending on current state and limit, and return the id of the created toast. */\nfunction promise(promise, toastComponent, options) {\n    const id = show(props => {\n        return toastComponent({\n            get toastId() {\n                return props.toastId;\n            },\n            state: \"pending\",\n        });\n    }, options);\n    (isFunction(promise) ? promise() : promise)\n        .then(data => update(id, props => {\n        return toastComponent({\n            get toastId() {\n                return props.toastId;\n            },\n            state: \"fulfilled\",\n            data,\n        });\n    }))\n        .catch(error => update(id, props => {\n        return toastComponent({\n            get toastId() {\n                return props.toastId;\n            },\n            state: \"rejected\",\n            error,\n        });\n    }));\n    return id;\n}\n/** Removes toast with given id from visible toasts and queue. */\nfunction dismiss(id) {\n    toastStore.dismiss(id);\n    return id;\n}\n/** Removes all toasts from visible toasts and queue. */\nfunction clear() {\n    toastStore.clear();\n}\n// User facing API.\nexport const toaster = {\n    show,\n    update,\n    promise,\n    dismiss,\n    clear,\n};\n","/*!\n * Portions of this file are based on code from ariakit\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the ariakit team:\n * https://github.com/hope-ui/hope-ui/blob/54125b130195f37161dbeeea0c21dc3b198bc3ac/packages/core/src/button/is-button.ts\n */\nconst BUTTON_INPUT_TYPES = [\"button\", \"color\", \"file\", \"image\", \"reset\", \"submit\"];\n/**\n * Checks whether `element` is a native HTML button element.\n * @example\n * isButton(document.querySelector(\"button\")); // true\n * isButton(document.querySelector(\"input[type='button']\")); // true\n * isButton(document.querySelector(\"div\")); // false\n * isButton(document.querySelector(\"input[type='text']\")); // false\n * isButton(document.querySelector(\"div[role='button']\")); // false\n */\nexport function isButton(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName === \"button\") {\n        return true;\n    }\n    if (tagName === \"input\" && element.type) {\n        return BUTTON_INPUT_TYPES.indexOf(element.type) !== -1;\n    }\n    return false;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/a13802d8be6f83af1450e56f7a88527b10d9cadf/packages/@react-aria/button/src/useButton.ts\n *\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/8a13899ff807bbf39f3d89d2d5964042ba4d5287/packages/ariakit/src/button/button.ts\n */\nimport { mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createMemo, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createTagName } from \"../primitives\";\nimport { isButton } from \"./is-button\";\n/**\n * Button enables users to trigger an action or event, such as submitting a form,\n * opening a dialog, canceling an action, or performing a delete operation.\n * This component is based on the [WAI-ARIA Button Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/button/)\n */\nexport function ButtonRoot(props) {\n    let ref;\n    props = mergeDefaultProps({ type: \"button\" }, props);\n    const [local, others] = splitProps(props, [\"ref\", \"type\", \"disabled\"]);\n    const tagName = createTagName(() => ref, () => \"button\");\n    const isNativeButton = createMemo(() => {\n        const elementTagName = tagName();\n        if (elementTagName == null) {\n            return false;\n        }\n        return isButton({ tagName: elementTagName, type: local.type });\n    });\n    const isNativeInput = createMemo(() => {\n        return tagName() === \"input\";\n    });\n    const isNativeLink = createMemo(() => {\n        return tagName() === \"a\" && ref?.getAttribute(\"href\") != null;\n    });\n    return (<Polymorphic as=\"button\" ref={mergeRefs(el => (ref = el), local.ref)} type={isNativeButton() || isNativeInput() ? local.type : undefined} role={!isNativeButton() && !isNativeLink() ? \"button\" : undefined} tabIndex={!isNativeButton() && !isNativeLink() && !local.disabled ? 0 : undefined} disabled={isNativeButton() || isNativeInput() ? local.disabled : undefined} aria-disabled={!isNativeButton() && !isNativeInput() && local.disabled ? true : undefined} data-disabled={local.disabled ? \"\" : undefined} {...others}/>);\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const DomCollectionContext = createContext();\nexport function useOptionalDomCollectionContext() {\n    return useContext(DomCollectionContext);\n}\nexport function useDomCollectionContext() {\n    const context = useOptionalDomCollectionContext();\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useDomCollectionContext` must be used within a `DomCollectionProvider` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts\n */\nimport { getDocument } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nfunction isElementPreceding(a, b) {\n    return Boolean(b.compareDocumentPosition(a) & Node.DOCUMENT_POSITION_PRECEDING);\n}\nexport function findDOMIndex(items, item) {\n    const itemEl = item.ref();\n    if (!itemEl) {\n        return -1;\n    }\n    let length = items.length;\n    if (!length) {\n        return -1;\n    }\n    // Most of the time, the new item will be added at the end of the list, so we\n    // do a findIndex in reverse order, instead of wasting time searching the\n    // index from the beginning.\n    while (length--) {\n        const currentItemEl = items[length]?.ref();\n        if (!currentItemEl) {\n            continue;\n        }\n        if (isElementPreceding(currentItemEl, itemEl)) {\n            return length + 1;\n        }\n    }\n    return 0;\n}\nfunction sortBasedOnDOMPosition(items) {\n    const pairs = items.map((item, index) => [index, item]);\n    let isOrderDifferent = false;\n    pairs.sort(([indexA, a], [indexB, b]) => {\n        const elementA = a.ref();\n        const elementB = b.ref();\n        if (elementA === elementB) {\n            return 0;\n        }\n        if (!elementA || !elementB) {\n            return 0;\n        }\n        // a before b\n        if (isElementPreceding(elementA, elementB)) {\n            if (indexA > indexB) {\n                isOrderDifferent = true;\n            }\n            return -1;\n        }\n        // a after b\n        if (indexA < indexB) {\n            isOrderDifferent = true;\n        }\n        return 1;\n    });\n    if (isOrderDifferent) {\n        return pairs.map(([_, item]) => item);\n    }\n    return items;\n}\nfunction setItemsBasedOnDOMPosition(items, setItems) {\n    const sortedItems = sortBasedOnDOMPosition(items);\n    if (items !== sortedItems) {\n        setItems(sortedItems);\n    }\n}\nfunction getCommonParent(items) {\n    const firstItem = items[0];\n    const lastItemEl = items[items.length - 1]?.ref();\n    let parentEl = firstItem?.ref()?.parentElement;\n    while (parentEl) {\n        if (lastItemEl && parentEl.contains(lastItemEl)) {\n            return parentEl;\n        }\n        parentEl = parentEl.parentElement;\n    }\n    return getDocument(parentEl).body;\n}\nfunction createTimeoutObserver(items, setItems) {\n    createEffect(() => {\n        const timeout = setTimeout(() => {\n            setItemsBasedOnDOMPosition(items(), setItems);\n        });\n        onCleanup(() => clearTimeout(timeout));\n    });\n}\nexport function createSortBasedOnDOMPosition(items, setItems) {\n    // JSDOM doesn't support IntersectionObserver. See https://github.com/jsdom/jsdom/issues/2032\n    if (typeof IntersectionObserver !== \"function\") {\n        createTimeoutObserver(items, setItems);\n        return;\n    }\n    let previousItems = [];\n    createEffect(() => {\n        const callback = () => {\n            const hasPreviousItems = !!previousItems.length;\n            previousItems = items();\n            // We don't want to sort items if items have been just registered.\n            if (!hasPreviousItems) {\n                return;\n            }\n            setItemsBasedOnDOMPosition(items(), setItems);\n        };\n        const root = getCommonParent(items());\n        const observer = new IntersectionObserver(callback, { root });\n        items().forEach(item => {\n            const itemEl = item.ref();\n            if (itemEl) {\n                observer.observe(itemEl);\n            }\n        });\n        onCleanup(() => observer.disconnect());\n    });\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection.tsx\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-state.ts\n * https://github.com/ariakit/ariakit/blob/da142672eddefa99365773ced72171facc06fdcb/packages/ariakit/src/collection/collection-item.ts\n */\nimport { access, addItemToArray } from \"@kobalte/utils\";\nimport { createComponent } from \"solid-js\";\nimport { createControllableArraySignal } from \"../index\";\nimport { DomCollectionContext } from \"./dom-collection-context\";\nimport { createSortBasedOnDOMPosition, findDOMIndex } from \"./utils\";\nexport function createDomCollection(props = {}) {\n    const [items, setItems] = createControllableArraySignal({\n        value: () => access(props.items),\n        onChange: value => props.onItemsChange?.(value),\n    });\n    createSortBasedOnDOMPosition(items, setItems);\n    const registerItem = (item) => {\n        setItems(prevItems => {\n            // Finds the item group based on the DOM hierarchy\n            const index = findDOMIndex(prevItems, item);\n            return addItemToArray(prevItems, item, index);\n        });\n        return () => {\n            setItems(prevItems => {\n                const nextItems = prevItems.filter(prevItem => prevItem.ref() !== item.ref());\n                if (prevItems.length === nextItems.length) {\n                    // The item isn't registered, so do nothing\n                    return prevItems;\n                }\n                return nextItems;\n            });\n        };\n    };\n    const DomCollectionProvider = props => {\n        return createComponent(DomCollectionContext.Provider, {\n            value: { registerItem },\n            get children() {\n                return props.children;\n            },\n        });\n    };\n    return { DomCollectionProvider };\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup } from \"solid-js\";\nimport { useDomCollectionContext } from \"./dom-collection-context\";\nexport function createDomCollectionItem(props) {\n    const context = useDomCollectionContext();\n    props = mergeDefaultProps({ shouldRegisterItem: true }, props);\n    createEffect(() => {\n        if (!props.shouldRegisterItem) {\n            return;\n        }\n        const unregister = context.registerItem(props.getItem());\n        onCleanup(unregister);\n    });\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const DialogContext = createContext();\nexport function useDialogContext() {\n    const context = useContext(DialogContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useDialogContext` must be used within a `Dialog` component\");\n    }\n    return context;\n}\n","import { callHandler } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport * as Button from \"../button\";\nimport { COMMON_INTL_MESSAGES, createMessageFormatter } from \"../i18n\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * The button that closes the dialog.\n */\nexport function DialogCloseButton(props) {\n    const context = useDialogContext();\n    const [local, others] = splitProps(props, [\"aria-label\", \"onClick\"]);\n    const messageFormatter = createMessageFormatter(() => COMMON_INTL_MESSAGES);\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        context.close();\n    };\n    return (<Button.Root aria-label={local[\"aria-label\"] || messageFormatter().format(\"dismiss\")} onClick={onClick} {...others}/>);\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const DismissableLayerContext = createContext();\nexport function useOptionalDismissableLayerContext() {\n    return useContext(DismissableLayerContext);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dismissable-layer/src/DismissableLayer.tsx\n *\n * Portions of this file are based on code from zag.\n * MIT Licensed, Copyright (c) 2021 Chakra UI.\n *\n * Credits to the Chakra UI team:\n * https://github.com/chakra-ui/zag/blob/d1dbf9e240803c9e3ed81ebef363739be4273de0/packages/utilities/dismissable/src/dismissable-layer.ts\n */\nimport { contains, getDocument, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, on, onCleanup, onMount, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createEscapeKeyDown, createInteractOutside, } from \"../primitives\";\nimport { DismissableLayerContext, useOptionalDismissableLayerContext, } from \"./dismissable-layer-context\";\nimport { layerStack } from \"./layer-stack\";\nexport function DismissableLayer(props) {\n    let ref;\n    const parentContext = useOptionalDismissableLayerContext();\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"disableOutsidePointerEvents\",\n        \"excludedElements\",\n        \"onEscapeKeyDown\",\n        \"onPointerDownOutside\",\n        \"onFocusOutside\",\n        \"onInteractOutside\",\n        \"onDismiss\",\n        \"bypassTopMostLayerCheck\",\n    ]);\n    const nestedLayers = new Set([]);\n    const registerNestedLayer = (element) => {\n        nestedLayers.add(element);\n        const parentUnregister = parentContext?.registerNestedLayer(element);\n        return () => {\n            nestedLayers.delete(element);\n            parentUnregister?.();\n        };\n    };\n    const shouldExcludeElement = (element) => {\n        if (!ref) {\n            return false;\n        }\n        return (local.excludedElements?.some(node => contains(node(), element)) ||\n            [...nestedLayers].some(layer => contains(layer, element)));\n    };\n    const onPointerDownOutside = (e) => {\n        if (!ref || layerStack.isBelowPointerBlockingLayer(ref)) {\n            return;\n        }\n        if (!local.bypassTopMostLayerCheck && !layerStack.isTopMostLayer(ref)) {\n            return;\n        }\n        local.onPointerDownOutside?.(e);\n        local.onInteractOutside?.(e);\n        if (!e.defaultPrevented) {\n            local.onDismiss?.();\n        }\n    };\n    const onFocusOutside = (e) => {\n        local.onFocusOutside?.(e);\n        local.onInteractOutside?.(e);\n        if (!e.defaultPrevented) {\n            local.onDismiss?.();\n        }\n    };\n    createInteractOutside({\n        shouldExcludeElement,\n        onPointerDownOutside,\n        onFocusOutside,\n    }, () => ref);\n    createEscapeKeyDown({\n        ownerDocument: () => getDocument(ref),\n        onEscapeKeyDown: e => {\n            if (!ref || !layerStack.isTopMostLayer(ref)) {\n                return;\n            }\n            local.onEscapeKeyDown?.(e);\n            if (!e.defaultPrevented && local.onDismiss) {\n                e.preventDefault();\n                local.onDismiss();\n            }\n        },\n    });\n    onMount(() => {\n        if (!ref) {\n            return;\n        }\n        layerStack.addLayer({\n            node: ref,\n            isPointerBlocking: local.disableOutsidePointerEvents,\n            dismiss: local.onDismiss,\n        });\n        const unregisterFromParentLayer = parentContext?.registerNestedLayer(ref);\n        layerStack.assignPointerEventToLayers();\n        layerStack.disableBodyPointerEvents(ref);\n        onCleanup(() => {\n            if (!ref) {\n                return;\n            }\n            layerStack.removeLayer(ref);\n            unregisterFromParentLayer?.();\n            // Re-assign pointer event to remaining layers.\n            layerStack.assignPointerEventToLayers();\n            layerStack.restoreBodyPointerEvents(ref);\n        });\n    });\n    createEffect(on([() => ref, () => local.disableOutsidePointerEvents], ([ref, disableOutsidePointerEvents]) => {\n        if (!ref) {\n            return;\n        }\n        const layer = layerStack.find(ref);\n        if (layer && layer.isPointerBlocking !== disableOutsidePointerEvents) {\n            // Keep layer in sync with the prop.\n            layer.isPointerBlocking = disableOutsidePointerEvents;\n            // Update layers pointer-events since this layer \"isPointerBlocking\" has changed.\n            layerStack.assignPointerEventToLayers();\n        }\n        if (disableOutsidePointerEvents) {\n            layerStack.disableBodyPointerEvents(ref);\n        }\n        onCleanup(() => {\n            layerStack.restoreBodyPointerEvents(ref);\n        });\n    }, {\n        defer: true,\n    }));\n    const context = {\n        registerNestedLayer,\n    };\n    return (<DismissableLayerContext.Provider value={context}>\n      <Polymorphic as=\"div\" ref={mergeRefs(el => (ref = el), local.ref)} {...others}/>\n    </DismissableLayerContext.Provider>);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/dialog/src/Dialog.tsx\n */\nimport { contains, focusWithoutScrolling, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, Show, splitProps } from \"solid-js\";\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { createFocusScope, createHideOutside, createPreventScroll, } from \"../primitives\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * Contains the content to be rendered when the dialog is open.\n */\nexport function DialogContent(props) {\n    let ref;\n    const context = useDialogContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"content\"),\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"onOpenAutoFocus\",\n        \"onCloseAutoFocus\",\n        \"onPointerDownOutside\",\n        \"onFocusOutside\",\n        \"onInteractOutside\",\n    ]);\n    let hasInteractedOutside = false;\n    let hasPointerDownOutside = false;\n    const onPointerDownOutside = (e) => {\n        local.onPointerDownOutside?.(e);\n        // If the event is a right-click, we shouldn't close because\n        // it is effectively as if we right-clicked the `Overlay`.\n        if (context.modal() && e.detail.isContextMenu) {\n            e.preventDefault();\n        }\n    };\n    const onFocusOutside = (e) => {\n        local.onFocusOutside?.(e);\n        // When focus is trapped, a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        if (context.modal()) {\n            e.preventDefault();\n        }\n    };\n    const onInteractOutside = (e) => {\n        local.onInteractOutside?.(e);\n        if (context.modal()) {\n            return;\n        }\n        // Non-modal behavior below\n        if (!e.defaultPrevented) {\n            hasInteractedOutside = true;\n            if (e.detail.originalEvent.type === \"pointerdown\") {\n                hasPointerDownOutside = true;\n            }\n        }\n        // Prevent dismissing when clicking the trigger.\n        // As the trigger is already setup to close, without doing so would\n        // cause it to close and immediately open.\n        if (contains(context.triggerRef(), e.target)) {\n            e.preventDefault();\n        }\n        // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n        // we will get the pointer down outside event on the trigger, but then a subsequent\n        // focus outside event on the container, we ignore any focus outside event when we've\n        // already had a pointer down outside event.\n        if (e.detail.originalEvent.type === \"focusin\" && hasPointerDownOutside) {\n            e.preventDefault();\n        }\n    };\n    const onCloseAutoFocus = (e) => {\n        local.onCloseAutoFocus?.(e);\n        if (context.modal()) {\n            e.preventDefault();\n            focusWithoutScrolling(context.triggerRef());\n        }\n        else {\n            if (!e.defaultPrevented) {\n                if (!hasInteractedOutside) {\n                    focusWithoutScrolling(context.triggerRef());\n                }\n                // Always prevent autofocus because we either focus manually or want user agent focus\n                e.preventDefault();\n            }\n            hasInteractedOutside = false;\n            hasPointerDownOutside = false;\n        }\n    };\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    createHideOutside({\n        isDisabled: () => !(context.isOpen() && context.modal()),\n        targets: () => (ref ? [ref] : []),\n    });\n    createPreventScroll({\n        ownerRef: () => ref,\n        isDisabled: () => !(context.isOpen() && (context.modal() || context.preventScroll())),\n    });\n    createFocusScope({\n        trapFocus: () => context.isOpen() && context.modal(),\n        onMountAutoFocus: local.onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus,\n    }, () => ref);\n    createEffect(() => onCleanup(context.registerContentId(others.id)));\n    return (<Show when={context.contentPresence.isPresent()}>\n      <DismissableLayer ref={mergeRefs(el => {\n            context.contentPresence.setRef(el);\n            ref = el;\n        }, local.ref)} role=\"dialog\" tabIndex={-1} disableOutsidePointerEvents={context.modal() && context.isOpen()} excludedElements={[context.triggerRef]} aria-labelledby={context.titleId()} aria-describedby={context.descriptionId()} data-expanded={context.isOpen() ? \"\" : undefined} data-closed={!context.isOpen() ? \"\" : undefined} onPointerDownOutside={onPointerDownOutside} onFocusOutside={onFocusOutside} onInteractOutside={onInteractOutside} onDismiss={context.close} {...others}/>\n    </Show>);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * An optional accessible description to be announced when the dialog is open.\n */\nexport function DialogDescription(props) {\n    const context = useDialogContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"description\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\"]);\n    createEffect(() => onCleanup(context.registerDescriptionId(local.id)));\n    return <Polymorphic as=\"p\" id={local.id} {...others}/>;\n}\n","import { callHandler, mergeRefs } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * A layer that covers the inert portion of the view when the dialog is open.\n */\nexport function DialogOverlay(props) {\n    const context = useDialogContext();\n    const [local, others] = splitProps(props, [\"ref\", \"style\", \"onPointerDown\"]);\n    const onPointerDown = e => {\n        callHandler(e, local.onPointerDown);\n        // fixes a firefox issue that starts text selection https://bugzilla.mozilla.org/show_bug.cgi?id=1675846\n        if (e.target === e.currentTarget) {\n            e.preventDefault();\n        }\n    };\n    return (<Show when={context.overlayPresence.isPresent()}>\n      <Polymorphic as=\"div\" ref={mergeRefs(context.overlayPresence.setRef, local.ref)} \n    // We re-enable pointer-events prevented by `Dialog.Content` to allow scrolling.\n    style={{ \"pointer-events\": \"auto\", ...local.style }} data-expanded={context.isOpen() ? \"\" : undefined} data-closed={!context.isOpen() ? \"\" : undefined} onPointerDown={onPointerDown} {...others}/>\n    </Show>);\n}\n","import { Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * Portals its children into the `body` when the dialog is open.\n */\nexport function DialogPortal(props) {\n    const context = useDialogContext();\n    return (<Show when={context.contentPresence.isPresent() || context.overlayPresence.isPresent()}>\n      <Portal {...props}/>\n    </Show>);\n}\n","import { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId } from \"solid-js\";\nimport { createDisclosureState, createPresence, createRegisterId } from \"../primitives\";\nimport { DialogContext } from \"./dialog-context\";\n/**\n * A dialog is a window overlaid on either the primary window or another dialog window.\n */\nexport function DialogRoot(props) {\n    const defaultId = `dialog-${createUniqueId()}`;\n    props = mergeDefaultProps({\n        id: defaultId,\n        modal: true,\n        preventScroll: false,\n    }, props);\n    const [contentId, setContentId] = createSignal();\n    const [titleId, setTitleId] = createSignal();\n    const [descriptionId, setDescriptionId] = createSignal();\n    const [triggerRef, setTriggerRef] = createSignal();\n    const disclosureState = createDisclosureState({\n        open: () => props.open,\n        defaultOpen: () => props.defaultOpen,\n        onOpenChange: isOpen => props.onOpenChange?.(isOpen),\n    });\n    const shouldMount = () => props.forceMount || disclosureState.isOpen();\n    const overlayPresence = createPresence(shouldMount);\n    const contentPresence = createPresence(shouldMount);\n    const context = {\n        isOpen: disclosureState.isOpen,\n        modal: () => props.modal ?? true,\n        preventScroll: () => props.preventScroll ?? false,\n        contentId,\n        titleId,\n        descriptionId,\n        triggerRef,\n        overlayPresence,\n        contentPresence,\n        close: disclosureState.close,\n        toggle: disclosureState.toggle,\n        setTriggerRef,\n        generateId: createGenerateId(() => props.id),\n        registerContentId: createRegisterId(setContentId),\n        registerTitleId: createRegisterId(setTitleId),\n        registerDescriptionId: createRegisterId(setDescriptionId),\n    };\n    return <DialogContext.Provider value={context}>{props.children}</DialogContext.Provider>;\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useDialogContext } from \"./dialog-context\";\n/**\n * An accessible title to be announced when the dialog is open.\n */\nexport function DialogTitle(props) {\n    const context = useDialogContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"title\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\"]);\n    createEffect(() => onCleanup(context.registerTitleId(local.id)));\n    return <Polymorphic as=\"h2\" id={local.id} {...others}/>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const PopperContext = createContext();\nexport function usePopperContext() {\n    const context = useContext(PopperContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `usePopperContext` must be used within a `Popper` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/b6c7f8cf609db32e64c8d4b28b5e06ebf437a800/packages/ariakit/src/popover/popover-arrow.tsx\n * https://github.com/ariakit/ariakit/blob/a178c2f2dcc6571ba338fd74c79e3b0eab2a27c5/packages/ariakit/src/popover/__popover-arrow-path.ts\n */\nimport { getWindow, mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, createSignal, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { usePopperContext } from \"./popper-context\";\nconst DEFAULT_SIZE = 30;\nconst HALF_DEFAULT_SIZE = DEFAULT_SIZE / 2;\nconst ROTATION_DEG = {\n    top: 180,\n    right: -90,\n    bottom: 0,\n    left: 90,\n};\nexport const ARROW_PATH = \"M23,27.8c1.1,1.2,3.4,2.2,5,2.2h2H0h2c1.7,0,3.9-1,5-2.2l6.6-7.2c0.7-0.8,2-0.8,2.7,0L23,27.8L23,27.8z\";\n/**\n * An optional arrow element to render alongside the popper content.\n * Must be rendered in the popper content.\n */\nexport function PopperArrow(props) {\n    const context = usePopperContext();\n    props = mergeDefaultProps({\n        size: DEFAULT_SIZE,\n    }, props);\n    const [local, others] = splitProps(props, [\"ref\", \"style\", \"children\", \"size\"]);\n    const dir = () => context.currentPlacement().split(\"-\")[0];\n    const contentStyle = createComputedStyle(context.contentRef);\n    const fill = () => contentStyle()?.getPropertyValue(\"background-color\") || \"none\";\n    const stroke = () => contentStyle()?.getPropertyValue(`border-${dir()}-color`) || \"none\";\n    const borderWidth = () => contentStyle()?.getPropertyValue(`border-${dir()}-width`) || \"0px\";\n    const strokeWidth = () => {\n        return parseInt(borderWidth()) * 2 * (DEFAULT_SIZE / local.size);\n    };\n    const rotate = () => {\n        return `rotate(${ROTATION_DEG[dir()]} ${HALF_DEFAULT_SIZE} ${HALF_DEFAULT_SIZE})`;\n    };\n    return (<Polymorphic as=\"div\" ref={mergeRefs(context.setArrowRef, local.ref)} aria-hidden=\"true\" style={{\n            // server side rendering\n            position: \"absolute\",\n            \"font-size\": `${local.size}px`,\n            width: \"1em\",\n            height: \"1em\",\n            \"pointer-events\": \"none\",\n            fill: fill(),\n            stroke: stroke(),\n            \"stroke-width\": strokeWidth(),\n            ...local.style,\n        }} {...others}>\n      <svg display=\"block\" viewBox={`0 0 ${DEFAULT_SIZE} ${DEFAULT_SIZE}`}>\n        <g transform={rotate()}>\n          <path fill=\"none\" d={ARROW_PATH}/>\n          <path stroke=\"none\" d={ARROW_PATH}/>\n        </g>\n      </svg>\n    </Polymorphic>);\n}\nfunction createComputedStyle(element) {\n    const [style, setStyle] = createSignal();\n    createEffect(() => {\n        const el = element();\n        el && setStyle(getWindow(el).getComputedStyle(el));\n    });\n    return style;\n}\n","import { mergeRefs } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { usePopperContext } from \"./popper-context\";\n/**\n * The wrapper component that positions the popper content relative to the popper anchor.\n */\nexport function PopperPositioner(props) {\n    const context = usePopperContext();\n    const [local, others] = splitProps(props, [\"ref\", \"style\"]);\n    return (<Polymorphic as=\"div\" ref={mergeRefs(context.setPositionerRef, local.ref)} data-popper-positioner=\"\" style={{\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            \"min-width\": \"max-content\",\n            ...local.style,\n        }} {...others}/>);\n}\n","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentWin = win;\n    let currentIFrame = currentWin.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentWin = getWindow(currentIFrame);\n      currentIFrame = currentWin.frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction isTopLayer(floating) {\n  return topLayerSelectors.some(selector => {\n    try {\n      return floating.matches(selector);\n    } catch (e) {\n      return false;\n    }\n  });\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isFixed = strategy === 'fixed';\n  const documentElement = getDocumentElement(offsetParent);\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\n  if (offsetParent === documentElement || topLayer && isFixed) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  const x = rect.left + scroll.scrollLeft - offsets.x;\n  const y = rect.top + scroll.scrollTop - offsets.y;\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element) || isTopLayer(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","function createDOMRect(anchorRect) {\n    const { x = 0, y = 0, width = 0, height = 0 } = anchorRect ?? {};\n    if (typeof DOMRect === \"function\") {\n        return new DOMRect(x, y, width, height);\n    }\n    // JSDOM doesn't support DOMRect constructor.\n    const rect = {\n        x,\n        y,\n        width,\n        height,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x,\n    };\n    return { ...rect, toJSON: () => rect };\n}\nexport function getAnchorElement(anchor, getAnchorRect) {\n    // https://floating-ui.com/docs/virtual-elements\n    const contextElement = anchor;\n    return {\n        contextElement,\n        getBoundingClientRect: () => {\n            const anchorRect = getAnchorRect(anchor);\n            if (anchorRect) {\n                return createDOMRect(anchorRect);\n            }\n            if (anchor) {\n                return anchor.getBoundingClientRect();\n            }\n            return createDOMRect();\n        },\n    };\n}\nexport function isValidPlacement(flip) {\n    return /^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(flip);\n}\nconst REVERSE_BASE_PLACEMENT = {\n    top: \"bottom\",\n    right: \"left\",\n    bottom: \"top\",\n    left: \"right\",\n};\nexport function getTransformOrigin(placement, readingDirection) {\n    const [basePlacement, alignment] = placement.split(\"-\");\n    const reversePlacement = REVERSE_BASE_PLACEMENT[basePlacement];\n    if (!alignment) {\n        return `${reversePlacement} center`;\n    }\n    if (basePlacement === \"left\" || basePlacement === \"right\") {\n        return `${reversePlacement} ${alignment === \"start\" ? \"top\" : \"bottom\"}`;\n    }\n    if (alignment === \"start\") {\n        return `${reversePlacement} ${readingDirection === \"rtl\" ? \"right\" : \"left\"}`;\n    }\n    return `${reversePlacement} ${readingDirection === \"rtl\" ? \"left\" : \"right\"}`;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/232bc79018ec20967fec1e097a9474aba3bb5be7/packages/ariakit/src/popover/popover-state.ts\n */\nimport { arrow, autoUpdate, computePosition, flip, hide, offset, platform, shift, size, } from \"@floating-ui/dom\";\nimport { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, createSignal, onCleanup } from \"solid-js\";\nimport { useLocale } from \"../i18n\";\nimport { PopperContext } from \"./popper-context\";\nimport { getAnchorElement, getTransformOrigin, isValidPlacement, } from \"./utils\";\n/**\n * Display a floating content relative to an anchor element with an optional arrow.\n */\nexport function PopperRoot(props) {\n    props = mergeDefaultProps({\n        getAnchorRect: anchor => anchor?.getBoundingClientRect(),\n        placement: \"bottom\",\n        gutter: 0,\n        shift: 0,\n        flip: true,\n        slide: true,\n        overlap: false,\n        sameWidth: false,\n        fitViewport: false,\n        hideWhenDetached: false,\n        detachedPadding: 0,\n        arrowPadding: 4,\n        overflowPadding: 8,\n    }, props);\n    const [positionerRef, setPositionerRef] = createSignal();\n    const [arrowRef, setArrowRef] = createSignal();\n    const [currentPlacement, setCurrentPlacement] = createSignal(props.placement);\n    // Floating UI - reference element.\n    const anchorRef = () => getAnchorElement(props.anchorRef(), props.getAnchorRect);\n    const { direction } = useLocale();\n    async function updatePosition() {\n        const referenceEl = anchorRef();\n        const floatingEl = positionerRef();\n        const arrowEl = arrowRef();\n        if (!referenceEl || !floatingEl) {\n            return;\n        }\n        const arrowOffset = (arrowEl?.clientHeight || 0) / 2;\n        const finalGutter = typeof props.gutter === \"number\" ? props.gutter + arrowOffset : props.gutter ?? arrowOffset;\n        floatingEl.style.setProperty(\"--kb-popper-content-overflow-padding\", `${props.overflowPadding}px`);\n        // Virtual element doesn't work without this ¯\\_(ツ)_/¯\n        referenceEl.getBoundingClientRect();\n        const middleware = [\n            // https://floating-ui.com/docs/offset\n            offset(({ placement }) => {\n                // If there's no placement alignment (*-start or *-end), we'll\n                // fall back to the crossAxis offset as it also works for\n                // center-aligned placements.\n                const hasAlignment = !!placement.split(\"-\")[1];\n                return {\n                    mainAxis: finalGutter,\n                    crossAxis: !hasAlignment ? props.shift : undefined,\n                    alignmentAxis: props.shift,\n                };\n            }),\n        ];\n        if (props.flip !== false) {\n            const fallbackPlacements = typeof props.flip === \"string\" ? props.flip.split(\" \") : undefined;\n            if (fallbackPlacements !== undefined && !fallbackPlacements.every(isValidPlacement)) {\n                throw new Error(\"`flip` expects a spaced-delimited list of placements\");\n            }\n            // https://floating-ui.com/docs/flip\n            middleware.push(flip({\n                padding: props.overflowPadding,\n                fallbackPlacements: fallbackPlacements,\n            }));\n        }\n        if (props.slide || props.overlap) {\n            // https://floating-ui.com/docs/shift\n            middleware.push(shift({\n                mainAxis: props.slide,\n                crossAxis: props.overlap,\n                padding: props.overflowPadding,\n            }));\n        }\n        // https://floating-ui.com/docs/size\n        middleware.push(size({\n            padding: props.overflowPadding,\n            apply({ availableWidth, availableHeight, rects }) {\n                const referenceWidth = Math.round(rects.reference.width);\n                availableWidth = Math.floor(availableWidth);\n                availableHeight = Math.floor(availableHeight);\n                floatingEl.style.setProperty(\"--kb-popper-anchor-width\", `${referenceWidth}px`);\n                floatingEl.style.setProperty(\"--kb-popper-content-available-width\", `${availableWidth}px`);\n                floatingEl.style.setProperty(\"--kb-popper-content-available-height\", `${availableHeight}px`);\n                if (props.sameWidth) {\n                    floatingEl.style.width = `${referenceWidth}px`;\n                }\n                if (props.fitViewport) {\n                    floatingEl.style.maxWidth = `${availableWidth}px`;\n                    floatingEl.style.maxHeight = `${availableHeight}px`;\n                }\n            },\n        }));\n        // https://floating-ui.com/docs/hide\n        if (props.hideWhenDetached) {\n            middleware.push(hide({ padding: props.detachedPadding }));\n        }\n        // https://floating-ui.com/docs/arrow\n        if (arrowEl) {\n            middleware.push(arrow({ element: arrowEl, padding: props.arrowPadding }));\n        }\n        // https://floating-ui.com/docs/computePosition\n        const pos = await computePosition(referenceEl, floatingEl, {\n            placement: props.placement,\n            strategy: \"absolute\",\n            middleware,\n            platform: {\n                ...platform,\n                isRTL: () => direction() === \"rtl\",\n            },\n        });\n        // Sync the new updated placement of floating-ui with our current placement and notify parent.\n        setCurrentPlacement(pos.placement);\n        props.onCurrentPlacementChange?.(pos.placement);\n        if (!floatingEl) {\n            return;\n        }\n        floatingEl.style.setProperty(\"--kb-popper-content-transform-origin\", getTransformOrigin(pos.placement, direction()));\n        const x = Math.round(pos.x);\n        const y = Math.round(pos.y);\n        let visibility;\n        if (props.hideWhenDetached) {\n            visibility = pos.middlewareData.hide?.referenceHidden ? \"hidden\" : \"visible\";\n        }\n        // https://floating-ui.com/docs/misc#subpixel-and-accelerated-positioning\n        Object.assign(floatingEl.style, {\n            top: \"0\",\n            left: \"0\",\n            transform: `translate3d(${x}px, ${y}px, 0)`,\n            visibility,\n        });\n        // https://floating-ui.com/docs/arrow#usage\n        if (arrowEl && pos.middlewareData.arrow) {\n            const { x: arrowX, y: arrowY } = pos.middlewareData.arrow;\n            const dir = pos.placement.split(\"-\")[0];\n            Object.assign(arrowEl.style, {\n                left: arrowX != null ? `${arrowX}px` : \"\",\n                top: arrowY != null ? `${arrowY}px` : \"\",\n                [dir]: \"100%\",\n            });\n        }\n    }\n    createEffect(() => {\n        const referenceEl = anchorRef();\n        const floatingEl = positionerRef();\n        if (!referenceEl || !floatingEl) {\n            return;\n        }\n        // https://floating-ui.com/docs/autoUpdate\n        const cleanupAutoUpdate = autoUpdate(referenceEl, floatingEl, updatePosition, {\n            // JSDOM doesn't support ResizeObserver\n            elementResize: typeof ResizeObserver === \"function\",\n        });\n        onCleanup(cleanupAutoUpdate);\n    });\n    // Makes sure the positioner element has the same z-index as the popper content element,\n    // so users only need to set the z-index once.\n    createEffect(() => {\n        const positioner = positionerRef();\n        const content = props.contentRef();\n        if (!positioner || !content) {\n            return;\n        }\n        queueMicrotask(() => {\n            positioner.style.zIndex = getComputedStyle(content).zIndex;\n        });\n    });\n    const context = {\n        currentPlacement,\n        contentRef: () => props.contentRef(),\n        setPositionerRef,\n        setArrowRef,\n    };\n    return <PopperContext.Provider value={context}>{props.children}</PopperContext.Provider>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const ListboxContext = createContext();\nexport function useListboxContext() {\n    const context = useContext(ListboxContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useListboxContext` must be used within a `Listbox` component\");\n    }\n    return context;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const ListboxItemContext = createContext();\nexport function useListboxItemContext() {\n    const context = useContext(ListboxItemContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useListboxItemContext` must be used within a `Listbox.Item` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-aria/listbox/src/useOption.ts\n */\nimport { callHandler, composeEventHandlers, createGenerateId, focusWithoutScrolling, isMac, isWebKit, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createMemo, createSignal, createUniqueId, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createRegisterId, getItemCount } from \"../primitives\";\nimport { createSelectableItem } from \"../selection\";\nimport { useListboxContext } from \"./listbox-context\";\nimport { ListboxItemContext, } from \"./listbox-item-context\";\n/**\n * An item of the listbox.\n */\nexport function ListboxItem(props) {\n    let ref;\n    const listBoxContext = useListboxContext();\n    const defaultId = `${listBoxContext.generateId(\"item\")}-${createUniqueId()}`;\n    props = mergeDefaultProps({ id: defaultId }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"item\",\n        \"aria-label\",\n        \"aria-labelledby\",\n        \"aria-describedby\",\n        \"onPointerMove\",\n        \"onPointerDown\",\n        \"onPointerUp\",\n        \"onClick\",\n        \"onKeyDown\",\n        \"onMouseDown\",\n        \"onFocus\",\n    ]);\n    const [labelId, setLabelId] = createSignal();\n    const [descriptionId, setDescriptionId] = createSignal();\n    const selectionManager = () => listBoxContext.listState().selectionManager();\n    const isHighlighted = () => selectionManager().focusedKey() === local.item.key;\n    const selectableItem = createSelectableItem({\n        key: () => local.item.key,\n        selectionManager: selectionManager,\n        shouldSelectOnPressUp: listBoxContext.shouldSelectOnPressUp,\n        allowsDifferentPressOrigin: () => {\n            return listBoxContext.shouldSelectOnPressUp() && listBoxContext.shouldFocusOnHover();\n        },\n        shouldUseVirtualFocus: listBoxContext.shouldUseVirtualFocus,\n        disabled: () => local.item.disabled,\n    }, () => ref);\n    const ariaSelected = () => {\n        if (selectionManager().selectionMode() === \"none\") {\n            return undefined;\n        }\n        return selectableItem.isSelected();\n    };\n    // Safari with VoiceOver on macOS misreads options with aria-labelledby or aria-label as simply \"text\".\n    // We should not map slots to the label and description on Safari and instead just have VoiceOver read the textContent.\n    // https://bugs.webkit.org/show_bug.cgi?id=209279\n    const isNotSafariMacOS = createMemo(() => !(isMac() && isWebKit()));\n    const ariaLabel = () => (isNotSafariMacOS() ? local[\"aria-label\"] : undefined);\n    const ariaLabelledBy = () => (isNotSafariMacOS() ? labelId() : undefined);\n    const ariaDescribedBy = () => (isNotSafariMacOS() ? descriptionId() : undefined);\n    const ariaPosInSet = () => {\n        if (!listBoxContext.isVirtualized()) {\n            return undefined;\n        }\n        const index = listBoxContext.listState().collection().getItem(local.item.key)?.index;\n        return index != null ? index + 1 : undefined;\n    };\n    const ariaSetSize = () => {\n        if (!listBoxContext.isVirtualized()) {\n            return undefined;\n        }\n        return getItemCount(listBoxContext.listState().collection());\n    };\n    /**\n     * We focus items on `pointerMove` to achieve the following:\n     *\n     * - Mouse over an item (it focuses)\n     * - Leave mouse where it is and use keyboard to focus a different item\n     * - Wiggle mouse without it leaving previously focused item\n     * - Previously focused item should re-focus\n     *\n     * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n     * wiggles. This is to match native select implementation.\n     */\n    const onPointerMove = e => {\n        callHandler(e, local.onPointerMove);\n        if (e.pointerType !== \"mouse\") {\n            return;\n        }\n        if (!selectableItem.isDisabled() && listBoxContext.shouldFocusOnHover()) {\n            focusWithoutScrolling(e.currentTarget);\n            selectionManager().setFocused(true);\n            selectionManager().setFocusedKey(local.item.key);\n        }\n    };\n    const dataset = createMemo(() => ({\n        \"data-disabled\": selectableItem.isDisabled() ? \"\" : undefined,\n        \"data-selected\": selectableItem.isSelected() ? \"\" : undefined,\n        \"data-highlighted\": isHighlighted() ? \"\" : undefined,\n    }));\n    const context = {\n        isSelected: selectableItem.isSelected,\n        dataset,\n        generateId: createGenerateId(() => others.id),\n        registerLabelId: createRegisterId(setLabelId),\n        registerDescriptionId: createRegisterId(setDescriptionId),\n    };\n    return (<ListboxItemContext.Provider value={context}>\n      <Polymorphic as=\"li\" ref={mergeRefs(el => (ref = el), local.ref)} role=\"option\" tabIndex={selectableItem.tabIndex()} aria-disabled={selectableItem.isDisabled()} aria-selected={ariaSelected()} aria-label={ariaLabel()} aria-labelledby={ariaLabelledBy()} aria-describedby={ariaDescribedBy()} aria-posinset={ariaPosInSet()} aria-setsize={ariaSetSize()} data-key={selectableItem.dataKey()} onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])} onPointerUp={composeEventHandlers([local.onPointerUp, selectableItem.onPointerUp])} onClick={composeEventHandlers([local.onClick, selectableItem.onClick])} onKeyDown={composeEventHandlers([local.onKeyDown, selectableItem.onKeyDown])} onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])} onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])} onPointerMove={onPointerMove} {...dataset()} {...others}/>\n    </ListboxItemContext.Provider>);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useListboxItemContext } from \"./listbox-item-context\";\n/**\n * The visual indicator rendered when the item is selected.\n * You can style this element directly, or you can use it as a wrapper to put an icon into, or both.\n */\nexport function ListboxItemIndicator(props) {\n    const context = useListboxItemContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"indicator\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"forceMount\"]);\n    return (<Show when={local.forceMount || context.isSelected()}>\n      <Polymorphic as=\"div\" aria-hidden=\"true\" {...context.dataset()} {...others}/>\n    </Show>);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/22cb32d329e66c60f55d4fc4025d1d44bb015d71/packages/@react-aria/listbox/src/useListBox.ts\n */\nimport { access, composeEventHandlers, createGenerateId, Key, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createMemo, createUniqueId, Match, Show, splitProps, Switch, } from \"solid-js\";\nimport { createListState, createSelectableList } from \"../list\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { ListboxContext } from \"./listbox-context\";\n/**\n * Listbox presents a list of options and allows a user to select one or more of them.\n */\nexport function ListboxRoot(props) {\n    let ref;\n    const defaultId = `listbox-${createUniqueId()}`;\n    props = mergeDefaultProps({\n        id: defaultId,\n        selectionMode: \"single\",\n        virtualized: false,\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"children\",\n        \"renderItem\",\n        \"renderSection\",\n        \"value\",\n        \"defaultValue\",\n        \"onChange\",\n        \"options\",\n        \"optionValue\",\n        \"optionTextValue\",\n        \"optionDisabled\",\n        \"optionGroupChildren\",\n        \"state\",\n        \"keyboardDelegate\",\n        \"autoFocus\",\n        \"selectionMode\",\n        \"shouldFocusWrap\",\n        \"shouldUseVirtualFocus\",\n        \"shouldSelectOnPressUp\",\n        \"shouldFocusOnHover\",\n        \"allowDuplicateSelectionEvents\",\n        \"disallowEmptySelection\",\n        \"selectionBehavior\",\n        \"selectOnFocus\",\n        \"disallowTypeAhead\",\n        \"allowsTabNavigation\",\n        \"virtualized\",\n        \"scrollToItem\",\n        \"scrollRef\",\n        \"onKeyDown\",\n        \"onMouseDown\",\n        \"onFocusIn\",\n        \"onFocusOut\",\n    ]);\n    const listState = createMemo(() => {\n        if (local.state) {\n            return local.state;\n        }\n        return createListState({\n            selectedKeys: () => local.value,\n            defaultSelectedKeys: () => local.defaultValue,\n            onSelectionChange: local.onChange,\n            allowDuplicateSelectionEvents: () => access(local.allowDuplicateSelectionEvents),\n            disallowEmptySelection: () => access(local.disallowEmptySelection),\n            selectionBehavior: () => access(local.selectionBehavior),\n            selectionMode: () => access(local.selectionMode),\n            dataSource: () => local.options ?? [],\n            getKey: () => local.optionValue,\n            getTextValue: () => local.optionTextValue,\n            getDisabled: () => local.optionDisabled,\n            getSectionChildren: () => local.optionGroupChildren,\n        });\n    });\n    const selectableList = createSelectableList({\n        selectionManager: () => listState().selectionManager(),\n        collection: () => listState().collection(),\n        autoFocus: () => access(local.autoFocus),\n        shouldFocusWrap: () => access(local.shouldFocusWrap),\n        keyboardDelegate: () => local.keyboardDelegate,\n        disallowEmptySelection: () => access(local.disallowEmptySelection),\n        selectOnFocus: () => access(local.selectOnFocus),\n        disallowTypeAhead: () => access(local.disallowTypeAhead),\n        shouldUseVirtualFocus: () => access(local.shouldUseVirtualFocus),\n        allowsTabNavigation: () => access(local.allowsTabNavigation),\n        isVirtualized: () => local.virtualized,\n        scrollToKey: () => local.scrollToItem,\n    }, () => ref, () => local.scrollRef?.());\n    const context = {\n        listState,\n        generateId: createGenerateId(() => others.id),\n        shouldUseVirtualFocus: () => props.shouldUseVirtualFocus,\n        shouldSelectOnPressUp: () => props.shouldSelectOnPressUp,\n        shouldFocusOnHover: () => props.shouldFocusOnHover,\n        isVirtualized: () => local.virtualized,\n    };\n    return (<ListboxContext.Provider value={context}>\n      <Polymorphic as=\"ul\" ref={mergeRefs(el => (ref = el), local.ref)} role=\"listbox\" tabIndex={selectableList.tabIndex()} aria-multiselectable={listState().selectionManager().selectionMode() === \"multiple\" ? true : undefined} onKeyDown={composeEventHandlers([local.onKeyDown, selectableList.onKeyDown])} onMouseDown={composeEventHandlers([local.onMouseDown, selectableList.onMouseDown])} onFocusIn={composeEventHandlers([local.onFocusIn, selectableList.onFocusIn])} onFocusOut={composeEventHandlers([local.onFocusOut, selectableList.onFocusOut])} {...others}>\n        <Show when={!local.virtualized} fallback={local.children?.(listState().collection)}>\n          <Key each={[...listState().collection()]} by=\"key\">\n            {item => (<Switch>\n                <Match when={item().type === \"section\"}>{local.renderSection?.(item())}</Match>\n                <Match when={item().type === \"item\"}>{local.renderItem?.(item())}</Match>\n              </Switch>)}\n          </Key>\n        </Show>\n      </Polymorphic>\n    </ListboxContext.Provider>);\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const MenuContext = createContext();\nexport function useOptionalMenuContext() {\n    return useContext(MenuContext);\n}\nexport function useMenuContext() {\n    const context = useOptionalMenuContext();\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useMenuContext` must be used within a `Menu` component\");\n    }\n    return context;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const MenuRootContext = createContext();\nexport function useMenuRootContext() {\n    const context = useContext(MenuRootContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useMenuRootContext` must be used within a `MenuRoot` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\nimport { isPointInPolygon } from \"@kobalte/utils\";\n/**\n * Construct a polygon based on pointer clientX/clientY and an element bounding rect.\n */\nexport function getPointerGraceArea(placement, event, contentEl) {\n    const basePlacement = placement.split(\"-\")[0];\n    const contentRect = contentEl.getBoundingClientRect();\n    const polygon = [];\n    const pointerX = event.clientX;\n    const pointerY = event.clientY;\n    switch (basePlacement) {\n        case \"top\":\n            polygon.push([pointerX, pointerY + 5]);\n            polygon.push([contentRect.left, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.bottom]);\n            break;\n        case \"right\":\n            polygon.push([pointerX - 5, pointerY]);\n            polygon.push([contentRect.left, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.bottom]);\n            break;\n        case \"bottom\":\n            polygon.push([pointerX, pointerY - 5]);\n            polygon.push([contentRect.right, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.top]);\n            break;\n        case \"left\":\n            polygon.push([pointerX + 5, pointerY]);\n            polygon.push([contentRect.right, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.bottom]);\n            polygon.push([contentRect.left, contentRect.top]);\n            polygon.push([contentRect.right, contentRect.top]);\n            break;\n    }\n    return polygon;\n}\nexport function isPointerInGraceArea(event, area) {\n    if (!area) {\n        return false;\n    }\n    return isPointInPolygon([event.clientX, event.clientY], area);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\nimport { focusWithoutScrolling, mergeDefaultProps, removeItemFromArray } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal, onCleanup, splitProps, } from \"solid-js\";\nimport { createListState } from \"../list\";\nimport { PopperRoot } from \"../popper\";\nimport { createDisclosureState, createHideOutside, createPresence, createRegisterId, } from \"../primitives\";\nimport { createDomCollection, useOptionalDomCollectionContext, } from \"../primitives/create-dom-collection\";\nimport { MenuContext, useOptionalMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\nimport { isPointerInGraceArea } from \"./utils\";\n/**\n * Container for menu items and nested menu, provide context for its children.\n */\nexport function Menu(props) {\n    const rootContext = useMenuRootContext();\n    const parentDomCollectionContext = useOptionalDomCollectionContext();\n    const parentMenuContext = useOptionalMenuContext();\n    props = mergeDefaultProps({\n        placement: \"bottom-start\",\n    }, props);\n    const [local, others] = splitProps(props, [\"open\", \"defaultOpen\", \"onOpenChange\"]);\n    let pointerGraceTimeoutId = 0;\n    let pointerGraceIntent = null;\n    let pointerDir = \"right\";\n    const [triggerId, setTriggerId] = createSignal();\n    const [contentId, setContentId] = createSignal();\n    const [triggerRef, setTriggerRef] = createSignal();\n    const [contentRef, setContentRef] = createSignal();\n    const [focusStrategy, setFocusStrategy] = createSignal(true);\n    const [currentPlacement, setCurrentPlacement] = createSignal(others.placement);\n    const [nestedMenus, setNestedMenus] = createSignal([]);\n    const [items, setItems] = createSignal([]);\n    const { DomCollectionProvider } = createDomCollection({ items, onItemsChange: setItems });\n    const disclosureState = createDisclosureState({\n        open: () => local.open,\n        defaultOpen: () => local.defaultOpen,\n        onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n    });\n    const contentPresence = createPresence(() => rootContext.forceMount() || disclosureState.isOpen());\n    const listState = createListState({\n        selectionMode: \"none\",\n        dataSource: items,\n    });\n    const open = (focusStrategy) => {\n        setFocusStrategy(focusStrategy);\n        disclosureState.open();\n    };\n    const close = (recursively = false) => {\n        disclosureState.close();\n        if (recursively && parentMenuContext) {\n            parentMenuContext.close(true);\n        }\n    };\n    const toggle = (focusStrategy) => {\n        setFocusStrategy(focusStrategy);\n        disclosureState.toggle();\n    };\n    const focusContent = () => {\n        const content = contentRef();\n        if (content) {\n            focusWithoutScrolling(content);\n            listState.selectionManager().setFocused(true);\n            listState.selectionManager().setFocusedKey(undefined);\n        }\n    };\n    const registerNestedMenu = (element) => {\n        setNestedMenus(prev => [...prev, element]);\n        const parentUnregister = parentMenuContext?.registerNestedMenu(element);\n        return () => {\n            setNestedMenus(prev => removeItemFromArray(prev, element));\n            parentUnregister?.();\n        };\n    };\n    const isPointerMovingToSubmenu = (e) => {\n        const isMovingTowards = pointerDir === pointerGraceIntent?.side;\n        return isMovingTowards && isPointerInGraceArea(e, pointerGraceIntent?.area);\n    };\n    const onItemEnter = (e) => {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    };\n    const onItemLeave = (e) => {\n        if (isPointerMovingToSubmenu(e)) {\n            return;\n        }\n        focusContent();\n    };\n    const onTriggerLeave = (e) => {\n        if (isPointerMovingToSubmenu(e)) {\n            e.preventDefault();\n        }\n    };\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    createHideOutside({\n        isDisabled: () => {\n            // Apply only on root menu when opened and modal.\n            return !(parentMenuContext == null && disclosureState.isOpen() && rootContext.isModal());\n        },\n        targets: () => [contentRef(), ...nestedMenus()].filter(Boolean),\n    });\n    createEffect(() => {\n        const contentEl = contentRef();\n        if (!contentEl || !parentMenuContext) {\n            return;\n        }\n        const parentUnregister = parentMenuContext.registerNestedMenu(contentEl);\n        onCleanup(() => {\n            parentUnregister();\n        });\n    });\n    const dataset = createMemo(() => ({\n        \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n        \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n    }));\n    const context = {\n        dataset,\n        isOpen: disclosureState.isOpen,\n        contentPresence,\n        currentPlacement,\n        pointerGraceTimeoutId: () => pointerGraceTimeoutId,\n        autoFocus: focusStrategy,\n        listState: () => listState,\n        parentMenuContext: () => parentMenuContext,\n        triggerRef,\n        contentRef,\n        triggerId,\n        contentId,\n        setTriggerRef,\n        setContentRef,\n        open,\n        close,\n        toggle,\n        focusContent,\n        onItemEnter,\n        onItemLeave,\n        onTriggerLeave,\n        setPointerDir: (dir) => (pointerDir = dir),\n        setPointerGraceTimeoutId: (id) => (pointerGraceTimeoutId = id),\n        setPointerGraceIntent: (intent) => (pointerGraceIntent = intent),\n        registerNestedMenu,\n        registerItemToParentDomCollection: parentDomCollectionContext?.registerItem,\n        registerTriggerId: createRegisterId(setTriggerId),\n        registerContentId: createRegisterId(setContentId),\n    };\n    return (<DomCollectionProvider>\n      <MenuContext.Provider value={context}>\n        <PopperRoot anchorRef={triggerRef} contentRef={contentRef} onCurrentPlacementChange={setCurrentPlacement} {...others}/>\n      </MenuContext.Provider>\n    </DomCollectionProvider>);\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const MenuItemContext = createContext();\nexport function useMenuItemContext() {\n    const context = useContext(MenuItemContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useMenuItemContext` must be used within a `Menu.Item` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\nimport { callHandler, composeEventHandlers, createGenerateId, focusWithoutScrolling, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createMemo, createSignal, createUniqueId, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { createDomCollectionItem } from \"../primitives/create-dom-collection\";\nimport { createSelectableItem } from \"../selection\";\nimport { useMenuContext } from \"./menu-context\";\nimport { MenuItemContext } from \"./menu-item.context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n/**\n * Base component for a menu item.\n */\nexport function MenuItemBase(props) {\n    let ref;\n    const rootContext = useMenuRootContext();\n    const menuContext = useMenuContext();\n    props = mergeDefaultProps({\n        id: rootContext.generateId(`item-${createUniqueId()}`),\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"textValue\",\n        \"disabled\",\n        \"closeOnSelect\",\n        \"checked\",\n        \"indeterminate\",\n        \"onSelect\",\n        \"onPointerMove\",\n        \"onPointerLeave\",\n        \"onPointerDown\",\n        \"onPointerUp\",\n        \"onClick\",\n        \"onKeyDown\",\n        \"onMouseDown\",\n        \"onFocus\",\n    ]);\n    const [labelId, setLabelId] = createSignal();\n    const [descriptionId, setDescriptionId] = createSignal();\n    const [labelRef, setLabelRef] = createSignal();\n    const selectionManager = () => menuContext.listState().selectionManager();\n    const key = () => others.id;\n    const isHighlighted = () => selectionManager().focusedKey() === key();\n    const onSelect = () => {\n        local.onSelect?.();\n        if (local.closeOnSelect) {\n            menuContext.close(true);\n        }\n    };\n    createDomCollectionItem({\n        getItem: () => ({\n            ref: () => ref,\n            type: \"item\",\n            key: key(),\n            textValue: local.textValue ?? labelRef()?.textContent ?? ref?.textContent ?? \"\",\n            disabled: local.disabled ?? false,\n        }),\n    });\n    const selectableItem = createSelectableItem({\n        key,\n        selectionManager: selectionManager,\n        shouldSelectOnPressUp: true,\n        allowsDifferentPressOrigin: true,\n        disabled: () => local.disabled,\n    }, () => ref);\n    /**\n     * We focus items on `pointerMove` to achieve the following:\n     *\n     * - Mouse over an item (it focuses)\n     * - Leave mouse where it is and use keyboard to focus a different item\n     * - Wiggle mouse without it leaving previously focused item\n     * - Previously focused item should re-focus\n     *\n     * If we used `mouseOver`/`mouseEnter` it would not re-focus when the mouse\n     * wiggles. This is to match native menu implementation.\n     */\n    const onPointerMove = e => {\n        callHandler(e, local.onPointerMove);\n        if (e.pointerType !== \"mouse\") {\n            return;\n        }\n        if (local.disabled) {\n            menuContext.onItemLeave(e);\n        }\n        else {\n            menuContext.onItemEnter(e);\n            if (!e.defaultPrevented) {\n                focusWithoutScrolling(e.currentTarget);\n                menuContext.listState().selectionManager().setFocused(true);\n                menuContext.listState().selectionManager().setFocusedKey(key());\n            }\n        }\n    };\n    const onPointerLeave = e => {\n        callHandler(e, local.onPointerLeave);\n        if (e.pointerType !== \"mouse\") {\n            return;\n        }\n        menuContext.onItemLeave(e);\n    };\n    const onPointerUp = e => {\n        callHandler(e, local.onPointerUp);\n        // Selection occurs on pointer up (main button).\n        if (!local.disabled && e.button === 0) {\n            onSelect();\n        }\n    };\n    const onKeyDown = e => {\n        callHandler(e, local.onKeyDown);\n        // Ignore repeating events, which may have started on the menu trigger before moving\n        // focus to the menu item. We want to wait for a second complete key press sequence.\n        if (e.repeat) {\n            return;\n        }\n        if (local.disabled) {\n            return;\n        }\n        switch (e.key) {\n            case \"Enter\":\n            case \" \":\n                onSelect();\n                break;\n        }\n    };\n    const ariaChecked = createMemo(() => {\n        if (local.indeterminate) {\n            return \"mixed\";\n        }\n        if (local.checked == null) {\n            return undefined;\n        }\n        return local.checked;\n    });\n    const dataset = createMemo(() => ({\n        \"data-indeterminate\": local.indeterminate ? \"\" : undefined,\n        \"data-checked\": local.checked && !local.indeterminate ? \"\" : undefined,\n        \"data-disabled\": local.disabled ? \"\" : undefined,\n        \"data-highlighted\": isHighlighted() ? \"\" : undefined,\n    }));\n    const context = {\n        isChecked: () => local.checked,\n        dataset,\n        setLabelRef,\n        generateId: createGenerateId(() => others.id),\n        registerLabel: createRegisterId(setLabelId),\n        registerDescription: createRegisterId(setDescriptionId),\n    };\n    return (<MenuItemContext.Provider value={context}>\n      <Polymorphic as=\"div\" ref={mergeRefs(el => (ref = el), local.ref)} tabIndex={selectableItem.tabIndex()} aria-checked={ariaChecked()} aria-disabled={local.disabled} aria-labelledby={labelId()} aria-describedby={descriptionId()} data-key={selectableItem.dataKey()} onPointerDown={composeEventHandlers([local.onPointerDown, selectableItem.onPointerDown])} onPointerUp={composeEventHandlers([onPointerUp, selectableItem.onPointerUp])} onClick={composeEventHandlers([local.onClick, selectableItem.onClick])} onKeyDown={composeEventHandlers([onKeyDown, selectableItem.onKeyDown])} onMouseDown={composeEventHandlers([local.onMouseDown, selectableItem.onMouseDown])} onFocus={composeEventHandlers([local.onFocus, selectableItem.onFocus])} onPointerMove={onPointerMove} onPointerLeave={onPointerLeave} {...dataset()} {...others}/>\n    </MenuItemContext.Provider>);\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/81b25f4b40c54f72aeb106ca0e64e1e09655153e/packages/react/menu/src/Menu.tsx\n */\nimport { callHandler, composeEventHandlers, contains, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createEffect, createUniqueId, onCleanup, Show, splitProps } from \"solid-js\";\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { createSelectableList } from \"../list\";\nimport { PopperPositioner } from \"../popper\";\nimport { createFocusScope, } from \"../primitives\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\nexport function MenuContentBase(props) {\n    let ref;\n    const rootContext = useMenuRootContext();\n    const context = useMenuContext();\n    props = mergeDefaultProps({\n        id: rootContext.generateId(`content-${createUniqueId()}`),\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"id\",\n        \"style\",\n        \"onOpenAutoFocus\",\n        \"onCloseAutoFocus\",\n        \"onEscapeKeyDown\",\n        \"onFocusOutside\",\n        \"onPointerEnter\",\n        \"onPointerMove\",\n        \"onKeyDown\",\n        \"onMouseDown\",\n        \"onFocusIn\",\n        \"onFocusOut\",\n    ]);\n    let lastPointerX = 0;\n    // Only the root menu can apply \"modal\" behavior (block pointer-events and trap focus).\n    const isRootModalContent = () => {\n        return context.parentMenuContext() == null && rootContext.isModal();\n    };\n    const selectableList = createSelectableList({\n        selectionManager: context.listState().selectionManager,\n        collection: context.listState().collection,\n        autoFocus: context.autoFocus,\n        deferAutoFocus: true,\n        shouldFocusWrap: true,\n        disallowTypeAhead: () => !context.listState().selectionManager().isFocused(),\n    }, () => ref);\n    createFocusScope({\n        trapFocus: () => isRootModalContent() && context.isOpen(),\n        onMountAutoFocus: local.onOpenAutoFocus,\n        onUnmountAutoFocus: local.onCloseAutoFocus,\n    }, () => ref);\n    const onKeyDown = e => {\n        // Submenu key events bubble through portals. We only care about keys in this menu.\n        if (!contains(e.currentTarget, e.target)) {\n            return;\n        }\n        // Menus should not be navigated using tab key, so we prevent it.\n        if (e.key === \"Tab\" && context.isOpen()) {\n            e.preventDefault();\n        }\n    };\n    const onEscapeKeyDown = (e) => {\n        local.onEscapeKeyDown?.(e);\n        // `createSelectableList` prevent escape key down,\n        // which prevent our `onDismiss` in `DismissableLayer` to run,\n        // so we force \"close on escape\" here.\n        context.close(true);\n    };\n    const onFocusOutside = (e) => {\n        local.onFocusOutside?.(e);\n        if (rootContext.isModal()) {\n            // When focus is trapped, a `focusout` event may still happen.\n            // We make sure we don't trigger our `onDismiss` in such case.\n            e.preventDefault();\n        }\n    };\n    const onPointerEnter = e => {\n        callHandler(e, local.onPointerEnter);\n        if (!context.isOpen()) {\n            return;\n        }\n        // Remove visual focus from parent menu content.\n        context.parentMenuContext()?.listState().selectionManager().setFocused(false);\n        context.parentMenuContext()?.listState().selectionManager().setFocusedKey(undefined);\n    };\n    const onPointerMove = e => {\n        callHandler(e, local.onPointerMove);\n        if (e.pointerType !== \"mouse\") {\n            return;\n        }\n        const target = e.target;\n        const pointerXHasChanged = lastPointerX !== e.clientX;\n        // We don't use `event.movementX` for this check because Safari will\n        // always return `0` on a pointer event.\n        if (contains(e.currentTarget, target) && pointerXHasChanged) {\n            context.setPointerDir(e.clientX > lastPointerX ? \"right\" : \"left\");\n            lastPointerX = e.clientX;\n        }\n    };\n    createEffect(() => onCleanup(context.registerContentId(local.id)));\n    return (<Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n        }, local.ref)} role=\"menu\" id={local.id} tabIndex={selectableList.tabIndex()} disableOutsidePointerEvents={isRootModalContent() && context.isOpen()} excludedElements={[context.triggerRef]} bypassTopMostLayerCheck style={{\n            \"--kb-menu-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n        }} aria-labelledby={context.triggerId()} onEscapeKeyDown={onEscapeKeyDown} onFocusOutside={onFocusOutside} onDismiss={context.close} onKeyDown={composeEventHandlers([local.onKeyDown, selectableList.onKeyDown, onKeyDown])} onMouseDown={composeEventHandlers([local.onMouseDown, selectableList.onMouseDown])} onFocusIn={composeEventHandlers([local.onFocusIn, selectableList.onFocusIn])} onFocusOut={composeEventHandlers([local.onFocusOut, selectableList.onFocusOut])} onPointerEnter={onPointerEnter} onPointerMove={onPointerMove} {...context.dataset()} {...others}/>\n      </PopperPositioner>\n    </Show>);\n}\n","import { mergeRefs } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport { createPreventScroll } from \"../primitives\";\nimport { MenuContentBase } from \"./menu-content-base\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\nexport function MenuContent(props) {\n    let ref;\n    const rootContext = useMenuRootContext();\n    const context = useMenuContext();\n    const [local, others] = splitProps(props, [\"ref\"]);\n    createPreventScroll({\n        ownerRef: () => ref,\n        isDisabled: () => !(context.isOpen() && (rootContext.isModal() || rootContext.preventScroll())),\n    });\n    return <MenuContentBase ref={mergeRefs(el => (ref = el), local.ref)} {...others}/>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const MenuGroupContext = createContext();\nexport function useMenuGroupContext() {\n    const context = useContext(MenuGroupContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useMenuGroupContext` must be used within a `Menu.Group` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e6808d1b5e80cef7af7e63974f658043593b2e1e/packages/@react-aria/menu/src/useMenuSection.ts\n */\nimport { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createSignal, createUniqueId } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { createRegisterId } from \"../primitives\";\nimport { MenuGroupContext } from \"./menu-group-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n/**\n * A container used to group multiple `Menu.Item`s.\n */\nexport function MenuGroup(props) {\n    const rootContext = useMenuRootContext();\n    props = mergeDefaultProps({\n        id: rootContext.generateId(`group-${createUniqueId()}`),\n    }, props);\n    const [labelId, setLabelId] = createSignal();\n    const context = {\n        generateId: createGenerateId(() => props.id),\n        registerLabelId: createRegisterId(setLabelId),\n    };\n    return (<MenuGroupContext.Provider value={context}>\n      <Polymorphic as=\"div\" role=\"group\" aria-labelledby={labelId()} {...props}/>\n    </MenuGroupContext.Provider>);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e6808d1b5e80cef7af7e63974f658043593b2e1e/packages/@react-aria/menu/src/useMenuSection.ts\n */\nimport { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useMenuGroupContext } from \"./menu-group-context\";\n/**\n * A component used to render the label of a `Menu.Group`.\n * It won't be focusable using arrow keys.\n */\nexport function MenuGroupLabel(props) {\n    const context = useMenuGroupContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"label\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\"]);\n    createEffect(() => onCleanup(context.registerLabelId(local.id)));\n    return <Polymorphic as=\"span\" id={local.id} aria-hidden=\"true\" {...others}/>;\n}\n","import { MenuItemBase } from \"./menu-item-base\";\n/**\n * An item of the menu.\n */\nexport function MenuItem(props) {\n    return <MenuItemBase role=\"menuitem\" closeOnSelect {...props}/>;\n}\n","import { Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\nimport { useMenuContext } from \"./menu-context\";\n/**\n * Portals its children into the `body` when the menu is open.\n */\nexport function MenuPortal(props) {\n    const context = useMenuContext();\n    return (<Show when={context.contentPresence.isPresent()}>\n      <Portal {...props}/>\n    </Show>);\n}\n","import { createGenerateId, mergeDefaultProps } from \"@kobalte/utils\";\nimport { createUniqueId, splitProps } from \"solid-js\";\nimport { createDisclosureState } from \"../primitives\";\nimport { Menu } from \"./menu\";\nimport { MenuRootContext } from \"./menu-root-context\";\n/**\n * Root component for a menu, provide context for its children.\n * Used to build dropdown menu, context menu and menubar.\n */\nexport function MenuRoot(props) {\n    const defaultId = `menu-${createUniqueId()}`;\n    props = mergeDefaultProps({\n        id: defaultId,\n        modal: true,\n        preventScroll: false,\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"id\",\n        \"modal\",\n        \"preventScroll\",\n        \"forceMount\",\n        \"open\",\n        \"defaultOpen\",\n        \"onOpenChange\",\n    ]);\n    const disclosureState = createDisclosureState({\n        open: () => local.open,\n        defaultOpen: () => local.defaultOpen,\n        onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n    });\n    const context = {\n        isModal: () => local.modal ?? true,\n        preventScroll: () => local.preventScroll ?? false,\n        forceMount: () => local.forceMount ?? false,\n        generateId: createGenerateId(() => local.id),\n    };\n    return (<MenuRootContext.Provider value={context}>\n      <Menu open={disclosureState.isOpen()} onOpenChange={disclosureState.setIsOpen} {...others}/>\n    </MenuRootContext.Provider>);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/menu/src/useMenuTrigger.ts\n */\nimport { callHandler, mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport * as Button from \"../button\";\nimport { useMenuContext } from \"./menu-context\";\nimport { useMenuRootContext } from \"./menu-root-context\";\n/**\n * The button that toggles the menu.\n */\nexport function MenuTrigger(props) {\n    const rootContext = useMenuRootContext();\n    const context = useMenuContext();\n    props = mergeDefaultProps({\n        id: rootContext.generateId(\"trigger\"),\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"id\",\n        \"disabled\",\n        \"onPointerDown\",\n        \"onClick\",\n        \"onKeyDown\",\n    ]);\n    const onPointerDown = e => {\n        callHandler(e, local.onPointerDown);\n        e.currentTarget.dataset.pointerType = e.pointerType;\n        // For consistency with native, open the select on mouse down (main button), but touch up.\n        if (!local.disabled && e.pointerType !== \"touch\" && e.button === 0) {\n            context.toggle(true);\n        }\n    };\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        if (!local.disabled && e.currentTarget.dataset.pointerType === \"touch\") {\n            context.toggle(true);\n        }\n    };\n    const onKeyDown = e => {\n        callHandler(e, local.onKeyDown);\n        if (local.disabled) {\n            return;\n        }\n        // For consistency with native, open the menu on key down.\n        switch (e.key) {\n            case \"Enter\":\n            case \" \":\n            case \"ArrowDown\":\n                e.stopPropagation();\n                e.preventDefault();\n                context.toggle(\"first\");\n                break;\n            case \"ArrowUp\":\n                e.stopPropagation();\n                e.preventDefault();\n                context.toggle(\"last\");\n                break;\n        }\n    };\n    createEffect(() => onCleanup(context.registerTriggerId(local.id)));\n    return (<Button.Root ref={mergeRefs(context.setTriggerRef, local.ref)} id={local.id} disabled={local.disabled} aria-haspopup=\"true\" aria-expanded={context.isOpen()} aria-controls={context.isOpen() ? context.contentId() : undefined} onPointerDown={onPointerDown} onClick={onClick} onKeyDown={onKeyDown} {...context.dataset()} {...others}/>);\n}\n","import { focusWithoutScrolling } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport { MenuContent } from \"../menu\";\nimport { useMenuContext } from \"../menu/menu-context\";\nimport { useMenuRootContext } from \"../menu/menu-root-context\";\n/**\n * Contains the content to be rendered when the dropdown menu is open.\n */\nexport function DropdownMenuContent(props) {\n    const rootContext = useMenuRootContext();\n    const context = useMenuContext();\n    const [local, others] = splitProps(props, [\"onCloseAutoFocus\", \"onInteractOutside\"]);\n    let hasInteractedOutside = false;\n    const onCloseAutoFocus = (e) => {\n        local.onCloseAutoFocus?.(e);\n        if (!hasInteractedOutside) {\n            focusWithoutScrolling(context.triggerRef());\n        }\n        hasInteractedOutside = false;\n        // Always prevent autofocus because we either focus manually or want user agent focus\n        e.preventDefault();\n    };\n    const onInteractOutside = (e) => {\n        local.onInteractOutside?.(e);\n        if (!rootContext.isModal() || e.detail.isContextMenu) {\n            hasInteractedOutside = true;\n        }\n    };\n    return (<MenuContent onCloseAutoFocus={onCloseAutoFocus} onInteractOutside={onInteractOutside} {...others}/>);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createUniqueId } from \"solid-js\";\nimport { MenuRoot } from \"../menu\";\n/**\n * Displays a menu to the user —such as a set of actions or functions— triggered by a button.\n */\nexport function DropdownMenuRoot(props) {\n    const defaultId = `dropdownmenu-${createUniqueId()}`;\n    props = mergeDefaultProps({ id: defaultId }, props);\n    return <MenuRoot {...props}/>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const SelectContext = createContext();\nexport function useSelectContext() {\n    const context = useContext(SelectContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useSelectContext` must be used within a `Select` component\");\n    }\n    return context;\n}\n","import { focusWithoutScrolling, mergeRefs } from \"@kobalte/utils\";\nimport { Show, splitProps } from \"solid-js\";\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { PopperPositioner } from \"../popper\";\nimport { createFocusScope, createHideOutside, createPreventScroll, } from \"../primitives\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * The component that pops out when the select is open.\n */\nexport function SelectContent(props) {\n    let ref;\n    const context = useSelectContext();\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"id\",\n        \"style\",\n        \"onCloseAutoFocus\",\n        \"onFocusOutside\",\n    ]);\n    const onEscapeKeyDown = (e) => {\n        // `createSelectableList` prevent escape key down,\n        // which prevent our `onDismiss` in `DismissableLayer` to run,\n        // so we force \"close on escape\" here.\n        context.close();\n    };\n    const onFocusOutside = (e) => {\n        local.onFocusOutside?.(e);\n        // When focus is trapped (in modal mode), a `focusout` event may still happen.\n        // We make sure we don't trigger our `onDismiss` in such case.\n        if (context.isOpen() && context.isModal()) {\n            e.preventDefault();\n        }\n    };\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    createHideOutside({\n        isDisabled: () => !(context.isOpen() && context.isModal()),\n        targets: () => (ref ? [ref] : []),\n    });\n    createPreventScroll({\n        ownerRef: () => ref,\n        isDisabled: () => !(context.isOpen() && (context.isModal() || context.preventScroll())),\n    });\n    createFocusScope({\n        trapFocus: () => context.isOpen() && context.isModal(),\n        onMountAutoFocus: e => {\n            // We prevent open autofocus because it's handled by the `Listbox`.\n            e.preventDefault();\n        },\n        onUnmountAutoFocus: e => {\n            local.onCloseAutoFocus?.(e);\n            if (!e.defaultPrevented) {\n                focusWithoutScrolling(context.triggerRef());\n                e.preventDefault();\n            }\n        },\n    }, () => ref);\n    return (<Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n            ref = el;\n        }, local.ref)} disableOutsidePointerEvents={context.isModal() && context.isOpen()} excludedElements={[context.triggerRef]} style={{\n            \"--kb-select-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n        }} onEscapeKeyDown={onEscapeKeyDown} onFocusOutside={onFocusOutside} onDismiss={context.close} {...context.dataset()} {...others}/>\n      </PopperPositioner>\n    </Show>);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * A small icon often displayed next to the value as a visual affordance for the fact it can be open.\n * It renders a `▼` by default, but you can use your own icon `children`.\n */\nexport function SelectIcon(props) {\n    const context = useSelectContext();\n    props = mergeDefaultProps({ children: \"▼\" }, props);\n    return <Polymorphic as=\"span\" aria-hidden=\"true\" {...context.dataset()} {...props}/>;\n}\n","import { callHandler } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport { FormControlLabel } from \"../form-control\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * The label that gives the user information on the select.\n */\nexport function SelectLabel(props) {\n    const context = useSelectContext();\n    const [local, others] = splitProps(props, [\"onClick\"]);\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        if (!context.isDisabled()) {\n            context.triggerRef()?.focus();\n        }\n    };\n    return <FormControlLabel as=\"span\" onClick={onClick} {...others}/>;\n}\n","import { callHandler, mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport * as Listbox from \"../listbox\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * Contains all the items of a `Select`.\n */\nexport function SelectListbox(props) {\n    const context = useSelectContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"listbox\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"ref\", \"id\", \"onKeyDown\"]);\n    createEffect(() => onCleanup(context.registerListboxId(local.id)));\n    const onKeyDown = e => {\n        callHandler(e, local.onKeyDown);\n        // Prevent from clearing the selection by `createSelectableCollection` on escape.\n        if (e.key === \"Escape\") {\n            e.preventDefault();\n        }\n    };\n    return (<Listbox.Root ref={mergeRefs(context.setListboxRef, local.ref)} id={local.id} state={context.listState()} virtualized={context.isVirtualized()} autoFocus={context.autoFocus()} shouldSelectOnPressUp shouldFocusOnHover shouldFocusWrap={context.shouldFocusWrap()} disallowTypeAhead={context.disallowTypeAhead()} aria-labelledby={context.listboxAriaLabelledBy()} renderItem={context.renderItem} renderSection={context.renderSection} onKeyDown={onKeyDown} {...others}/>);\n}\n","import { Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * Portals its children into the `body` when the select is open.\n */\nexport function SelectPortal(props) {\n    const context = useSelectContext();\n    return (<Show when={context.contentPresence.isPresent()}>\n      <Portal {...props}/>\n    </Show>);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/useSelect.ts\n */\nimport { access, createGenerateId, focusWithoutScrolling, isFunction, mergeDefaultProps, } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal, createUniqueId, on, splitProps, } from \"solid-js\";\nimport { createFormControl, FORM_CONTROL_PROP_NAMES, FormControlContext } from \"../form-control\";\nimport { createCollator } from \"../i18n\";\nimport { createListState, ListKeyboardDelegate } from \"../list\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { PopperRoot } from \"../popper\";\nimport { createDisclosureState, createFormResetListener, createPresence, createRegisterId, } from \"../primitives\";\nimport { Selection, } from \"../selection\";\nimport { SelectContext } from \"./select-context\";\n/**\n * Base component for a select, provide context for its children.\n * Used to build single and multi-select.\n */\nexport function SelectBase(props) {\n    const defaultId = `select-${createUniqueId()}`;\n    props = mergeDefaultProps({\n        id: defaultId,\n        selectionMode: \"single\",\n        disallowEmptySelection: false,\n        allowDuplicateSelectionEvents: true,\n        gutter: 8,\n        sameWidth: true,\n        modal: false,\n        preventScroll: false,\n    }, props);\n    const [local, popperProps, formControlProps, others] = splitProps(props, [\n        \"itemComponent\",\n        \"sectionComponent\",\n        \"open\",\n        \"defaultOpen\",\n        \"onOpenChange\",\n        \"value\",\n        \"defaultValue\",\n        \"onChange\",\n        \"placeholder\",\n        \"options\",\n        \"optionValue\",\n        \"optionTextValue\",\n        \"optionDisabled\",\n        \"optionGroupChildren\",\n        \"keyboardDelegate\",\n        \"allowDuplicateSelectionEvents\",\n        \"disallowEmptySelection\",\n        \"disallowTypeAhead\",\n        \"shouldFocusWrap\",\n        \"selectionBehavior\",\n        \"selectionMode\",\n        \"virtualized\",\n        \"modal\",\n        \"preventScroll\",\n        \"forceMount\",\n    ], [\n        \"getAnchorRect\",\n        \"placement\",\n        \"gutter\",\n        \"shift\",\n        \"flip\",\n        \"slide\",\n        \"overlap\",\n        \"sameWidth\",\n        \"fitViewport\",\n        \"hideWhenDetached\",\n        \"detachedPadding\",\n        \"arrowPadding\",\n        \"overflowPadding\",\n    ], FORM_CONTROL_PROP_NAMES);\n    const [triggerId, setTriggerId] = createSignal();\n    const [valueId, setValueId] = createSignal();\n    const [listboxId, setListboxId] = createSignal();\n    const [triggerRef, setTriggerRef] = createSignal();\n    const [contentRef, setContentRef] = createSignal();\n    const [listboxRef, setListboxRef] = createSignal();\n    const [listboxAriaLabelledBy, setListboxAriaLabelledBy] = createSignal();\n    const [focusStrategy, setFocusStrategy] = createSignal(true);\n    const getOptionValue = (option) => {\n        const optionValue = local.optionValue;\n        if (optionValue == null) {\n            // If no `optionValue`, the option itself is the value (ex: string[] of options)\n            return String(option);\n        }\n        // Get the value from the option object as a string.\n        return String(isFunction(optionValue) ? optionValue(option) : option[optionValue]);\n    };\n    // Only options without option groups.\n    const flattenOptions = createMemo(() => {\n        const optionGroupChildren = local.optionGroupChildren;\n        // The combobox doesn't contains option groups.\n        if (optionGroupChildren == null) {\n            return local.options;\n        }\n        return local.options.flatMap(item => item[optionGroupChildren] ?? item);\n    });\n    // Only option keys without option groups.\n    const flattenOptionKeys = createMemo(() => {\n        return flattenOptions().map(option => getOptionValue(option));\n    });\n    const getOptionsFromValues = (values) => {\n        return [...values]\n            .map(value => flattenOptions().find(option => getOptionValue(option) === value))\n            .filter(option => option != null);\n    };\n    const disclosureState = createDisclosureState({\n        open: () => local.open,\n        defaultOpen: () => local.defaultOpen,\n        onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n    });\n    const listState = createListState({\n        selectedKeys: () => {\n            if (local.value != null) {\n                return local.value.map(getOptionValue);\n            }\n            return local.value;\n        },\n        defaultSelectedKeys: () => {\n            if (local.defaultValue != null) {\n                return local.defaultValue.map(getOptionValue);\n            }\n            return local.defaultValue;\n        },\n        onSelectionChange: selectedKeys => {\n            local.onChange?.(getOptionsFromValues(selectedKeys));\n            if (local.selectionMode === \"single\") {\n                close();\n            }\n        },\n        allowDuplicateSelectionEvents: () => access(local.allowDuplicateSelectionEvents),\n        disallowEmptySelection: () => access(local.disallowEmptySelection),\n        selectionBehavior: () => access(local.selectionBehavior),\n        selectionMode: () => local.selectionMode,\n        dataSource: () => local.options ?? [],\n        getKey: () => local.optionValue,\n        getTextValue: () => local.optionTextValue,\n        getDisabled: () => local.optionDisabled,\n        getSectionChildren: () => local.optionGroupChildren,\n    });\n    const selectedOptions = createMemo(() => {\n        return getOptionsFromValues(listState.selectionManager().selectedKeys());\n    });\n    const removeOptionFromSelection = (option) => {\n        listState.selectionManager().toggleSelection(getOptionValue(option));\n    };\n    const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n    const focusListbox = () => {\n        const listboxEl = listboxRef();\n        if (listboxEl) {\n            focusWithoutScrolling(listboxEl);\n        }\n    };\n    const open = (focusStrategy) => {\n        // Don't open if there is no option.\n        if (local.options.length <= 0) {\n            return;\n        }\n        setFocusStrategy(focusStrategy);\n        disclosureState.open();\n        let focusedKey = listState.selectionManager().firstSelectedKey();\n        if (focusedKey == null) {\n            if (focusStrategy === \"first\") {\n                focusedKey = listState.collection().getFirstKey();\n            }\n            else if (focusStrategy === \"last\") {\n                focusedKey = listState.collection().getLastKey();\n            }\n        }\n        focusListbox();\n        listState.selectionManager().setFocused(true);\n        listState.selectionManager().setFocusedKey(focusedKey);\n    };\n    const close = () => {\n        disclosureState.close();\n        listState.selectionManager().setFocused(false);\n        listState.selectionManager().setFocusedKey(undefined);\n    };\n    const toggle = (focusStrategy) => {\n        if (disclosureState.isOpen()) {\n            close();\n        }\n        else {\n            open(focusStrategy);\n        }\n    };\n    const { formControlContext } = createFormControl(formControlProps);\n    createFormResetListener(triggerRef, () => {\n        const defaultSelectedKeys = local.defaultValue\n            ? [...local.defaultValue].map(getOptionValue)\n            : new Selection();\n        listState.selectionManager().setSelectedKeys(defaultSelectedKeys);\n    });\n    const collator = createCollator({ usage: \"search\", sensitivity: \"base\" });\n    // By default, a KeyboardDelegate is provided which uses the DOM to query layout information (e.g. for page up/page down).\n    const delegate = createMemo(() => {\n        const keyboardDelegate = access(local.keyboardDelegate);\n        if (keyboardDelegate) {\n            return keyboardDelegate;\n        }\n        return new ListKeyboardDelegate(listState.collection, undefined, collator);\n    });\n    const renderItem = (item) => {\n        return local.itemComponent?.({ item });\n    };\n    const renderSection = (section) => {\n        return local.sectionComponent?.({ section });\n    };\n    // Delete selected keys that do not match any option in the listbox.\n    createEffect(on([flattenOptionKeys], ([flattenOptionKeys]) => {\n        const currentSelectedKeys = [...listState.selectionManager().selectedKeys()];\n        const keysToKeep = currentSelectedKeys.filter(key => flattenOptionKeys.includes(key));\n        listState.selectionManager().setSelectedKeys(keysToKeep);\n    }, {\n        defer: true,\n    }));\n    const dataset = createMemo(() => ({\n        \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n        \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n    }));\n    const context = {\n        dataset,\n        isOpen: disclosureState.isOpen,\n        isDisabled: () => formControlContext.isDisabled() ?? false,\n        isMultiple: () => access(local.selectionMode) === \"multiple\",\n        isVirtualized: () => local.virtualized ?? false,\n        isModal: () => local.modal ?? false,\n        preventScroll: () => local.preventScroll ?? false,\n        disallowTypeAhead: () => local.disallowTypeAhead ?? false,\n        shouldFocusWrap: () => local.shouldFocusWrap ?? false,\n        selectedOptions,\n        contentPresence,\n        autoFocus: focusStrategy,\n        triggerRef,\n        listState: () => listState,\n        keyboardDelegate: delegate,\n        triggerId,\n        valueId,\n        listboxId,\n        listboxAriaLabelledBy,\n        setListboxAriaLabelledBy,\n        setTriggerRef,\n        setContentRef,\n        setListboxRef,\n        open,\n        close,\n        toggle,\n        placeholder: () => local.placeholder,\n        renderItem,\n        renderSection,\n        removeOptionFromSelection,\n        generateId: createGenerateId(() => access(formControlProps.id)),\n        registerTriggerId: createRegisterId(setTriggerId),\n        registerValueId: createRegisterId(setValueId),\n        registerListboxId: createRegisterId(setListboxId),\n    };\n    return (<FormControlContext.Provider value={formControlContext}>\n      <SelectContext.Provider value={context}>\n        <PopperRoot anchorRef={triggerRef} contentRef={contentRef} {...popperProps}>\n          <Polymorphic as=\"div\" role=\"group\" id={access(formControlProps.id)} {...formControlContext.dataset()} {...dataset()} {...others}/>\n        </PopperRoot>\n      </SelectContext.Provider>\n    </FormControlContext.Provider>);\n}\n","import { createMemo, splitProps } from \"solid-js\";\nimport { SelectBase } from \"./select-base\";\n/**\n * Displays a list of options for the user to pick from — triggered by a button.\n */\nexport function SelectRoot(props) {\n    const [local, others] = splitProps(props, [\"value\", \"defaultValue\", \"onChange\", \"multiple\"]);\n    const value = createMemo(() => {\n        if (local.value != null) {\n            return local.multiple ? local.value : [local.value];\n        }\n        return local.value;\n    });\n    const defaultValue = createMemo(() => {\n        if (local.defaultValue != null) {\n            return local.multiple ? local.defaultValue : [local.defaultValue];\n        }\n        return local.defaultValue;\n    });\n    const onChange = (value) => {\n        if (local.multiple) {\n            local.onChange?.(value);\n        }\n        else {\n            // use `null` as \"no value\" because `undefined` mean the component is \"uncontrolled\".\n            local.onChange?.((value[0] ?? null));\n        }\n    };\n    return (<SelectBase value={value()} defaultValue={defaultValue()} onChange={onChange} selectionMode={local.multiple ? \"multiple\" : \"single\"} {...others}/>);\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/select/src/useSelect.ts\n * https://github.com/adobe/react-spectrum/blob/5c1920e50d4b2b80c826ca91aff55c97350bf9f9/packages/@react-aria/menu/src/useMenuTrigger.ts\n */\nimport { callHandler, mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport * as Button from \"../button\";\nimport { createFormControlField, FORM_CONTROL_FIELD_PROP_NAMES, useFormControlContext, } from \"../form-control\";\nimport { createTypeSelect } from \"../selection\";\nimport { useSelectContext } from \"./select-context\";\nexport function SelectTrigger(props) {\n    const formControlContext = useFormControlContext();\n    const context = useSelectContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"trigger\"),\n    }, props);\n    const [local, formControlFieldProps, others] = splitProps(props, [\"ref\", \"disabled\", \"onPointerDown\", \"onClick\", \"onKeyDown\", \"onFocus\", \"onBlur\"], FORM_CONTROL_FIELD_PROP_NAMES);\n    const selectionManager = () => context.listState().selectionManager();\n    const keyboardDelegate = () => context.keyboardDelegate();\n    const isDisabled = () => local.disabled || context.isDisabled();\n    const { fieldProps } = createFormControlField(formControlFieldProps);\n    const { typeSelectHandlers } = createTypeSelect({\n        keyboardDelegate: keyboardDelegate,\n        selectionManager: selectionManager,\n        onTypeSelect: key => selectionManager().select(key),\n    });\n    const ariaLabelledBy = () => {\n        return ([context.listboxAriaLabelledBy(), context.valueId()].filter(Boolean).join(\" \") || undefined);\n    };\n    const onPointerDown = e => {\n        callHandler(e, local.onPointerDown);\n        e.currentTarget.dataset.pointerType = e.pointerType;\n        // For consistency with native, open the select on mouse down (main button), but touch up.\n        if (!isDisabled() && e.pointerType !== \"touch\" && e.button === 0) {\n            // prevent trigger from stealing focus from the active item after opening.\n            e.preventDefault();\n            context.toggle(true);\n        }\n    };\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        if (!isDisabled() && e.currentTarget.dataset.pointerType === \"touch\") {\n            context.toggle(true);\n        }\n    };\n    const onKeyDown = e => {\n        callHandler(e, local.onKeyDown);\n        if (isDisabled()) {\n            return;\n        }\n        callHandler(e, typeSelectHandlers.onKeyDown);\n        switch (e.key) {\n            case \"Enter\":\n            case \" \":\n            case \"ArrowDown\":\n                e.stopPropagation();\n                e.preventDefault();\n                context.toggle(\"first\");\n                break;\n            case \"ArrowUp\":\n                e.stopPropagation();\n                e.preventDefault();\n                context.toggle(\"last\");\n                break;\n            case \"ArrowLeft\": {\n                // prevent scrolling containers\n                e.preventDefault();\n                if (context.isMultiple()) {\n                    return;\n                }\n                const firstSelectedKey = selectionManager().firstSelectedKey();\n                const key = firstSelectedKey != null\n                    ? keyboardDelegate().getKeyAbove?.(firstSelectedKey)\n                    : keyboardDelegate().getFirstKey?.();\n                if (key != null) {\n                    selectionManager().select(key);\n                }\n                break;\n            }\n            case \"ArrowRight\": {\n                // prevent scrolling containers\n                e.preventDefault();\n                if (context.isMultiple()) {\n                    return;\n                }\n                const firstSelectedKey = selectionManager().firstSelectedKey();\n                const key = firstSelectedKey != null\n                    ? keyboardDelegate().getKeyBelow?.(firstSelectedKey)\n                    : keyboardDelegate().getFirstKey?.();\n                if (key != null) {\n                    selectionManager().select(key);\n                }\n                break;\n            }\n        }\n    };\n    const onFocus = e => {\n        callHandler(e, local.onFocus);\n        if (selectionManager().isFocused()) {\n            return;\n        }\n        selectionManager().setFocused(true);\n    };\n    const onBlur = e => {\n        callHandler(e, local.onBlur);\n        if (context.isOpen()) {\n            return;\n        }\n        selectionManager().setFocused(false);\n    };\n    createEffect(() => onCleanup(context.registerTriggerId(fieldProps.id())));\n    createEffect(() => {\n        context.setListboxAriaLabelledBy([\n            fieldProps.ariaLabelledBy(),\n            fieldProps.ariaLabel() && !fieldProps.ariaLabelledBy() ? fieldProps.id() : null,\n        ]\n            .filter(Boolean)\n            .join(\" \") || undefined);\n    });\n    return (<Button.Root ref={mergeRefs(context.setTriggerRef, local.ref)} id={fieldProps.id()} disabled={isDisabled()} aria-haspopup=\"listbox\" aria-expanded={context.isOpen()} aria-controls={context.isOpen() ? context.listboxId() : undefined} aria-label={fieldProps.ariaLabel()} aria-labelledby={ariaLabelledBy()} aria-describedby={fieldProps.ariaDescribedBy()} onPointerDown={onPointerDown} onClick={onClick} onKeyDown={onKeyDown} onFocus={onFocus} onBlur={onBlur} {...context.dataset()} {...formControlContext.dataset()} {...others}/>);\n}\n","import { isFunction, mergeDefaultProps } from \"@kobalte/utils\";\nimport { children, createEffect, onCleanup, Show, splitProps } from \"solid-js\";\nimport { useFormControlContext } from \"../form-control\";\nimport { useSelectContext } from \"./select-context\";\n/**\n * The part that reflects the selected value(s).\n */\nexport function SelectValue(props) {\n    const formControlContext = useFormControlContext();\n    const context = useSelectContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"value\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\", \"children\"]);\n    const selectionManager = () => context.listState().selectionManager();\n    const isSelectionEmpty = () => {\n        const selectedKeys = selectionManager().selectedKeys();\n        // Some form libraries uses an empty string as default value, often taken from an empty `<option />`.\n        // Ignore since it is not a valid key.\n        if (selectedKeys.size === 1 && selectedKeys.has(\"\")) {\n            return true;\n        }\n        return selectionManager().isEmpty();\n    };\n    createEffect(() => onCleanup(context.registerValueId(local.id)));\n    return (<span id={local.id} data-placeholder-shown={isSelectionEmpty() ? \"\" : undefined} {...formControlContext.dataset()} {...others}>\n      <Show when={!isSelectionEmpty()} fallback={context.placeholder()}>\n        <SelectValueChild state={{\n            selectedOption: () => context.selectedOptions()[0],\n            selectedOptions: () => context.selectedOptions(),\n            remove: option => context.removeOptionFromSelection(option),\n            clear: () => selectionManager().clearSelection(),\n        }} children={local.children}/>\n      </Show>\n    </span>);\n}\nfunction SelectValueChild(props) {\n    const resolvedChildren = children(() => {\n        const body = props.children;\n        return isFunction(body) ? body(props.state) : body;\n    });\n    return <>{resolvedChildren()}</>;\n}\n","/*!\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/tree/main/packages/%40react-aria/toast/intl\n */\nexport const TOAST_HOTKEY_PLACEHOLDER = \"{hotkey}\";\nexport const TOAST_INTL_MESSAGES = {\n    \"ar-AE\": {\n        close: \"إغلاق\",\n        notifications: `(${TOAST_HOTKEY_PLACEHOLDER}) ` + \"إشعارات\",\n    },\n    \"bg-BG\": {\n        close: \"Затвори\",\n        notifications: `Известия (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"cs-CZ\": {\n        close: \"Zavřít\",\n        notifications: `Upozornění (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"da-DK\": {\n        close: \"Luk\",\n        notifications: `Påmindelser (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"de-DE\": {\n        close: \"Schließen\",\n        notifications: `Benachrichtigungen (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"el-GR\": {\n        close: \"Κλείσιμο\",\n        notifications: `Ειδοποιήσεις (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"en-US\": {\n        close: \"Close\",\n        notifications: `Notifications (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"es-ES\": {\n        close: \"Cerrar\",\n        notifications: `Notificaciones (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"et-EE\": {\n        close: \"Sule\",\n        notifications: `Teated (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"fi-FI\": {\n        close: \"Sulje\",\n        notifications: `Ilmoitukset (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"fr-FR\": {\n        close: \"Fermer\",\n        notifications: `Notifications (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"he-IL\": {\n        close: \"סגור\",\n        notifications: `(${TOAST_HOTKEY_PLACEHOLDER}) ` + \"התראות\",\n    },\n    \"hr-HR\": {\n        close: \"Zatvori\",\n        notifications: `Obavijesti (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"hu-HU\": {\n        close: \"Bezárás\",\n        notifications: `Értesítések (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"it-IT\": {\n        close: \"Chiudi\",\n        notifications: `Notifiche (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"ja-JP\": {\n        close: \"閉じる\",\n        notifications: `通知 (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"ko-KR\": {\n        close: \"닫기\",\n        notifications: `알림 (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"lt-LT\": {\n        close: \"Uždaryti\",\n        notifications: `Pranešimai (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"lv-LV\": {\n        close: \"Aizvērt\",\n        notifications: `Paziņojumi (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"nb-NO\": {\n        close: \"Lukk\",\n        notifications: `Varsler (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"nl-NL\": {\n        close: \"Sluiten\",\n        notifications: `Meldingen (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"pl-PL\": {\n        close: \"Zamknij\",\n        notifications: `Powiadomienia (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"pt-BR\": {\n        close: \"Fechar\",\n        notifications: `Notificações (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"pt-PT\": {\n        close: \"Fechar\",\n        notifications: `Notificações (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"ro-RO\": {\n        close: \"Închideţi\",\n        notifications: `Notificări (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"ru-RU\": {\n        close: \"Закрыть\",\n        notifications: `Уведомления (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"sk-SK\": {\n        close: \"Zatvoriť\",\n        notifications: `Oznámenia (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"sl-SI\": {\n        close: \"Zapri\",\n        notifications: `Obvestila (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"sr-SP\": {\n        close: \"Zatvori\",\n        notifications: `Obaveštenja (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"sv-SE\": {\n        close: \"Stäng\",\n        notifications: `Aviseringar (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"tr-TR\": {\n        close: \"Kapat\",\n        notifications: `Bildirimler (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"uk-UA\": {\n        close: \"Закрити\",\n        notifications: `Сповіщення (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"zh-CN\": {\n        close: \"关闭\",\n        notifications: `通知 (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n    \"zh-TW\": {\n        close: \"關閉\",\n        notifications: `通知 (${TOAST_HOTKEY_PLACEHOLDER})`,\n    },\n};\n","import { createContext, useContext } from \"solid-js\";\nexport const ToastContext = createContext();\nexport function useToastContext() {\n    const context = useContext(ToastContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useToastContext` must be used within a `Toast.Root` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n */\nimport { callHandler } from \"@kobalte/utils\";\nimport { splitProps } from \"solid-js\";\nimport * as Button from \"../button\";\nimport { createMessageFormatter } from \"../i18n\";\nimport { TOAST_INTL_MESSAGES } from \"./toast.intl\";\nimport { useToastContext } from \"./toast-context\";\n/**\n * The button that closes the toast.\n */\nexport function ToastCloseButton(props) {\n    const context = useToastContext();\n    const [local, others] = splitProps(props, [\"aria-label\", \"onClick\"]);\n    const messageFormatter = createMessageFormatter(() => TOAST_INTL_MESSAGES);\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        context.close();\n    };\n    return (<Button.Root aria-label={local[\"aria-label\"] || messageFormatter().format(\"close\")} onClick={onClick} {...others}/>);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\n/**\n * An optional accessible description to be announced when the toast is open.\n */\nexport function ToastDescription(props) {\n    const context = useToastContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"description\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\"]);\n    createEffect(() => onCleanup(context.registerDescriptionId(local.id)));\n    return <Polymorphic as=\"div\" id={local.id} {...others}/>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const ToastRegionContext = createContext();\nexport function useToastRegionContext() {\n    const context = useContext(ToastRegionContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useToastRegionContext` must be used within a `Toast.Region` component\");\n    }\n    return context;\n}\n","import { createEffect, createSignal, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\nimport { useToastRegionContext } from \"./toast-region-context\";\n/**\n * The component that visually represents the toast remaining lifetime.\n * Used to visually show the fill of `Toast.ProgressTrack`.\n */\nexport function ToastProgressFill(props) {\n    const rootContext = useToastRegionContext();\n    const context = useToastContext();\n    const [local, others] = splitProps(props, [\"style\"]);\n    const [lifeTime, setLifeTime] = createSignal(100);\n    let totalElapsedTime = 0;\n    createEffect(() => {\n        if (rootContext.isPaused() || context.isPersistent()) {\n            return;\n        }\n        const intervalId = setInterval(() => {\n            const elapsedTime = new Date().getTime() - context.closeTimerStartTime() + totalElapsedTime;\n            const life = Math.trunc(100 - (elapsedTime / context.duration()) * 100);\n            setLifeTime(life < 0 ? 0 : life);\n        });\n        onCleanup(() => {\n            totalElapsedTime += new Date().getTime() - context.closeTimerStartTime();\n            clearInterval(intervalId);\n        });\n    });\n    return (<Polymorphic as=\"div\" style={{\n            \"--kb-toast-progress-fill-width\": `${lifeTime()}%`,\n            ...local.style,\n        }} {...others}/>);\n}\n","import { Polymorphic } from \"../polymorphic\";\n/**\n * The component that visually represents the toast lifetime.\n * Act as a container for `Toast.ProgressFill`.\n */\nexport function ToastProgressTrack(props) {\n    return <Polymorphic as=\"div\" aria-hidden=\"true\" role=\"presentation\" {...props}/>;\n}\n","/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/72018163e1fdb79b51d322d471c8fc7d14df2b59/packages/react/toast/src/Toast.tsx\n *\n * Portions of this file are based on code from sonner.\n * MIT Licensed, Copyright (c) 2023 Emil Kowalski.\n *\n * Credits to the sonner team:\n * https://github.com/emilkowalski/sonner/blob/0d027fd3a41013fada9d8a3ef807bcc87053bde8/src/index.tsx\n */\nimport { callHandler, createGenerateId, mergeDefaultProps, mergeRefs, } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal, createUniqueId, on, onMount, Show, splitProps, } from \"solid-js\";\nimport { createPresence, createRegisterId } from \"../primitives\";\nimport { ToastContext } from \"./toast-context\";\nimport { useToastRegionContext } from \"./toast-region-context\";\nimport { toastStore } from \"./toast-store\";\nconst TOAST_SWIPE_START_EVENT = \"toast.swipeStart\";\nconst TOAST_SWIPE_MOVE_EVENT = \"toast.swipeMove\";\nconst TOAST_SWIPE_CANCEL_EVENT = \"toast.swipeCancel\";\nconst TOAST_SWIPE_END_EVENT = \"toast.swipeEnd\";\nexport function ToastRoot(props) {\n    const defaultId = `toast-${createUniqueId()}`;\n    const rootContext = useToastRegionContext();\n    props = mergeDefaultProps({\n        id: defaultId,\n        priority: \"high\",\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"toastId\",\n        \"style\",\n        \"priority\",\n        \"duration\",\n        \"persistent\",\n        \"onPause\",\n        \"onResume\",\n        \"onSwipeStart\",\n        \"onSwipeMove\",\n        \"onSwipeCancel\",\n        \"onSwipeEnd\",\n        \"onEscapeKeyDown\",\n        \"onKeyDown\",\n        \"onPointerDown\",\n        \"onPointerMove\",\n        \"onPointerUp\",\n    ]);\n    const [isOpen, setIsOpen] = createSignal(true);\n    const [titleId, setTitleId] = createSignal();\n    const [descriptionId, setDescriptionId] = createSignal();\n    const [isAnimationEnabled, setIsAnimationEnabled] = createSignal(true);\n    const presence = createPresence(isOpen);\n    const duration = createMemo(() => local.duration || rootContext.duration());\n    let closeTimerId;\n    let closeTimerStartTime = 0;\n    let closeTimerRemainingTime = duration();\n    let pointerStart = null;\n    let swipeDelta = null;\n    const close = () => {\n        setIsOpen(false);\n        // Restore animation for the exit phase, which have been disabled if it's a toast update.\n        setIsAnimationEnabled(true);\n    };\n    const deleteToast = () => {\n        toastStore.remove(local.toastId);\n    };\n    const startTimer = (duration) => {\n        if (!duration || local.persistent) {\n            return;\n        }\n        window.clearTimeout(closeTimerId);\n        closeTimerStartTime = new Date().getTime();\n        closeTimerId = window.setTimeout(close, duration);\n    };\n    const resumeTimer = () => {\n        startTimer(closeTimerRemainingTime);\n        local.onResume?.();\n    };\n    const pauseTimer = () => {\n        const elapsedTime = new Date().getTime() - closeTimerStartTime;\n        closeTimerRemainingTime = closeTimerRemainingTime - elapsedTime;\n        window.clearTimeout(closeTimerId);\n        local.onPause?.();\n    };\n    const onKeyDown = e => {\n        callHandler(e, local.onKeyDown);\n        if (e.key !== \"Escape\") {\n            return;\n        }\n        local.onEscapeKeyDown?.(e);\n        if (!e.defaultPrevented) {\n            close();\n        }\n    };\n    const onPointerDown = e => {\n        callHandler(e, local.onPointerDown);\n        if (e.button !== 0) {\n            return;\n        }\n        pointerStart = { x: e.clientX, y: e.clientY };\n    };\n    const onPointerMove = e => {\n        callHandler(e, local.onPointerMove);\n        if (!pointerStart) {\n            return;\n        }\n        const x = e.clientX - pointerStart.x;\n        const y = e.clientY - pointerStart.y;\n        const hasSwipeMoveStarted = Boolean(swipeDelta);\n        const isHorizontalSwipe = [\"left\", \"right\"].includes(rootContext.swipeDirection());\n        const clamp = [\"left\", \"up\"].includes(rootContext.swipeDirection()) ? Math.min : Math.max;\n        const clampedX = isHorizontalSwipe ? clamp(0, x) : 0;\n        const clampedY = !isHorizontalSwipe ? clamp(0, y) : 0;\n        const moveStartBuffer = e.pointerType === \"touch\" ? 10 : 2;\n        const delta = { x: clampedX, y: clampedY };\n        const eventDetail = { originalEvent: e, delta };\n        if (hasSwipeMoveStarted) {\n            swipeDelta = delta;\n            handleAndDispatchCustomEvent(TOAST_SWIPE_MOVE_EVENT, local.onSwipeMove, eventDetail);\n            const { x, y } = delta;\n            e.currentTarget.setAttribute(\"data-swipe\", \"move\");\n            e.currentTarget.style.setProperty(\"--kb-toast-swipe-move-x\", `${x}px`);\n            e.currentTarget.style.setProperty(\"--kb-toast-swipe-move-y\", `${y}px`);\n        }\n        else if (isDeltaInDirection(delta, rootContext.swipeDirection(), moveStartBuffer)) {\n            swipeDelta = delta;\n            handleAndDispatchCustomEvent(TOAST_SWIPE_START_EVENT, local.onSwipeStart, eventDetail);\n            e.currentTarget.setAttribute(\"data-swipe\", \"start\");\n            e.target.setPointerCapture(e.pointerId);\n        }\n        else if (Math.abs(x) > moveStartBuffer || Math.abs(y) > moveStartBuffer) {\n            // User is swiping in wrong direction, so we disable swipe gesture\n            // for the current pointer down interaction\n            pointerStart = null;\n        }\n    };\n    const onPointerUp = e => {\n        callHandler(e, local.onPointerUp);\n        const delta = swipeDelta;\n        const target = e.target;\n        if (target.hasPointerCapture(e.pointerId)) {\n            target.releasePointerCapture(e.pointerId);\n        }\n        swipeDelta = null;\n        pointerStart = null;\n        if (delta) {\n            const toast = e.currentTarget;\n            const eventDetail = { originalEvent: e, delta };\n            if (isDeltaInDirection(delta, rootContext.swipeDirection(), rootContext.swipeThreshold())) {\n                handleAndDispatchCustomEvent(TOAST_SWIPE_END_EVENT, local.onSwipeEnd, eventDetail);\n                const { x, y } = delta;\n                e.currentTarget.setAttribute(\"data-swipe\", \"end\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-x\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-y\");\n                e.currentTarget.style.setProperty(\"--kb-toast-swipe-end-x\", `${x}px`);\n                e.currentTarget.style.setProperty(\"--kb-toast-swipe-end-y\", `${y}px`);\n                close();\n            }\n            else {\n                handleAndDispatchCustomEvent(TOAST_SWIPE_CANCEL_EVENT, local.onSwipeCancel, eventDetail);\n                e.currentTarget.setAttribute(\"data-swipe\", \"cancel\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-x\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-move-y\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-end-x\");\n                e.currentTarget.style.removeProperty(\"--kb-toast-swipe-end-y\");\n            }\n            // Prevent click event from triggering on items within the toast when\n            // pointer up is part of a swipe gesture\n            toast.addEventListener(\"click\", event => event.preventDefault(), {\n                once: true,\n            });\n        }\n    };\n    onMount(() => {\n        // Disable animation for updated toast.\n        if (rootContext.toasts().find(toast => toast.id === local.toastId && toast.update)) {\n            setIsAnimationEnabled(false);\n        }\n    });\n    createEffect(on(() => rootContext.isPaused(), isPaused => {\n        if (isPaused) {\n            pauseTimer();\n        }\n        else {\n            resumeTimer();\n        }\n    }, {\n        defer: true,\n    }));\n    // start timer when toast opens or duration changes.\n    // we include `open` in deps because closed !== unmounted when animating,\n    // so it could reopen before being completely unmounted\n    createEffect(on([isOpen, duration], ([isOpen, duration]) => {\n        if (isOpen && !rootContext.isPaused()) {\n            startTimer(duration);\n        }\n    }));\n    createEffect(on(() => toastStore.get(local.toastId)?.dismiss, dismiss => dismiss && close()));\n    createEffect(on(() => presence.isPresent(), isPresent => !isPresent && deleteToast()));\n    const context = {\n        close,\n        duration,\n        isPersistent: () => local.persistent ?? false,\n        closeTimerStartTime: () => closeTimerStartTime,\n        generateId: createGenerateId(() => others.id),\n        registerTitleId: createRegisterId(setTitleId),\n        registerDescriptionId: createRegisterId(setDescriptionId),\n    };\n    return (<Show when={presence.isPresent()}>\n      <ToastContext.Provider value={context}>\n        <li ref={mergeRefs(presence.setRef, local.ref)} role=\"status\" tabIndex={0} style={{\n            animation: isAnimationEnabled() ? undefined : \"none\",\n            \"user-select\": \"none\",\n            \"touch-action\": \"none\",\n            ...local.style,\n        }} aria-live={local.priority === \"high\" ? \"assertive\" : \"polite\"} aria-atomic=\"true\" aria-labelledby={titleId()} aria-describedby={descriptionId()} data-opened={isOpen() ? \"\" : undefined} data-closed={!isOpen() ? \"\" : undefined} data-swipe-direction={rootContext.swipeDirection()} onKeyDown={onKeyDown} onPointerDown={onPointerDown} onPointerMove={onPointerMove} onPointerUp={onPointerUp} {...others}/>\n      </ToastContext.Provider>\n    </Show>);\n}\nfunction isDeltaInDirection(delta, direction, threshold = 0) {\n    const deltaX = Math.abs(delta.x);\n    const deltaY = Math.abs(delta.y);\n    const isDeltaX = deltaX > deltaY;\n    if (direction === \"left\" || direction === \"right\") {\n        return isDeltaX && deltaX > threshold;\n    }\n    else {\n        return !isDeltaX && deltaY > threshold;\n    }\n}\nfunction handleAndDispatchCustomEvent(name, handler, detail) {\n    const currentTarget = detail.originalEvent.currentTarget;\n    const event = new CustomEvent(name, { bubbles: true, cancelable: true, detail });\n    if (handler) {\n        currentTarget.addEventListener(name, handler, { once: true });\n    }\n    currentTarget.dispatchEvent(event);\n}\n","import { mergeDefaultProps } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, splitProps } from \"solid-js\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useToastContext } from \"./toast-context\";\n/**\n * An accessible title to be announced when the toast is open.\n */\nexport function ToastTitle(props) {\n    const context = useToastContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"title\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"id\"]);\n    createEffect(() => onCleanup(context.registerTitleId(local.id)));\n    return <Polymorphic as=\"div\" id={local.id} {...others}/>;\n}\n","import { createContext, useContext } from \"solid-js\";\nexport const TooltipContext = createContext();\nexport function useTooltipContext() {\n    const context = useContext(TooltipContext);\n    if (context === undefined) {\n        throw new Error(\"[kobalte]: `useTooltipContext` must be used within a `Tooltip` component\");\n    }\n    return context;\n}\n","/*!\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/1b05a8e35cf35f3020484979086d70aefbaf4095/packages/react/tooltip/src/Tooltip.tsx\n */\nimport { mergeDefaultProps, mergeRefs } from \"@kobalte/utils\";\nimport { createEffect, onCleanup, Show, splitProps } from \"solid-js\";\nimport { DismissableLayer } from \"../dismissable-layer\";\nimport { PopperPositioner } from \"../popper\";\nimport { useTooltipContext } from \"./tooltip-context\";\n/**\n * Contains the content to be rendered when the tooltip is open.\n */\nexport function TooltipContent(props) {\n    const context = useTooltipContext();\n    props = mergeDefaultProps({\n        id: context.generateId(\"content\"),\n    }, props);\n    const [local, others] = splitProps(props, [\"ref\", \"style\"]);\n    createEffect(() => onCleanup(context.registerContentId(others.id)));\n    return (<Show when={context.contentPresence.isPresent()}>\n      <PopperPositioner>\n        <DismissableLayer ref={mergeRefs(el => {\n            context.setContentRef(el);\n            context.contentPresence.setRef(el);\n        }, local.ref)} role=\"tooltip\" disableOutsidePointerEvents={false} style={{\n            \"--kb-tooltip-content-transform-origin\": \"var(--kb-popper-content-transform-origin)\",\n            position: \"relative\",\n            ...local.style,\n        }} onFocusOutside={e => e.preventDefault()} onDismiss={() => context.hideTooltip(true)} {...context.dataset()} {...others}/>\n      </PopperPositioner>\n    </Show>);\n}\n","import { Show } from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\nimport { useTooltipContext } from \"./tooltip-context\";\n/**\n * Portals its children into the `body` when the tooltip is open.\n */\nexport function TooltipPortal(props) {\n    const context = useTooltipContext();\n    return (<Show when={context.contentPresence.isPresent()}>\n      <Portal {...props}/>\n    </Show>);\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/hovercard/__utils/polygon.ts\n * https://github.com/ariakit/ariakit/blob/f2a96973de523d67e41eec983263936c489ef3e2/packages/ariakit/src/hovercard/__utils/debug-polygon.ts\n */\n/**\n * Construct a polygon based on the floating element placement relative to the anchor.\n */\nexport function getTooltipSafeArea(placement, anchorEl, floatingEl) {\n    const basePlacement = placement.split(\"-\")[0];\n    const anchorRect = anchorEl.getBoundingClientRect();\n    const floatingRect = floatingEl.getBoundingClientRect();\n    const polygon = [];\n    const anchorCenterX = anchorRect.left + anchorRect.width / 2;\n    const anchorCenterY = anchorRect.top + anchorRect.height / 2;\n    switch (basePlacement) {\n        case \"top\":\n            polygon.push([anchorRect.left, anchorCenterY]);\n            polygon.push([floatingRect.left, floatingRect.bottom]);\n            polygon.push([floatingRect.left, floatingRect.top]);\n            polygon.push([floatingRect.right, floatingRect.top]);\n            polygon.push([floatingRect.right, floatingRect.bottom]);\n            polygon.push([anchorRect.right, anchorCenterY]);\n            break;\n        case \"right\":\n            polygon.push([anchorCenterX, anchorRect.top]);\n            polygon.push([floatingRect.left, floatingRect.top]);\n            polygon.push([floatingRect.right, floatingRect.top]);\n            polygon.push([floatingRect.right, floatingRect.bottom]);\n            polygon.push([floatingRect.left, floatingRect.bottom]);\n            polygon.push([anchorCenterX, anchorRect.bottom]);\n            break;\n        case \"bottom\":\n            polygon.push([anchorRect.left, anchorCenterY]);\n            polygon.push([floatingRect.left, floatingRect.top]);\n            polygon.push([floatingRect.left, floatingRect.bottom]);\n            polygon.push([floatingRect.right, floatingRect.bottom]);\n            polygon.push([floatingRect.right, floatingRect.top]);\n            polygon.push([anchorRect.right, anchorCenterY]);\n            break;\n        case \"left\":\n            polygon.push([anchorCenterX, anchorRect.top]);\n            polygon.push([floatingRect.right, floatingRect.top]);\n            polygon.push([floatingRect.left, floatingRect.top]);\n            polygon.push([floatingRect.left, floatingRect.bottom]);\n            polygon.push([floatingRect.right, floatingRect.bottom]);\n            polygon.push([anchorCenterX, anchorRect.bottom]);\n            break;\n    }\n    return polygon;\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/tooltip/tooltip.tsx\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e67d48d4935b772f915b08f1d695d2ebafb876f0/packages/@react-stately/tooltip/src/useTooltipTriggerState.ts\n */\nimport { contains, createGenerateId, getDocument, getEventPoint, getWindow, isPointInPolygon, mergeDefaultProps, } from \"@kobalte/utils\";\nimport { createEffect, createMemo, createSignal, createUniqueId, onCleanup, splitProps, } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { PopperRoot } from \"../popper\";\nimport { createDisclosureState, createPresence, createRegisterId } from \"../primitives\";\nimport { TooltipContext } from \"./tooltip-context\";\nimport { getTooltipSafeArea } from \"./utils\";\nconst tooltips = {};\nlet tooltipsCounter = 0;\nlet globalWarmedUp = false;\nlet globalWarmUpTimeout;\nlet globalCoolDownTimeout;\n/**\n * A popup that displays information related to an element\n * when the element receives keyboard focus or the mouse hovers over it.\n */\nexport function TooltipRoot(props) {\n    const defaultId = `tooltip-${createUniqueId()}`;\n    // This is not the DOM id.\n    const tooltipId = `${++tooltipsCounter}`;\n    props = mergeDefaultProps({\n        id: defaultId,\n        openDelay: 700,\n        closeDelay: 300,\n    }, props);\n    const [local, others] = splitProps(props, [\n        \"id\",\n        \"open\",\n        \"defaultOpen\",\n        \"onOpenChange\",\n        \"disabled\",\n        \"triggerOnFocusOnly\",\n        \"openDelay\",\n        \"closeDelay\",\n        \"ignoreSafeArea\",\n        \"forceMount\",\n    ]);\n    let closeTimeoutId;\n    const [contentId, setContentId] = createSignal();\n    const [triggerRef, setTriggerRef] = createSignal();\n    const [contentRef, setContentRef] = createSignal();\n    const [currentPlacement, setCurrentPlacement] = createSignal(others.placement);\n    const disclosureState = createDisclosureState({\n        open: () => local.open,\n        defaultOpen: () => local.defaultOpen,\n        onOpenChange: isOpen => local.onOpenChange?.(isOpen),\n    });\n    const contentPresence = createPresence(() => local.forceMount || disclosureState.isOpen());\n    const ensureTooltipEntry = () => {\n        tooltips[tooltipId] = hideTooltip;\n    };\n    const closeOpenTooltips = () => {\n        for (const hideTooltipId in tooltips) {\n            if (hideTooltipId !== tooltipId) {\n                tooltips[hideTooltipId](true);\n                delete tooltips[hideTooltipId];\n            }\n        }\n    };\n    const hideTooltip = (immediate = false) => {\n        if (isServer) {\n            return;\n        }\n        if (immediate || (local.closeDelay && local.closeDelay <= 0)) {\n            window.clearTimeout(closeTimeoutId);\n            closeTimeoutId = undefined;\n            disclosureState.close();\n        }\n        else if (!closeTimeoutId) {\n            closeTimeoutId = window.setTimeout(() => {\n                closeTimeoutId = undefined;\n                disclosureState.close();\n            }, local.closeDelay);\n        }\n        window.clearTimeout(globalWarmUpTimeout);\n        globalWarmUpTimeout = undefined;\n        if (globalWarmedUp) {\n            window.clearTimeout(globalCoolDownTimeout);\n            globalCoolDownTimeout = window.setTimeout(() => {\n                delete tooltips[tooltipId];\n                globalCoolDownTimeout = undefined;\n                globalWarmedUp = false;\n            }, local.closeDelay);\n        }\n    };\n    const showTooltip = () => {\n        if (isServer) {\n            return;\n        }\n        clearTimeout(closeTimeoutId);\n        closeTimeoutId = undefined;\n        closeOpenTooltips();\n        ensureTooltipEntry();\n        globalWarmedUp = true;\n        disclosureState.open();\n        window.clearTimeout(globalWarmUpTimeout);\n        globalWarmUpTimeout = undefined;\n        window.clearTimeout(globalCoolDownTimeout);\n        globalCoolDownTimeout = undefined;\n    };\n    const warmupTooltip = () => {\n        if (isServer) {\n            return;\n        }\n        closeOpenTooltips();\n        ensureTooltipEntry();\n        if (!disclosureState.isOpen() && !globalWarmUpTimeout && !globalWarmedUp) {\n            globalWarmUpTimeout = window.setTimeout(() => {\n                globalWarmUpTimeout = undefined;\n                globalWarmedUp = true;\n                showTooltip();\n            }, local.openDelay);\n        }\n        else if (!disclosureState.isOpen()) {\n            showTooltip();\n        }\n    };\n    const openTooltip = (immediate = false) => {\n        if (isServer) {\n            return;\n        }\n        if (!immediate && local.openDelay && local.openDelay > 0 && !closeTimeoutId) {\n            warmupTooltip();\n        }\n        else {\n            showTooltip();\n        }\n    };\n    const cancelOpening = () => {\n        if (isServer) {\n            return;\n        }\n        window.clearTimeout(globalWarmUpTimeout);\n        globalWarmUpTimeout = undefined;\n        globalWarmedUp = false;\n    };\n    const cancelClosing = () => {\n        if (isServer) {\n            return;\n        }\n        window.clearTimeout(closeTimeoutId);\n        closeTimeoutId = undefined;\n    };\n    const isTargetOnTooltip = (target) => {\n        return contains(triggerRef(), target) || contains(contentRef(), target);\n    };\n    const getPolygonSafeArea = (placement) => {\n        const triggerEl = triggerRef();\n        const contentEl = contentRef();\n        if (!triggerEl || !contentEl) {\n            return;\n        }\n        return getTooltipSafeArea(placement, triggerEl, contentEl);\n    };\n    const onHoverOutside = (event) => {\n        const target = event.target;\n        // Don't close if the mouse is moving through valid tooltip element.\n        if (isTargetOnTooltip(target)) {\n            cancelClosing();\n            return;\n        }\n        if (!local.ignoreSafeArea) {\n            const polygon = getPolygonSafeArea(currentPlacement());\n            //Don't close if the current's event mouse position is inside the polygon safe area.\n            if (polygon && isPointInPolygon(getEventPoint(event), polygon)) {\n                cancelClosing();\n                return;\n            }\n        }\n        // If there's already a scheduled timeout to hide the tooltip, we do nothing.\n        if (closeTimeoutId) {\n            return;\n        }\n        // Otherwise, hide the tooltip after the close delay.\n        hideTooltip();\n    };\n    createEffect(() => {\n        if (isServer) {\n            return;\n        }\n        if (!disclosureState.isOpen()) {\n            return;\n        }\n        const doc = getDocument();\n        // Checks whether the mouse is moving outside the tooltip.\n        // If yes, hide the tooltip after the close delay.\n        doc.addEventListener(\"pointermove\", onHoverOutside, true);\n        onCleanup(() => {\n            doc.removeEventListener(\"pointermove\", onHoverOutside, true);\n        });\n    });\n    // Close the tooltip if the trigger is scrolled.\n    createEffect(() => {\n        const trigger = triggerRef();\n        if (!trigger || !disclosureState.isOpen()) {\n            return;\n        }\n        const handleScroll = (event) => {\n            const target = event.target;\n            if (contains(target, trigger)) {\n                hideTooltip(true);\n            }\n        };\n        const win = getWindow();\n        win.addEventListener(\"scroll\", handleScroll, { capture: true });\n        onCleanup(() => {\n            win.removeEventListener(\"scroll\", handleScroll, { capture: true });\n        });\n    });\n    onCleanup(() => {\n        clearTimeout(closeTimeoutId);\n        const tooltip = tooltips[tooltipId];\n        if (tooltip) {\n            delete tooltips[tooltipId];\n        }\n    });\n    const dataset = createMemo(() => ({\n        \"data-expanded\": disclosureState.isOpen() ? \"\" : undefined,\n        \"data-closed\": !disclosureState.isOpen() ? \"\" : undefined,\n    }));\n    const context = {\n        dataset,\n        isOpen: disclosureState.isOpen,\n        isDisabled: () => local.disabled ?? false,\n        triggerOnFocusOnly: () => local.triggerOnFocusOnly ?? false,\n        contentId,\n        contentPresence,\n        openTooltip,\n        hideTooltip,\n        cancelOpening,\n        generateId: createGenerateId(() => props.id),\n        registerContentId: createRegisterId(setContentId),\n        isTargetOnTooltip,\n        setTriggerRef,\n        setContentRef,\n    };\n    return (<TooltipContext.Provider value={context}>\n      <PopperRoot anchorRef={triggerRef} contentRef={contentRef} onCurrentPlacementChange={setCurrentPlacement} {...others}/>\n    </TooltipContext.Provider>);\n}\n","/*!\n * Portions of this file are based on code from ariakit.\n * MIT Licensed, Copyright (c) Diego Haz.\n *\n * Credits to the Ariakit team:\n * https://github.com/ariakit/ariakit/blob/84e97943ad637a582c01c9b56d880cd95f595737/packages/ariakit/src/tooltip/tooltip-anchor.ts\n *\n * Portions of this file are based on code from react-spectrum.\n * Apache License Version 2.0, Copyright 2020 Adobe.\n *\n * Credits to the React Spectrum team:\n * https://github.com/adobe/react-spectrum/blob/e67d48d4935b772f915b08f1d695d2ebafb876f0/packages/@react-aria/tooltip/src/useTooltipTrigger.ts\n *\n * Portions of this file are based on code from radix-ui-primitives.\n * MIT Licensed, Copyright (c) 2022 WorkOS.\n *\n * Credits to the Radix UI team:\n * https://github.com/radix-ui/primitives/blob/1b05a8e35cf35f3020484979086d70aefbaf4095/packages/react/tooltip/src/Tooltip.tsx\n */\nimport { callHandler, getDocument, mergeRefs } from \"@kobalte/utils\";\nimport { onCleanup, splitProps } from \"solid-js\";\nimport { isServer } from \"solid-js/web\";\nimport { Polymorphic } from \"../polymorphic\";\nimport { useTooltipContext } from \"./tooltip-context\";\n/**\n * The button that opens the tooltip when hovered.\n */\nexport function TooltipTrigger(props) {\n    let ref;\n    const context = useTooltipContext();\n    const [local, others] = splitProps(props, [\n        \"ref\",\n        \"onPointerEnter\",\n        \"onPointerLeave\",\n        \"onPointerDown\",\n        \"onClick\",\n        \"onFocus\",\n        \"onBlur\",\n        \"onTouchStart\",\n    ]);\n    let isPointerDown = false;\n    let isHovered = false;\n    let isFocused = false;\n    const handlePointerUp = () => {\n        isPointerDown = false;\n    };\n    const handleShow = () => {\n        if (!context.isOpen() && (isHovered || isFocused)) {\n            context.openTooltip(isFocused);\n        }\n    };\n    const handleHide = (immediate) => {\n        if (context.isOpen() && !isHovered && !isFocused) {\n            context.hideTooltip(immediate);\n        }\n    };\n    const onPointerEnter = e => {\n        callHandler(e, local.onPointerEnter);\n        if (e.pointerType === \"touch\" ||\n            context.triggerOnFocusOnly() ||\n            context.isDisabled() ||\n            e.defaultPrevented) {\n            return;\n        }\n        isHovered = true;\n        handleShow();\n    };\n    const onPointerLeave = e => {\n        callHandler(e, local.onPointerLeave);\n        if (e.pointerType === \"touch\") {\n            return;\n        }\n        // No matter how the trigger is left, we should close the tooltip.\n        isHovered = false;\n        isFocused = false;\n        if (context.isOpen()) {\n            handleHide();\n        }\n        else {\n            context.cancelOpening();\n        }\n    };\n    const onPointerDown = e => {\n        callHandler(e, local.onPointerDown);\n        isPointerDown = true;\n        getDocument(ref).addEventListener(\"pointerup\", handlePointerUp, { once: true });\n    };\n    const onClick = e => {\n        callHandler(e, local.onClick);\n        // No matter how the trigger is left, we should close the tooltip.\n        isHovered = false;\n        isFocused = false;\n        handleHide(true);\n    };\n    const onFocus = e => {\n        callHandler(e, local.onFocus);\n        if (context.isDisabled() || e.defaultPrevented || isPointerDown) {\n            return;\n        }\n        isFocused = true;\n        handleShow();\n    };\n    const onBlur = e => {\n        callHandler(e, local.onBlur);\n        const relatedTarget = e.relatedTarget;\n        if (context.isTargetOnTooltip(relatedTarget)) {\n            return;\n        }\n        // No matter how the trigger is left, we should close the tooltip.\n        isHovered = false;\n        isFocused = false;\n        handleHide(true);\n    };\n    onCleanup(() => {\n        if (isServer) {\n            return;\n        }\n        getDocument(ref).removeEventListener(\"pointerup\", handlePointerUp);\n    });\n    // We purposefully avoid using Kobalte `Button` here because tooltip triggers can be any element\n    // and should not always be announced as a button to screen readers.\n    return (<Polymorphic as=\"button\" ref={mergeRefs(el => {\n            context.setTriggerRef(el);\n            ref = el;\n        }, local.ref)} aria-describedby={context.isOpen() ? context.contentId() : undefined} onPointerEnter={onPointerEnter} onPointerLeave={onPointerLeave} onPointerDown={onPointerDown} onClick={onClick} onFocus={onFocus} onBlur={onBlur} {...context.dataset()} {...others}/>);\n}\n","import { isServer } from \"solid-js/web\";\nimport { PipedVideo, PreviewFrame, RelatedStream } from \"~/types\";\n\nexport async function fetchJson(\n  url: string,\n  params?: Record<string, string>,\n  options?: RequestInit\n): Promise<any> {\n  if (params) {\n    const urlObj = new URL(url);\n    for (const param in params) {\n      if (params.hasOwnProperty(param)) {\n        urlObj.searchParams.set(param, params[param]);\n      }\n    }\n    url = urlObj.toString();\n  }\n\n  const response = await fetch(url, options);\n  return response.json();\n}\n\nexport function classNames(\n  ...classes: (string | boolean | undefined)[]\n): string {\n  return classes.filter(Boolean).join(\" \");\n}\n\nexport function assertType<T>(item: any, property: string, value: string) {\n  if (item[property] === value) {\n    return item as T;\n  }\n}\n\nexport function generateThumbnailUrl(proxyUrl: string, videoId: string) {\n  return `${proxyUrl}/vi/${videoId}/mqdefault.jpg?host=i.ytimg.com`;\n}\n\n\nexport const generateStoryboard = (\n    previewFrames: PreviewFrame | undefined\n  ) => {\n    if (!previewFrames) return \"\";\n    let output = \"WEBVTT\\n\\n\";\n    let currentTime = 0;\n\n    for (let url of previewFrames.urls) {\n      for (let y = 0; y < previewFrames.framesPerPageY; y++) {\n        for (let x = 0; x < previewFrames.framesPerPageX; x++) {\n          if (\n            currentTime >=\n            previewFrames.totalCount * previewFrames.durationPerFrame\n          ) {\n            break;\n          }\n\n          let startX = x * previewFrames.frameWidth;\n          let startY = y * previewFrames.frameHeight;\n\n          output += `${formatTime(currentTime)} --> ${formatTime(\n            currentTime + previewFrames.durationPerFrame\n          )}\\n`;\n          output += `${url}#xywh=${startX},${startY},${previewFrames.frameWidth},${previewFrames.frameHeight}\\n\\n`;\n\n          currentTime += previewFrames.durationPerFrame;\n        }\n      }\n    }\n\n    function formatTime(ms: number) {\n      let hours = Math.floor(ms / 3600000);\n      ms -= hours * 3600000;\n      let minutes = Math.floor(ms / 60000);\n      ms -= minutes * 60000;\n      let seconds = Math.floor(ms / 1000);\n      ms -= seconds * 1000;\n\n      return `${hours.toString().padStart(2, \"0\")}:${minutes\n        .toString()\n        .padStart(2, \"0\")}:${seconds.toString().padStart(2, \"0\")}.${ms\n          .toString()\n          .padStart(3, \"0\")}`;\n    }\n\n    const blob = new Blob([output], { type: \"text/vtt\" });\n    return URL.createObjectURL(blob);\n  };\n\n  export function yieldToMain() {\n    return new Promise((resolve) => {\n      setTimeout(resolve, 0);\n    });\n  }\n\nexport function getVideoId(item: any): string | undefined {\n  const extractVideoId = (url: string | undefined) => {\n    let id;\n    if (url?.includes(\"/watch?v=\")) {\n      id = url.split(\"/watch?v=\")[1];\n    } else {\n      id = url?.match(\"vi(?:_webp)?/([a-zA-Z0-9_-]{11})\")?.[1];\n    }\n    return id\n  };\n\n  if (!item) return \n\n  if (item.videoId) return item.videoId;\n  if (item.id) return item.id;\n  if (item.url) return extractVideoId(item.url);\n  if (item.thumbnailUrl) return extractVideoId(item.thumbnailUrl);\n  if (item.thumbnail) return extractVideoId(item.thumbnail);\n\n  return\n}\n\n/**\n * Execute a function with exponential backoff.\n *\n * @param fn - Function to execute\n * @param retries - Maximum number of retries\n * @param minDelay - Minimum delay in milliseconds\n * @param maxDelay - Maximum delay in milliseconds\n * @return Promise containing the result of the function execution\n */\nexport async function exponentialBackoff<T>(\n  fn: () => Promise<T>,\n  retries: number = 5,\n  minDelay: number = 1000,\n  maxDelay: number = 60000\n): Promise<T> {\n  let attempts = 0;\n  \n  if (minDelay >= maxDelay) {\n    throw new Error(\"minDelay should be less than maxDelay.\");\n  }\n  if (retries < 0) {\n    throw new Error(\"Number of retries should be non-negative.\");\n  }\n\n  while (true) {\n    try {\n      return await fn();\n    } catch (e) {\n      attempts++;\n      if (attempts > retries) {\n        throw new Error(\"Maximum retries reached.\");\n      }\n\n      const delay = Math.min(\n        minDelay * Math.pow(2, attempts),\n        maxDelay\n      );\n\n      await new Promise((resolve) => setTimeout(resolve, delay));\n    }\n  }\n}\n\nexport function isMobile() {\n  if (isServer) return false;\n  return navigator.maxTouchPoints > 1 && typeof screen.orientation !== undefined;\n}\n\nexport function formatRelativeShort(now: Date, past: Date): string {\n  const diffInSeconds = Math.floor((now.getTime() - past.getTime()) / 1000);\n\n  const secondsInAMinute = 60;\n  const secondsInAnHour = secondsInAMinute * 60;\n  const secondsInADay = secondsInAnHour * 24;\n  const secondsInAMonth = secondsInADay * 30; // rough average\n  const secondsInAYear = secondsInADay * 365; // ignoring leap years for simplicity\n\n  if (diffInSeconds >= secondsInAYear) {\n    return `${Math.floor(diffInSeconds / secondsInAYear)}y`;\n  } else if (diffInSeconds >= secondsInAMonth) {\n    return `${Math.floor(diffInSeconds / secondsInAMonth)}mo`;\n  } else if (diffInSeconds >= secondsInADay) {\n    return `${Math.floor(diffInSeconds / secondsInADay)}d`;\n  } else if (diffInSeconds >= secondsInAnHour) {\n    return `${Math.floor(diffInSeconds / secondsInAnHour)}h`;\n  } else if (diffInSeconds >= secondsInAMinute) {\n    return `${Math.floor(diffInSeconds / secondsInAMinute)}m`;\n  } else {\n    return `now`;\n  }\n}\n\n\n/**\n * Debounce a function call.\n *\n * @template T - The type of the `this` context for the function.\n * @template U - The tuple type representing the argument types of the function.\n *\n * @param {(...args: U) => void} func - The function to debounce.\n * @param {number} wait - The number of milliseconds to delay the function call.\n * @returns {(...args: U) => void} - The debounced function.\n */\nexport function debounce<T, U extends any[]>(\n  func: (this: T, ...args: U) => void,\n  wait: number\n): (this: T, ...args: U) => void {\n  let timeout: NodeJS.Timeout | null = null;\n\n  return function(this: T, ...args: U): void {\n    const context = this;\n\n    const later = () => {\n      timeout = null;\n      func.apply(context, args);\n    };\n\n    if (timeout !== null) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(later, wait);\n  };\n}\n","import {\n  createContext,\n  createEffect,\n  createSignal,\n  useContext,\n} from \"solid-js\";\nimport { RelatedStream } from \"~/types\";\nimport { getVideoId } from \"~/utils/helpers\";\n\nclass Node {\n  value: RelatedStream;\n  next: Node | null = null;\n  prev: Node | null = null;\n  constructor(value: RelatedStream) {\n    this.value = value;\n  }\n}\n\nexport class VideoQueue implements Iterable<RelatedStream> {\n  private head = createSignal<Node | null>(null);\n  private tail = createSignal<Node | null>(null);\n  private current = createSignal<Node | null>(null);\n  private _length = createSignal<number>(0);\n  private videoIdSet = new Set<string>();\n\n  public get currentVideo() {\n    return this.current[0]()?.value;\n  }\n\n  public get uniqueIds() {\n    return Array.from(this.videoIdSet);\n  }\n\n  constructor(videos: RelatedStream[] = []) {\n    videos.forEach((video) => this.add(video));\n  }\n\n  [Symbol.iterator](): Iterator<RelatedStream> {\n    let current = this.head[0]()?.value;\n    return {\n      next: (): IteratorResult<RelatedStream> => {\n        if (current) {\n          const value = current;\n          current = this.head[0]()?.next?.value\n          return { value, done: false };\n        } else {\n          return { value: undefined!, done: true };\n        }\n      }\n    };\n  }\n\n  add(video: RelatedStream) {\n    const id = getVideoId(video);\n    console.log(\"adding\", id);\n    if (!id) return;\n    if (this.videoIdSet.has(id)) return;\n    const newNode = new Node(video);\n    const tail = this.tail[0]();\n    if (tail) {\n      console.log(\"tail\", tail)\n      tail.next = newNode;\n      newNode.prev = tail;\n      this.tail[1](newNode);\n    } else {\n      console.log(\"no tail\", tail)\n      this.head[1](newNode);\n      this.tail[1](newNode);\n      if (!this.current[0]()) this.current[1](newNode);\n    }\n    this.videoIdSet.add(id);\n    this._length[1](this._length[0]() + 1);\n    return newNode.value\n  }\n\n  list(): RelatedStream[] {\n    const list: RelatedStream[] = [];\n    let temp = this.head[0]();\n    while (temp) {\n      list.push(temp.value);\n      temp = temp.next;\n    }\n    return list;\n  }\n\n\n  enqueueNext(video: RelatedStream) {\n    const id = getVideoId(video);\n    if (!id) return;\n    if (this.videoIdSet.has(id)) return;\n    const current = this.current[0]();\n    if (!current) {\n      this.add(video);\n      return;\n    }\n    const newNode = new Node(video);\n    const temp = current.next;\n    current.next = newNode;\n    newNode.prev = current;\n    newNode.next = temp;\n    if (temp) temp.prev = newNode;\n    if (current === this.tail[0]()) this.tail[1](newNode);\n    this.videoIdSet.add(id);\n    this._length[1](this._length[0]() + 1);\n  }\n\n  next(): RelatedStream | null {\n    const current = this.current[0]();\n    if (!current?.next) return null;\n    this.current[1](current.next);\n    return current.next.value;\n  }\n\n  peekNext(): RelatedStream | null {\n    return this.current[0]()?.next?.value || null;\n  }\n\n  prev(): RelatedStream | null {\n    const current = this.current[0]();\n    if (!current?.prev) return null;\n    this.current[1](current.prev);\n    return current.prev.value;\n  }\n\n  peekPrev(): RelatedStream | null {\n    return this.current[0]()?.prev?.value || null;\n  }\n\n  length(): number {\n    return this._length[0]();\n  }\n\n  has(id: string): boolean {\n    return this.videoIdSet.has(id);\n  }\n\n  isEmpty(): boolean {\n    return this._length[0]() === 0;\n  }\n\n  setCurrentVideo(id: string): boolean {\n    let temp = this.head[0]();\n    while (temp) {\n      if (getVideoId(temp.value) === id) {\n        this.current[1](temp);\n        return true;\n      }\n      temp = temp.next;\n    }\n    return false;\n  }\n\n  remove(id: string): boolean {\n    let temp = this.head[0]();\n    while (temp) {\n      if (getVideoId(temp.value) === id) {\n        if (temp.prev) temp.prev.next = temp.next;\n        if (temp.next) temp.next.prev = temp.prev;\n        if (temp === this.head[0]()) this.head[1](temp.next);\n        if (temp === this.tail[0]()) this.tail[1](temp.prev);\n        if (temp === this.current[0]()) this.current[1](temp.next);\n        this._length[1](this._length[0]() - 1);\n        return true;\n      }\n      temp = temp.next;\n    }\n    this.videoIdSet.delete(id);\n    return false;\n  }\n\n  clear() {\n    this.head[1](null);\n    this.tail[1](null);\n    this.current[1](null);\n    this._length[1](0);\n    this.videoIdSet.clear();\n  }\n\n  getTotalDuration(): number {\n    let temp = this.head[0]();\n    let totalDuration = 0;\n    while (temp) {\n      totalDuration += temp.value.duration;\n      temp = temp.next;\n    }\n    return totalDuration;\n  }\n}\n\n\nconst QueueContext = createContext<VideoQueue>(new VideoQueue());\n\nexport function QueueProvider(props: any) {\n  const queue = new VideoQueue();\n  return (\n    <QueueContext.Provider value={queue}>\n      {props.children}\n    </QueueContext.Provider>\n  );\n}\n\nexport function useQueue() {\n  const queue = useContext(QueueContext);\n  if (!queue) throw new Error(\"useQueue must be used within a QueueProvider\");\n  return queue;\n}\n","import { Signal, createContext, createSignal, useContext } from \"solid-js\";\nimport { Playlist } from \"~/types\";\n\n\nconst PlaylistContext = createContext<Signal<Playlist |undefined>| null>(null);\n\nexport function PlaylistProvider(props: { children: any }) {\n    const list = createSignal<Playlist>();\n    return (\n        <PlaylistContext.Provider value={list}>\n            {props.children}\n        </PlaylistContext.Provider>\n    );\n}\n\nexport const usePlaylist = () => {\n    const context = useContext(PlaylistContext);\n    if (!context) {\n        throw new Error(\"usePlaylist must be used within a PlaylistProvider\");\n    }\n    return context;\n}\n","//  interpolated from solidjs' mapArray\n//  https://github.com/solidjs/solid/blob/main/packages/solid/src/reactive/array.ts\n\nexport default function minimumMutationOperations<T>(\n  oldArray: T[],\n  newArray: T[],\n  dirty?: Set<number | string>\n) {\n  const result: {\n    added: { index: number; value: T }[]\n    moved: { oldIndex: number; newIndex: number; value: T }[]\n    deleted: number[]\n    dirty: number[]\n  } = {\n    added: [],\n    moved: [],\n    deleted: [],\n    dirty: [],\n  }\n\n  // fast path for empty arrays\n  if (oldArray.length === 0) {\n    result.added = newArray.map((value, index) => ({ index, value }))\n  }\n  // fast path for new create\n  else if (newArray.length === 0) {\n    result.deleted = oldArray.map((v, i) => i)\n  } else {\n    let start, end, newEnd\n    let item\n\n    let i, j\n    let oldLength = oldArray.length\n    let newLength = newArray.length\n\n    // skip common prefix\n    for (\n      start = 0, end = Math.min(oldLength, newLength);\n      start < end && oldArray[start] === newArray[start];\n      start++\n    );\n\n    // common suffix\n    for (\n      end = oldLength - 1, newEnd = newLength - 1;\n      end >= start && newEnd >= start && oldArray[end] === newArray[newEnd];\n      end--, newEnd--\n    );\n\n    // 0) prepare a map of all indices in newArray, scanning backwards so we encounter them in natural order\n    let newIndices = new Map<T, number>()\n    let newIndicesNext = new Array(newEnd + 1)\n    for (j = newEnd; j >= start; j--) {\n      item = newArray[j]\n      i = newIndices.get(item)!\n      newIndicesNext[j] = i === undefined ? -1 : i\n      newIndices.set(item, j)\n    }\n    // 1) step through all old items and see if they can be found in the new set; if so, save them in a temp array and mark them moved; if not, exit them\n    for (i = start; i <= end; i++) {\n      item = oldArray[i]\n      j = newIndices.get(item)!\n\n      if (j !== undefined && j !== -1) {\n        result.moved[j] = { oldIndex: i, newIndex: j, value: item }\n        j = newIndicesNext[j]\n        newIndices.set(item, j)\n      } else {\n        if (!dirty?.has(i)) result.deleted.push(i)\n      }\n    }\n\n    // 2) set all the new values, pulling from the temp array if copied, otherwise entering the new value\n    for (j = start; j <= newEnd; j++) {\n      if (!(j in result.moved)) {\n        if (!dirty?.has(j)) {\n          result.added.push({ index: j, value: newArray[j] })\n        }\n      }\n    }\n  }\n\n  return {\n    ...result,\n    moved: result.moved.filter(\n      ({ oldIndex, newIndex }) => oldIndex !== newIndex\n    ),\n  }\n}\n","export const LOG = (path: string[], ...args: any[]) => {\n  const pathText = path\n    .map((v, i) => '%c' + new Array(i).fill(' ').join('') + '• %c' + v)\n    .join('\\n')\n  const pathStyles = path\n    .map((v, i) => ['', 'background: lightgrey; color: black;'])\n    .flat()\n  console.log(pathText, ...pathStyles, ...args)\n}\nexport const ERROR = (path: string[], ...args: any[]) => {\n  const pathText = path\n    .map((v, i) => '%c' + new Array(i).fill(' ').join('') + '• %c' + v)\n    .join('\\n')\n  const pathStyles = path\n    .map((v, i) => ['', 'background: lightgrey; color: black;'])\n    .flat()\n  console.error(pathText, ...pathStyles, ...args)\n}\n\nexport const UNEXPECTED = (...args: any[]) =>\n  console.error('UNEXPECTED CODE REACHED!!!', ...args)\n\nexport const NOTIMPLEMENTED = (...args: any[]) =>\n  console.error('NOT IMPLMENENTED', ...args)\n\nexport default { LOG, ERROR }\n","import { $PROXY } from \"solid-js\";\nimport * as Y from \"yjs\";\n\nimport { ERROR, UNEXPECTED } from \"./logHelpers\";\n\ntype YjsOperation<A extends \"set\" | \"delete\" | \"insert\"> = A extends \"set\"\n  ? { type: \"set\"; ymap: Y.Map<any> | Y.Doc; key: string; value: any }\n  : A extends \"delete\"\n  ? {\n      type: \"delete\";\n      yparent: Y.Map<any> | Y.Array<any>;\n      key?: string;\n      index?: number;\n    }\n  : A extends \"insert\"\n  ? { type: \"insert\"; yarray: Y.Array<any>; index: number; content: any[] }\n  : never;\nconst yjsOperations: YjsOperation<\"set\" | \"delete\" | \"insert\">[] = [];\nlet timeoutId: NodeJS.Timeout | null = null;\n\nconst executeYjsOperations = (ydoc: Y.Doc) => {\n  if (yjsOperations.length === 0) {\n    return;\n  }\n  console.log(\"executeYjsOperations\", yjsOperations.length);\n  if (!ydoc) return;\n  if (timeoutId) clearTimeout(timeoutId);\n  timeoutId = setTimeout(() => {\n    ydoc.transact(() => {\n      console.log(\"ydoc.transact\", yjsOperations.length);\n      yjsOperations.forEach((op) => {\n        switch (op.type) {\n          case \"set\":\n            // @ts-ignore - ymap is Yjs Map or Doc\n            op.ymap.set(op.key, op.value);\n            break;\n          case \"delete\":\n            if (op.yparent instanceof Y.Map && op.key) {\n              op.yparent.delete(op.key);\n            } else if (op.yparent instanceof Y.Array && op.index) {\n              op.yparent.delete(op.index);\n            }\n            break;\n          case \"insert\":\n            op.yarray.insert(op.index, op.content);\n            break;\n          default:\n            throw UNEXPECTED();\n        }\n      });\n    });\n    yjsOperations.length = 0;\n  }, 0);\n};\n\nexport const setYMapOrDoc = (\n  ymap: Y.Map<any> | Y.Doc,\n  key: string,\n  value: any,\n  doc: Y.Doc\n) => {\n  if (value[$PROXY]) {\n    ERROR([\"setYMap\"], \"trying to set a solid-proxy inside a yjs-object\");\n    return;\n  }\n  //  TODO: typescript says Y.Doc does not have set\n  yjsOperations.push({\n    type: \"set\",\n    ymap: ymap,\n    key: key,\n    value: value,\n  });\n  executeYjsOperations(doc);\n  // ymap.set(key, value);\n};\n\nconst setYArray = (\n  yarray: Y.Array<any>,\n  index: number,\n  value: any,\n  ydoc: Y.Doc\n) => {\n  if (yarray.length > index) {\n    yjsOperations.push({\n      type: \"delete\",\n      yparent: yarray,\n      index: index,\n    });\n\n    // yarray.insert(index, [value]);\n    yjsOperations.push({\n      type: \"insert\",\n      yarray: yarray,\n      index: index,\n      content: [value],\n    });\n    executeYjsOperations(ydoc);\n  }\n};\n\nexport const deleteYValue = (\n  yparent: Y.Array<any> | Y.Map<any>,\n  keyOrIndex: number | string,\n  ydoc: Y.Doc\n) => {\n  if (yparent instanceof Y.Array && typeof keyOrIndex === \"number\") {\n    // yparent.delete(keyOrIndex);\n    yjsOperations.push({\n      type: \"delete\",\n      yparent: yparent,\n      index: keyOrIndex,\n    });\n    executeYjsOperations(ydoc);\n  } else if (yparent instanceof Y.Map && typeof keyOrIndex === \"string\") {\n    // yparent.delete(keyOrIndex);\n    yjsOperations.push({\n      type: \"delete\",\n      yparent: yparent,\n      key: keyOrIndex,\n    });\n    executeYjsOperations(ydoc);\n  } else {\n    UNEXPECTED(yparent, keyOrIndex);\n  }\n};\n\nexport const setYValue = (\n  yparent: Y.Array<any> | Y.Map<any> | Y.Doc,\n  keyOrIndex: number | string,\n  value: any,\n  ydoc: Y.Doc\n) => {\n  if (yparent instanceof Y.Array && typeof keyOrIndex === \"number\") {\n    setYArray(yparent, keyOrIndex, value, ydoc);\n  } else if (\n    (yparent instanceof Y.Map || yparent instanceof Y.Doc) &&\n    typeof keyOrIndex === \"string\"\n  ) {\n    setYMapOrDoc(yparent, keyOrIndex, value, ydoc);\n  } else {\n    UNEXPECTED(yparent, keyOrIndex, value);\n  }\n};\n\nexport const getYValue = (\n  yparent: Y.Map<any> | Y.Array<any> | Y.Doc,\n  keyOrIndex: string | number\n) => {\n  if (keyOrIndex === undefined) {\n    return yparent;\n  } else if (yparent instanceof Y.Array && typeof keyOrIndex === \"number\") {\n    return yparent.get(keyOrIndex);\n  } else if (\n    (yparent instanceof Y.Map || yparent instanceof Y.Doc) &&\n    typeof keyOrIndex === \"string\"\n  ) {\n    return yparent.get(keyOrIndex);\n  } else {\n    UNEXPECTED(yparent, keyOrIndex, yparent[$PROXY]);\n  }\n};\n","export default function concat<T extends any[]>(arg1: T, ...args: T[]) {\n  return arg1.concat(...args)\n}\n","import { batch } from 'solid-js'\n\nexport default class Queue {\n  queue: (() => void)[] = []\n  start = performance.now()\n  add(callback: () => void) {\n    if (this.queue.length === 0) {\n      this.start = performance.now()\n      setTimeout(() => this.execute(), 50)\n    }\n    this.queue.push(callback)\n    // callback()\n  }\n  execute() {\n    batch(() => this.queue.forEach((callback) => callback()))\n    this.queue = []\n  }\n}\n","import { createStore } from 'solid-js/store'\n\nexport default <T extends object>(leaf: T) => createStore(leaf)[1]\n","import { $PROXY, batch } from \"solid-js\";\nimport {\n  createStore,\n  produce,\n  reconcile,\n  SetStoreFunction,\n  StoreNode,\n  unwrap,\n} from \"solid-js/store\";\nimport * as Y from \"yjs\";\n\nimport minimumMutationOperations from \"./minimumMutationOperations\";\nimport { deleteYValue, getYValue, setYValue } from \"./utils/yjsHelpers\";\n\nimport concat from \"./utils/concat\";\nimport { LOG, UNEXPECTED } from \"./utils/logHelpers\";\nimport Queue from \"./utils/Queue\";\nimport setLeaf from \"./utils/setLeaf\";\n\ntype YMapOrArray = Y.Map<any> | Y.Array<any>;\ntype YParent = Y.Doc | Y.Array<any> | Y.Map<any>;\n\n\nconst isPrimitive = (value: any) =>\n  typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\" \n\nexport default function <T extends { [key: string]: any }>(\n  ydoc: Y.Doc,\n  value: T,\n  log: boolean = false\n) {\n  const [store, setStore] = createStore<T>(value);\n  const q = new Queue();\n  const observers = new Map<any, any>();\n\n  const optimizeMutationOperations = (\n    ops: ReturnType<typeof minimumMutationOperations>,\n    yArray: Y.Array<any>\n  ) => {\n    //  if multiple delete-operations are sequential: bundle them together\n    //  p.ex  yparent.delete(0, 1), yparent.delete(1, 1), yparent.delete(2, 1)\n    //        => yparent.delete(0, 3)\n\n    const deleted = concat(\n      ops.moved.map(({ oldIndex }) => oldIndex),\n      ops.deleted\n      //  TODO: if ops.dirty is a primitive we should add + delete it\n      //        but if it's an object/array we should probably only add + delete it\n      //        if we are instantiating the object/array.\n      //        if the object/array is already instantiated, we should probably do a more finegrained approach\n\n      //        another possible optimization would be to filter out updates of the children in case one of the ancestors is already dirty\n      // ops.dirty\n    ).sort((a, b) => b - a);\n\n    log && LOG([\"optimizeMutationOperations\", \"deleted is\"], deleted);\n\n    const optimizedDeleted: { index: number; length: number }[] = [];\n\n    deleted.forEach((value, index) => {\n      if (index !== 0 && value - deleted[index - 1] === 1) {\n        optimizedDeleted[optimizedDeleted.length - 1].length++;\n      } else {\n        optimizedDeleted.push({\n          index: value,\n          length: 1,\n        });\n      }\n    });\n\n    //  if multiple add-operations are sequential: bundle them together\n    //  p.ex  yparent.insert(0, [value1]), yparent.delete(1, [value2]), yparent.delete(2, [value3])\n    //        => yparent.delete(0, [value1, value2, value3])\n\n    const added = concat(\n      ops.moved.map(({ newIndex, oldIndex }) => ({\n        index: newIndex,\n        value: yArray.get(oldIndex),\n      })),\n      ops.added.map(({ index, value }) => {\n        return { index, value: createYjsBranch(value) };\n      })\n      //  TODO: if ops.dirty is a primitive we should add + delete it\n      //        but if it's an object/array we should probably only add + delete it\n      //        if we are instantiating the object/array.\n      //        if the object/array is already instantiated, we should probably do a more finegrained approach\n\n      //        another possible optimization would be to filter out updates of the children in case one of the ancestors is already dirty\n      // ops.dirty.map((index) => {\n      //   return { index, value: createYjsBranch(observers.get(yArray)[index]) }\n      // })\n    ).sort((a, b) => a.index - b.index);\n\n    log && LOG([\"optimizeMutationOperations\", \"added is\"], added, ops.added);\n\n    const optimizedAdded: { index: number; values: any[] }[] = [];\n\n    added.forEach(({ value, index }, i) => {\n      if (i !== 0 && value.index - added[i - 1].index === 1) {\n        optimizedAdded[optimizedAdded.length - 1].values.push(value);\n      } else {\n        optimizedAdded.push({ index, values: [value] });\n      }\n    });\n\n    return {\n      deleted: optimizedDeleted,\n      added: optimizedAdded,\n    };\n  };\n\n  const createYjsBranch = (svalue: any) => {\n    log && LOG([\"createYjsBranch\"], svalue);\n\n    if (isPrimitive(svalue)) {\n      return svalue;\n    } else if (Array.isArray(svalue)) {\n      const values = svalue.map((value) => createYjsBranch(value));\n      const yArray = new Y.Array();\n      setObserver(yArray, svalue);\n      yArray.insert(0, values);\n      return yArray;\n    } else if (typeof svalue === \"object\") {\n      const entries: [key: string, value: any][] = Object.entries(svalue).map(\n        ([key, value]) => {\n          const yvalue = createYjsBranch(value);\n          return [key, yvalue];\n        }\n      );\n      const ymap = new Y.Map(entries);\n      setObserver(ymap, svalue);\n      return ymap;\n    } else {\n      UNEXPECTED(svalue,\"svalue is not primitive, array or object\");\n    }\n  };\n\n  const solidToYjs = (\n    yparent: Y.Map<any> | Y.Array<any> | Y.Doc,\n    sparent: any,\n    key: string | number,\n    newValue: any\n  ) => {\n    log && LOG([\"solidToYjs\"], yparent, sparent, key, newValue);\n\n    if (!sparent) {\n      UNEXPECTED(\"sparent is undefined\");\n      return false;\n    }\n\n    if (!yparent) {\n      UNEXPECTED(\"yparent is undefined\", sparent);\n      return false;\n    }\n\n    if (isPrimitive(newValue)) {\n      setYValue(yparent, key, newValue, ydoc);\n    } else if (newValue === undefined && yparent instanceof Y.Map) {\n      // in solid setting undefined in setStore -> remove the key\n      deleteYValue(yparent, key, ydoc);\n    } else if (Array.isArray(newValue)) {\n      solidArrayToYjs(yparent, sparent, key, newValue);\n    } else if (typeof newValue === \"object\") {\n      solidObjectToYjs(yparent, sparent, key, newValue);\n    }\n  };\n\n  const solidArrayToYjs = (\n    yparent: Y.Map<any> | Y.Array<any> | Y.Doc,\n    sparent: any,\n    key: string | number,\n    newValue: any\n  ) => {\n    if (key && !(key in sparent)) setLeaf(sparent)(key, []);\n\n    const svalue = sparent[key];\n    let yvalue = getYValue(yparent, key);\n\n    if (!yvalue) {\n      yvalue = new Y.Array();\n      setYValue(yparent, key, yvalue, ydoc);\n    }\n    if (!(yvalue instanceof Y.Array)) {\n      UNEXPECTED(yvalue);\n      return;\n    }\n\n    // TODO:  we compare oldSArray instead of yArray so we can do shallow checks.\n    //        but i am not a 100% sure svalue will always gonna be defined when yvalue is defined.\n\n    const ops = minimumMutationOperations(svalue, newValue, dirty.get(svalue));\n    log && LOG([\"minimumMutationOperations\"], ops);\n    // ops.dirty = Array.from(dirty.get(svalue) || []).map((index) => +index)\n\n    const { deleted, added } = optimizeMutationOperations(ops, yvalue);\n\n    log && LOG([\"solidArrayToYjs\"], ops);\n\n    yvalue.doc?.transact(() => {\n      deleted.forEach(({ index, length }) => yvalue.delete(index, length));\n      added.forEach(({ index, values }) => yvalue.insert(index, values));\n    });\n\n    if (newValue.length < yvalue.length)\n      yvalue.delete(newValue.length, yvalue.length - newValue.length);\n  };\n\n  const solidObjectToYjs = (\n    yparent: Y.Map<any> | Y.Array<any> | Y.Doc,\n    sparent: any,\n    key: string | number,\n    newValue: any\n  ) => {\n    if (key && !(key in sparent)) setLeaf(sparent)(key, {});\n\n    const svalue = key ? sparent[key] : sparent;\n    let yvalue = getYValue(yparent, key);\n\n    if (!yvalue) {\n      yvalue = new Y.Map();\n      setYValue(yparent, key, yvalue, ydoc);\n\n      Object.entries(newValue).forEach(([key2, value2]) => {\n        if (value === undefined) {\n          UNEXPECTED();\n        } else if (isPrimitive(value2)) {\n          setYValue(yvalue, key2, value2, ydoc);\n        } else {\n          if (!(key2 in svalue))\n            setLeaf(svalue)(key2, Array.isArray(value2) ? [] : {});\n          solidToYjs(yvalue, svalue[key2], key2, value2);\n        }\n      });\n      return;\n    }\n\n    if (yvalue instanceof Y.Map) {\n      //  TODO\n      //  solid's stores does a shallow merge on objects\n      //  https://www.solidjs.com/docs/latest/api#createstore : 'Objects are always shallowly merged.'\n      //  since we are only checking the path, inconsistencies might arise when a signal gets shallowly merged\n      //  so that it has mutliple entry-paths in a store\n\n      log &&\n        console.info(\n          `be careful: when setting an object in a store, the object gets shallowly merged\n(see https://www.solidjs.com/docs/latest/api#createstore).\nThis can possibly create multiple entry-points of the same reactive value in a store:\n\nconst [store, setStore] = createStore({firstEntryPoint: \"ok\"});\nsetStore({secondEntryPoint: store.firstEntryPoint});\n\n=> store.secondEntryPoint points at store.firstEntryPoint.\n\nMultiple entry-points are currently not supported in yjsStore.`\n        );\n\n      if (!svalue) setLeaf(sparent)(key, {});\n\n      Object.entries(newValue).forEach(([key2, value2]) =>\n        solidToYjs(yvalue, svalue, key2, value2)\n      );\n      return;\n    }\n    UNEXPECTED(yvalue);\n  };\n\n  const getKeysToUpdateFromTransaction = (transaction: Y.Transaction) => {\n    // TODO: this is pretty hacky lol\n    return Object.values(Object.fromEntries(transaction.changed))\n      .map((set) => Array.from(set) as (string | number)[])\n      .flat();\n  };\n\n  const setObserver = (yparent: YMapOrArray, sparent: any) => {\n    if (yparent instanceof Y.Array) {\n      yparent.observe((event) =>\n        batch(() => {\n          if (event.transaction.local) return;\n          let index = 0;\n          event.changes.delta.forEach((delta) => {\n            if (delta.retain) {\n              index += delta.retain;\n            } else if (delta.insert) {\n              const insert = Array.isArray(delta.insert)\n                ? delta.insert.map((yvalue) =>\n                    typeof yvalue === \"object\" ? yvalue.toJSON() : yvalue\n                  )\n                : [delta.insert];\n\n              q.add(() => {\n                setLeaf(sparent)((sparent) => [\n                  ...sparent.slice(0, index),\n                  ...insert,\n                  ...sparent.slice(index, sparent.length),\n                ]);\n                index += insert.length;\n                iterateObservers(yparent, sparent);\n              });\n            } else if (delta.delete) {\n              q.add(() => {\n                setLeaf(sparent)((sparent) => [\n                  ...sparent.slice(0, index),\n                  ...sparent.slice(index + delta.delete!, sparent.length),\n                ]);\n              });\n            }\n          });\n        })\n      );\n    } else {\n      yparent.observe((event) =>\n        batch(() => {\n          event.keysChanged.forEach((keyToUpdate) => {\n            const yvalueToUpdate = getYValue(yparent, keyToUpdate);\n            if (!keyToUpdate) {\n              UNEXPECTED(\"keyToUpdate is null\", keyToUpdate);\n              return;\n            }\n            if (!yvalueToUpdate && keyToUpdate in sparent) {\n              q.add(() => setLeaf(sparent)(keyToUpdate, undefined));\n            } else if (\n              yvalueToUpdate instanceof Y.Array ||\n              yvalueToUpdate instanceof Y.Map\n            ) {\n              q.add(() => {\n                setLeaf(sparent)(\n                  keyToUpdate,\n                  reconcile(yvalueToUpdate.toJSON())\n                );\n                setObserver(yvalueToUpdate, sparent[keyToUpdate]);\n                iterateObservers(yvalueToUpdate, sparent[keyToUpdate]);\n              });\n            } else {\n              q.add(() => setLeaf(sparent)(keyToUpdate, yvalueToUpdate));\n            }\n          });\n        })\n      );\n    }\n\n    observers.set(sparent, yparent);\n    observers.set(yparent, sparent);\n  };\n\n  const iterateObservers = (\n    yparent: Y.Map<any> | Y.Array<any>,\n    sparent: any\n  ) => {\n    if (!(yparent instanceof Y.Map || yparent instanceof Y.Array)) {\n      UNEXPECTED(yparent, sparent);\n      return;\n    }\n    yparent.forEach((yvalue, key) => {\n      if (yvalue instanceof Y.Map || yvalue instanceof Y.Array) {\n        if (!sparent[key]) {\n          setLeaf(sparent)(key, Array.isArray(value) ? [] : {});\n        }\n        setObserver(yvalue, sparent[key]);\n        iterateObservers(yvalue, sparent[key]);\n      }\n    });\n  };\n\n  //  proxy for produce-function\n  //  interpolated from https://github.com/solidjs/solid/blob/main/packages/solid/store/src/modifiers.ts line 130\n  //  TODO: proxy for produce is broken.\n  const producers = new WeakMap();\n  const dirty = new Map<any, Set<string | number>>();\n  const setterTraps: ProxyHandler<StoreNode> = {\n    get(target, property): any {\n      log && console.log(\"property\", property);\n      if (property === $PROXY) return target;\n      const value = target[property];\n      if (property === \"unshift\") {\n        return target[$PROXY].unshift;\n        console.log(\"unshift!\");\n      }\n      let proxy;\n      return value?.[$PROXY]\n        ? producers.get(value) ||\n            (producers.set(value, (proxy = new Proxy(value, setterTraps))),\n            proxy)\n        : value;\n    },\n\n    set(target, property, value) {\n      if (typeof property === \"string\" && !isNaN(+property)) {\n        if (!dirty.get(target)) {\n          dirty.set(target, new Set());\n        }\n        dirty.get(target)!.add(Array.isArray(target) ? +property : property);\n      }\n\n      return true;\n    },\n\n    deleteProperty(target, property) {\n      // setProperty(target, property, undefined, true)\n      return true;\n    },\n  };\n\n  const _setStore: SetStoreFunction<typeof store> = function (...args: any) {\n    const clonedArgs = [...args];\n\n    let nextValueTemplate = args.pop();\n    let key = args.pop();\n\n    type TreeNode = {\n      sparent: any;\n      yparent: Y.Doc | Y.Array<any> | Y.Map<any>;\n      key: string;\n    };\n\n    let tree: TreeNode[][] = [[{ sparent: store, yparent: ydoc, key: \"\" }]];\n\n    while (args.length > 0) {\n      const nextArg = (\n        args as (number | string | boolean | ((state: any) => boolean))[]\n      ).shift()!;\n      const currentLayer = tree[tree.length - 1];\n\n      LOG([\"_setStore\", \"currentLayer\"], currentLayer);\n      const nextLayer: TreeNode[] = [];\n      //  filter functions inside store\n      //  see https://www.solidjs.com/docs/latest/api#updating-stores\n      if (typeof nextArg === \"function\") {\n        currentLayer.forEach(({ sparent, yparent }) => {\n          if (Array.isArray(sparent) && yparent instanceof Y.Array) {\n            const filtered = sparent\n              .map((element, index) => [element, index])\n              .filter(([element]) => nextArg(element))\n              .map(([svalue, index]) => ({\n                sparent: svalue,\n                yparent: yparent.get(index),\n                key: nextArg.toString(),\n              }));\n            nextLayer.push(...filtered);\n          } else {\n            console.warn(yparent, sparent, nextArg);\n            UNEXPECTED(sparent, yparent);\n          }\n        });\n      } else {\n        currentLayer.forEach(({ sparent, yparent }) => {\n        const nextSparent = sparent[nextArg as keyof typeof sparent] \n        let nextYparent = 'get' in yparent ? yparent.get(nextArg) : undefined;\n          if (!nextYparent) {\n            console.log(\"nextYparent is undefined\", yparent, nextArg);\n            yparent = createYjsBranch(sparent);\n            nextYparent = yparent.get(nextArg);\n            console.log(\"nextYparent is now\", nextYparent, yparent);\n          }\n          console.log(\"nextSparent\", nextSparent, nextYparent);\n        if (nextSparent !== undefined && nextYparent) {\n          nextLayer.push({\n            sparent: nextSparent,\n            yparent: nextYparent as YParent,\n            key: nextArg.toString(),\n          });\n          }else {\n          console.warn('Failed to access sparent or yparent with key:', nextArg, typeof nextSparent);\n          UNEXPECTED();\n        }\n        });\n      }\n      tree.push(nextLayer);\n    }\n\n    log && console.log(\"THIS IS HAPPENING\");\n\n    tree[tree.length - 1].forEach(({ sparent, yparent }) => {\n      let nextValue = nextValueTemplate;\n      console.log(\"nextValue\", nextValue, yparent, sparent);\n\n      if (typeof nextValue === \"function\") {\n        //  TODO: figure out a less hacky way to figure out if it is a produce-function or not\n        const produceToString = produce(() => {})\n          .toString()\n          .replace(/\\s/g, \"\");\n        const nextValueToString = nextValue.toString().replace(/\\s/g, \"\");\n\n        if (nextValueToString === produceToString) {\n          // TODO:  produce is pretty broken atm: look at unshift.\n\n          //  if produce: pass a mutable proxy to the function\n          //  dirty is a map that keeps track of all the elements that are being mutated\n          dirty.clear();\n          let proxy;\n          producers.set(\n            sparent as Record<keyof T, T[keyof T]>,\n            (proxy = new Proxy(sparent[key] as Extract<T, object>, setterTraps))\n          );\n          nextValue(proxy);\n          log && console.log(\"PROXY is \", proxy, proxy[$PROXY]);\n          // solidToYjs(yparent, sparent, key, nextValue)\n\n          Array.from(dirty.entries()).forEach(([svalue, properties]) => {\n            const yvalue = observers.get(svalue);\n            properties.forEach((property) => {\n              log && console.log(yparent, svalue, property, svalue[property]);\n              solidToYjs(yvalue, svalue, property, svalue[property]);\n            });\n          });\n          setLeaf(sparent)(key, reconcile(proxy[$PROXY]));\n        } else {\n          //  set nextValue as the result of the function\n          nextValue = nextValue(sparent[key]);\n          solidToYjs(yparent, sparent, key, nextValue);\n          setLeaf(sparent)(key, nextValue);\n          if (!(yparent instanceof Y.Doc)) iterateObservers(yparent, sparent);\n        }\n      } else {\n        solidToYjs(yparent, sparent, key, nextValue);\n        setLeaf(sparent)(key, nextValue);\n      }\n    });\n  };\n\n  Object.entries(value).forEach(([key, value]) => {\n    if (typeof value === \"object\") {\n      const array = Array.isArray(value)\n        ? ydoc.getArray(key)\n        : ydoc.getMap(key);\n      setObserver(array, store[key]);\n      iterateObservers(array, store[key]);\n    } else {\n      console.error(\"currently only arrays and objects are allowed\");\n    }\n  });\n\n  return [store, _setStore] as const;\n}\n","import { exponentialBackoff } from \"./helpers\";\nimport { WorkerResponse } from \"./y-opfs\";\n\n//https://github.com/rhashimoto/wa-sqlite/blob/master/demo/SharedService/SharedService.js\nconst PROVIDER_REQUEST_TIMEOUT: number = 1000;\n\ntype PromiseCallback<T> = {\n  resolve: (value: T | PromiseLike<T>) => void;\n  reject: (reason?: any) => void;\n};\n\nexport class SharedService extends EventTarget {\n  #serviceName: string;\n  #clientId: Promise<string>;\n  #portProviderFunc: () => MessagePort | Promise<MessagePort>;\n\n  // This BroadcastChannel is used for client messaging. The provider\n  // must have a separate BroadcastChannel in case the instance is\n  // both client and provider.\n  #clientChannel: BroadcastChannel = new BroadcastChannel(\"SharedService\");\n\n  #onDeactivate?: AbortController | null = null;\n  #onClose: AbortController = new AbortController();\n\n  // This is client state to track the provider. The provider state is\n  // mostly managed within activate().\n  #providerPort: Promise<MessagePort | null>;\n  providerCallbacks: Map<string, PromiseCallback<any>> = new Map();\n  #providerCounter: number = 0;\n  #providerChangeCleanup: (() => void)[] = [];\n\n  proxy: Record<string, (...args: any[]) => Promise<any>>;\n\n  constructor(\n    serviceName: string,\n    portProviderFunc: () => MessagePort | Promise<MessagePort>,\n  ) {\n    super();\n\n    console.log(\"SharedService constructor\", portProviderFunc);\n    this.#serviceName = serviceName;\n    this.#portProviderFunc = portProviderFunc;\n\n    this.#clientId = this.#getClientId();\n    console.log(\"SharedService clientId\", this.#clientId);\n\n    this.#providerPort = this.#providerChange();\n    this.#clientChannel.addEventListener(\n      \"message\",\n      ({ data }) => {\n        if (\n          data?.type === \"provider\" &&\n          data?.sharedService === this.#serviceName\n        ) {\n          console.log(\"SharedService provider change\", data);\n          // A context (possibly this one) announced itself as the new provider.\n          // Discard any old provider and connect to the new one.\n          this.#closeProviderPort(this.#providerPort);\n          this.#providerPort = this.#providerChange();\n        }\n      },\n      { signal: this.#onClose.signal }\n    );\n\n    this.proxy = this.#createProxy();\n  }\n\n  async activate(callback: () => void): Promise<void>\n{\n    console.log(\"SharedService activate called\");\n\n    if (this.#onDeactivate) {\n      console.warn(\"SharedService activate called twice\");\n      return;\n    }\n\n    this.#onDeactivate = new AbortController();\n    const lockName = `SharedService-${this.#serviceName}`;\n\n    console.log(await navigator.locks.query());\n      const lock = (await navigator.locks.query()).held?.find(\n        (lock) => lock.name === lockName\n      );\n    if (lock) {\n      console.log(\"SharedService lock already held\");\n      callback();\n    }\n\n    try {\n      await navigator.locks.request(\n        lockName,\n        {\n          signal: this.#onDeactivate.signal,\n          mode: \"exclusive\",\n        },\n        async (lock) => {\n          console.log(\"SharedService lock acquired\");\n          try {\n            await this.executeLockedSection(callback);\n          } catch (innerError) {\n            console.error(\n              \"An error occurred within the lock-acquired section:\",\n              innerError\n            );\n            throw innerError;\n          }\n        }\n      );\n    } catch (error) {\n      console.error(\"Error in lock acquisition or execution:\", error);\n      throw error;\n    } finally {\n      console.log(\"SharedService lock released\");\n      this.cleanupResources();\n    }\n  }\n  private async executeLockedSection(callback: () => void) {\n    // Obtain the port and start listening\n    const port = await this.#portProviderFunc();\n    port.start();\n\n    // Obtain a BroadcastChannel and listen for client requests\n    const providerId = await this.#clientId;\n    const broadcastChannel = new BroadcastChannel(\"SharedService\");\n    this.listenForClientRequests(port, broadcastChannel, callback);\n\n    // Announce ourselves as the new provider\n    broadcastChannel.postMessage({\n      type: \"provider\",\n      sharedService: this.#serviceName,\n      providerId,\n    });\n\n    // Wait for an abort signal to clean up\n    return new Promise<void>((_, reject) => {\n      this.#onDeactivate!.signal.addEventListener(\"abort\", async () => {\n        console.log(\"Cleanup\");\n        await this.proxy[\"cleanup\"]()\n        broadcastChannel.close();\n        reject(this.#onDeactivate?.signal.reason);\n      });\n    });\n  }\n\n  private listenForClientRequests(\n    port: MessagePort, broadcastChannel: BroadcastChannel,\n    callback: () => void\n  ) {\n    broadcastChannel.addEventListener(\n      \"message\",\n      async ({ data }) => {\n        if (\n          data?.type === \"request\" &&\n          data?.sharedService === this.#serviceName\n        ) {\n          console.log(\"SharedService request received\", data);\n          const requestedPort = await this.getPortForClient(\n            port,\n            data.clientId\n          );\n          console.log(\"SharedService port obtained\", requestedPort);\n          this.#sendPortToClient(data, requestedPort);\n          callback();\n        }\n      },\n      { signal: this.#onDeactivate!.signal }\n    );\n  }\n\n  private async getPortForClient(\n    port: MessagePort,\n    clientId: string\n  ): Promise<MessagePort> {\n    console.log(\"SharedService getPortForClient called\", clientId);\n    return new Promise<MessagePort>((resolve) => {\n      port.addEventListener(\n        \"message\",\n        (event) => {\n          console.log(\"SharedService getPortForClient message received\", event);\n          resolve(event.ports[0]);\n        },\n        {\n          once: true,\n        }\n      );\n      port.postMessage(clientId);\n    });\n  }\n\n  private cleanupResources() {\n    if (this.#onDeactivate) {\n      this.#onDeactivate?.abort();\n      this.#onDeactivate = null;\n    }\n  }\n\n  deactivate() {\n    console.log(\"SharedService deactivate called\");\n    this.#onDeactivate?.abort();\n    this.#onDeactivate = null;\n  }\n\n  close() {\n    console.log(\"cleanup\")\n    this.deactivate();\n    this.#onClose.abort();\n    for (const { reject } of this.providerCallbacks.values()) {\n      reject(new Error(\"SharedService closed\"));\n    }\n  }\n\n  async #sendPortToClient(message: {\n    type: string;\n    sharedService: string;\n    clientId: string;\n    nonce: string;\n  }\n    , port: MessagePort): Promise<void> {\n    // Return the port to the client via the service worker.\n    console.log(\"SharedService port sent to client\", navigator.serviceWorker, message, port);\n    const serviceWorker = await navigator.serviceWorker.ready;\n    serviceWorker.active?.postMessage(message, [port]);\n  }\n\n  async #getClientId(): Promise<string> {\n    // Getting the clientId from the service worker accomplishes two things:\n    // 1. It gets the clientId for this context.\n    // 2. It ensures that the service worker is activated.\n    //\n    // It is possible to do this without polling but it requires about the\n    // same amount of code and using fetch makes 100% certain the service\n    // worker is handling requests.\n    // Use a Web Lock to determine our clientId.\n    let clientId: string | null = null;\n    async function fetchClientId(): Promise<string> {\n      const response = await fetch(\"/clientId\");\n      console.log(\"SharedService clientId response\", response);\n      const contentType = response.headers.get(\"content-type\");\n\n      if (response.ok && contentType?.startsWith(\"text/plain\")) {\n        return response.text();\n      }\n\n      throw new Error(\"Service worker not ready or other error\");\n    }\n      clientId = await exponentialBackoff(fetchClientId, 2, 1000, 16000);\n      console.log(\"Successfully fetched clientId:\", clientId);\n\n    navigator.serviceWorker.addEventListener(\"message\", (event) => {\n      event.data.ports = event.ports;\n      console.log(\"SharedService message received FROM SERVICEWORKER\", event);\n      this.dispatchEvent(new MessageEvent(\"message\", { data: event.data }));\n    });\n    // Acquire a Web Lock named after the clientId. This lets other contexts\n    // track this context's lifetime.\n    // TODO: It would be better to lock on the clientId+serviceName (passing\n    // that lock name in the service request). That would allow independent\n    // instance lifetime tracking.\n    await SharedService.#acquireContextLock(clientId);\n\n    return clientId;\n  }\n\n  async #providerChange(): Promise<MessagePort | null> {\n    // Multiple calls to this function could be in flight at once. If that\n    // happens, we only care about the most recent call, i.e. the one\n    // assigned to this.#providerPort. This counter lets us determine\n    // whether this call is still the most recent.\n    const providerCounter = ++this.#providerCounter;\n\n    // Obtain a MessagePort from the provider. The request can fail during\n    // a provider transition, so retry until successful.\n    /** @type {MessagePort} */ let providerPort: MessagePort | null = null;\n    const clientId = await this.#clientId;\n    while (!providerPort && providerCounter === this.#providerCounter) {\n      // Broadcast a request for the port.\n      const nonce = randomString();\n      this.#clientChannel.postMessage({\n        type: \"request\",\n        nonce,\n        sharedService: this.#serviceName,\n        clientId,\n      });\n\n      // Wait for the provider to respond (via the service worker) or\n      // timeout. A timeout can occur if there is no provider to receive\n      // the broadcast or if the provider is too busy.\n      const providerPortReady = new Promise<MessagePort>((resolve) => {\n        const abortController = new AbortController();\n        this.addEventListener(\n          \"message\",\n          (event) => {\n            console.log(\"Provider port received\", event);\n            if ((event as MessageEvent).data?.nonce === nonce) {\n              resolve((event as MessageEvent).data.ports[0]);\n              abortController.abort();\n            }\n          },\n          { signal: abortController.signal }\n        );\n        this.#providerChangeCleanup.push(() => abortController.abort());\n      });\n\n      providerPort = await Promise.race([\n        providerPortReady,\n        new Promise<null>((resolve) =>\n          setTimeout(() => resolve(null), PROVIDER_REQUEST_TIMEOUT)\n        ),\n      ]);\n\n      if (!providerPort) {\n        // The provider request timed out. If it does eventually arrive\n        // just close it.\n        providerPortReady.then((port) => port?.close());\n      }\n    }\n\n    if (providerPort && providerCounter === this.#providerCounter) {\n      // Clean up all earlier attempts to get the provider port.\n      this.#providerChangeCleanup.forEach((f) => f());\n      this.#providerChangeCleanup = [];\n\n      // Configure the port.\n      providerPort.addEventListener(\"message\", ({ data }) => {\n        const callbacks = this.providerCallbacks.get(data.nonce);\n        if (!data.error) {\n          callbacks?.resolve(data.result);\n        } else {\n          callbacks?.reject(Object.assign(new Error(), data.error));\n        }\n      });\n      providerPort.start();\n      return providerPort;\n    } else {\n      // Either there is no port because this request timed out, or there\n      // is a port but it is already obsolete because a new provider has\n      // announced itself.\n      providerPort?.close();\n      return null;\n    }\n  }\n\n  #closeProviderPort(providerPort: Promise<MessagePort | null>): void {\n    providerPort.then((port) => port?.close());\n    for (const { reject } of this.providerCallbacks.values()) {\n      reject(new Error(\"SharedService provider change\"));\n    }\n  }\n\n  #createProxy(): any {\n    return new Proxy(\n      {},\n      {\n        get: (_, method) => {\n          return async (...args: any[]) => {\n            // Use a nonce to match up requests and responses. This allows\n            // the responses to be out of order.\n            const nonce = randomString();\n\n            const providerPort = await this.#providerPort;\n            console.log(\"finally\", nonce, method, args);\n            return new Promise((resolve, reject) => {\n              this.providerCallbacks.set(nonce, { resolve, reject });\n              providerPort?.postMessage({ nonce, method, args });\n            }).finally(() => {\n              this.providerCallbacks.delete(nonce);\n            });\n          };\n        },\n      }\n    );\n  }\n\n  static #acquireContextLock = (function() {\n    let p: Promise<void> | undefined;\n    return function(clientId: string): Promise<void> {\n      return p\n        ? p\n        : (p = new Promise((resolve) => {\n          navigator.locks.request(\n            clientId,\n            () =>\n              new Promise((_) => {\n                resolve();\n              })\n          );\n        }));\n    };\n  })();\n}\n\n/**\n * Wrap a target with MessagePort for proxying.\n * @param {object} target\n * @returns\n */\ntype Res = Record<\"read\" | \"write\" | \"trim\" | \"cleanup\"\n  , (...args: any[]) => Promise<WorkerResponse<\"read\" | \"write\" | \"trim\" | \"cleanup\">>>;\nexport function createSharedServicePort(target: Res\n): MessagePort {\n  console.log(\"createSharedServicePort\", target);\n  const { port1: providerPort1, port2: providerPort2 } = new MessageChannel();\n  console.log(\"Listening to message events on provider port 1\", providerPort1);\n  providerPort1.addEventListener(\"message\", ({ data: clientId }) => {\n    const { port1, port2 } = new MessageChannel();\n\n    // The port requester holds a lock while using the channel. When the\n    // lock is released by the requester, clean up the port on this side.\n    console.log(\"Requesting lock\", clientId);\n    navigator.locks.request(clientId, () => {\n      port1.close();\n    });\n\n    port1.addEventListener(\"message\", async ({ data }: { data: { nonce: string, method: \"read\" | \"write\" | \"trim\" | \"cleanup\", args: any[] } }) => {\n      console.log(\"service worker received message\", data);\n      const response: any = { nonce: data.nonce };\n      try {\n        response.result = await target[data.method](...data.args);\n      } catch (e: any) {\n        // Error is not structured cloneable so copy into POJO.\n        const error =\n          e instanceof Error\n            ? Object.fromEntries(\n              Object.getOwnPropertyNames(e).map((k) => [k, e[k]])\n            )\n            : e;\n        response.error = error;\n      }\n      port1.postMessage(response);\n    });\n    port1.start();\n    providerPort1.postMessage(null, [port2]);\n  });\n  providerPort1.start();\n  return providerPort2;\n}\n\nfunction randomString() {\n  return Math.random().toString(36).replace(\"0.\", \"\");\n}\n","import * as Y from \"yjs\";\nimport { ObservableV2 } from \"lib0/observable\";\nimport { createSharedServicePort, SharedService } from \"./SharedService\";\nexport type WorkerMessage<A extends \"read\" | \"write\" | \"trim\" | \"cleanup\"> = {\n  action: A;\n  payload: {\n    roomName: string;\n    content?: Uint8Array; // optional for \"read\"\n  };\n};\nfunction fnv1aHash(update: Uint8Array): string {\n  const FNV_PRIME = 0x01000193; // 16777619\n  const OFFSET_BASIS = 0x811C9DC5; // 2166136261\n\n  let hash = OFFSET_BASIS;\n  for (const byte of update) {\n    hash ^= byte;\n    hash *= FNV_PRIME;\n    hash >>>= 0; // Use unsigned right shift to ensure we stay within 32 bit range\n  }\n\n  return hash.toString(16); // Return hash as hexadecimal string\n}\n\nexport type WorkerResponse<A extends \"read\" | \"write\" | \"trim\" | \"cleanup\"> =\n  A extends \"read\"\n  ? { updates: Uint8Array[] }\n  : A extends \"write\"\n  ? { success: boolean }\n  : A extends \"trim\"\n  ? { success: boolean }\n  : A extends \"cleanup\"\n  ? { success: boolean }\n  : never;\n\nexport default class OpfsPersistence extends ObservableV2<{\n  [key: string]: any;\n}> {\n  private worker: Worker | null = null;\n\n  private debug: boolean;\n\n  private readonly PREFERRED_TRIM_SIZE = 10;\n  private _updateCount = 0;\n  private readonly DEBOUNCE_TIMEOUT = 1000;\n  private _destroyed = false;\n  private _storeTimeoutId: NodeJS.Timeout | null = null;\n  whenSynced: () => Promise<this>;\n  private _sharedService: SharedService | null = null;\n  synced = false;\n  private _timerId: NodeJS.Timeout | null = null;\n\n  /**\n   *\n   * @param {Y.Doc} ydoc - The Y.js document to be synchronized.\n   * @param {string} room - The room or namespace associated with the Y.js document.\n   * @param {boolean} debug - Flag to enable logging.\n   */\n  constructor(public room: string, public ydoc: Y.Doc, debug: boolean = false) {\n    super();\n    this.debug = debug;\n    this.log(\"Initializing YOpfsProvider...\");\n    this.worker = new Worker(\"/OpfsWorker.js\");\n    console.time(\"OPFS\");\n\n    this.whenSynced = () =>\n      new Promise((resolve) => {\n        this.on(\"synced\", () => {\n          resolve(this);\n        });\n      });\n\n    ydoc.on(\"update\", (update, origin) => {\n      this._storeUpdate(update, origin);\n    });\n    ydoc.on(\"destroy\", () => {\n      this.destroy();\n    });\n  }\n\n  private _getSessionId = (): string => {\n    let sessionId = sessionStorage.getItem(\"sessionId\");\n    if (!sessionId) {\n      sessionId = Math.random().toString(36).substring(2, 15);\n      sessionStorage.setItem(\"sessionId\", sessionId);\n    }\n    return sessionId;\n  };\n\n\n  private _storeUpdate = async (update: any, origin: any) => {\n    this.log(\"Received update from Y.Doc...\", update, origin);\n    if (origin !== this && !this._destroyed) {\n      if (this._timerId) {\n        clearTimeout(this._timerId);\n      }\n      const lock = (await navigator.locks.query()).held?.find(\n        (lock) => lock.name === `SharedService-${this.room}`\n      );\n      if (!this.synced && !lock) {\n        this.log(\"Waiting for sync...\");\n        this._timerId = setTimeout(() => {\n          this._storeUpdate(update, origin);\n        }, 1000);\n        return;\n      }\n      const updateHash = fnv1aHash(update);\n      const {updates} = await this._sharedService?.proxy[\"read\"]();\n      console.log(\"updates\", updates);\n\n\n      this.log(\n        \"Received a local Y.Doc update or an update from another provider.\",\n        update,\n        origin,\n        this,\n        this._updateCount\n      );\n\n      this._sharedService?.proxy[\"write\"](update);\n\n      if (++this._updateCount >= 10) {\n        if (this._storeTimeoutId !== null) {\n          clearTimeout(this._storeTimeoutId);\n        }\n        const updates: Uint8Array = Y.encodeStateAsUpdate(this.ydoc);\n        const updatesSizeMB = updates.byteLength / 1024 / 1024;\n        console.log(`updates size: ${updatesSizeMB} MB`);\n        this._storeTimeoutId = setTimeout(() => {\n          this.log(\"Trimming updates file...\");\n          this._sharedService?.proxy[\"trim\"](updates);\n          this._storeTimeoutId = null;\n          this._updateCount = 0;\n        }, this.DEBOUNCE_TIMEOUT);\n      }\n    }\n  };\n\n  private log = (...args: any[]) => {\n    if (this.debug) {\n      console.log(...args);\n    }\n  };\n\n  private sendMessage<A extends \"read\" | \"write\" | \"trim\" | \"cleanup\">(\n    message: WorkerMessage<A>\n  ): Promise<WorkerResponse<A>> {\n    return new Promise((resolve, reject) => {\n      if (!this.worker) {\n        reject(\"Worker not initialized.\");\n        return;\n      }\n\n      const messageHandler = (event: MessageEvent) => {\n        resolve(event.data);\n        this.worker?.removeEventListener(\"message\", messageHandler);\n      };\n\n      const errorHandler = (error: Event) => {\n        if (error instanceof ErrorEvent) {\n          reject(error);\n        }\n        this.worker?.removeEventListener(\"error\", errorHandler);\n      };\n      this.worker.onerror = errorHandler;\n      this.worker.onmessage = messageHandler;\n\n      this.worker.postMessage(message);\n    });\n  }\n  activateCalled = false;\n\n  /**\n   * Synchronizes the Y.js document with the stored updates from the OPFS.\n   */\n  async sync(): Promise<void> {\n    return new Promise(async (resolve, reject) => {\n      try {\n        this.log(\"Synchronizing Y.Doc with OPFS...\");\n        console.time(\"OPFS: getStoredUpdates\");\n        // const { updates } = await this.sendMessage({\n        //   action: \"read\",\n        //   payload: { roomName: this.room },\n        // });\n        this._sharedService = new SharedService(this.room, () => {\n          return createSharedServicePort({\n            read: async () => {\n              console.log(\"Calling read\");\n              return new Promise((resolve, reject) => {\n                if (!this.worker) {\n                  reject(\"Worker not initialized.\");\n                  return;\n                }\n\n                const messageHandler = (event: MessageEvent) => {\n                  resolve(event.data);\n                  this.worker?.removeEventListener(\"message\", messageHandler);\n                };\n\n                const errorHandler = (error: Event) => {\n                  if (error instanceof ErrorEvent) {\n                    reject(error);\n                  }\n                  this.worker?.removeEventListener(\"error\", errorHandler);\n                };\n                this.worker.onerror = errorHandler;\n                this.worker.onmessage = messageHandler;\n\n                this.worker.postMessage({\n                  action: \"read\",\n                  payload: { roomName: this.room },\n                });\n              });\n            },\n            write: async (content: Uint8Array) => {\n              console.log(\"Calling write\");\n              return this.sendMessage({\n                action: \"write\",\n                payload: { roomName: this.room, content },\n              });\n            },\n            trim: (content: Uint8Array) => {\n              console.log(\"Calling trim\");\n              return this.sendMessage({\n                action: \"trim\",\n                payload: { roomName: this.room, content },\n              });\n            },\n            cleanup: () => {\n              return this.sendMessage({\n                action: \"cleanup\",\n                payload: { roomName: this.room },\n              })\n            }\n          });\n        });\n        console.log(\"this._sharedService\", this._sharedService);\n\n        await this._sharedService.activate(async () => {\n          console.log(\"Destroyed?\", this._destroyed, \"synced?\", this.synced);\n          if (this._destroyed || this.synced || this.activateCalled) {\n            return;\n          }\n          this.activateCalled = true;\n\n          const res = await this._sharedService?.proxy[\"read\"]();\n          console.log(\"res\", res);\n          const { updates }: { updates: Uint8Array[] } = res;\n\n          console.timeEnd(\"OPFS: getStoredUpdates\");\n          this.log(\"Received updates from OPFS.\", updates.length);\n          this._updateCount = updates.length;\n\n          // Apply each stored update to the Y.js document.\n          Y.transact(\n            this.ydoc,\n            () => {\n              updates.forEach((update) => {\n                // this.log(\"Applying stored update to Y.Doc...\");\n                Y.applyUpdate(this.ydoc, update, this);\n              });\n            },\n            this,\n            false\n          );\n          if (this._destroyed) {\n            return this;\n          }\n          this.emit(\"synced\", []);\n          this.synced = true;\n\n          console.timeEnd(\"OPFS\");\n          resolve();\n        })\n      } catch (e) {\n        console.error(\"Error syncing\", e);\n        this.destroy();\n        reject(e);\n      }\n    });\n\n\n\n  }\n\n  destroy() {\n    this.ydoc.off(\"update\", this._storeUpdate);\n    this.ydoc.off(\"destroy\", this.destroy);\n    this._destroyed = true;\n    if (this.worker) {\n      this.worker.terminate();\n    }\n    this._sharedService?.deactivate();\n  }\n}\n","import { DocTypeDescription } from \"@syncedstore/core/types/doc\";\nimport {\n  createContext,\n  createEffect,\n  createSignal,\n  from,\n  onCleanup,\n  useContext,\n} from \"solid-js\";\nimport { IndexeddbPersistence } from \"y-indexeddb\";\nimport { WebrtcProvider } from \"y-webrtc\";\nimport { ConduitPlaylist, Playlist, Preferences, RelatedStream } from \"~/types\";\nimport * as Y from \"yjs\";\nimport { createStore } from \"solid-js/store\";\nimport createYjsStore from \"~/lib/createYjsStore\";\nimport { useAppState } from \"./appStateStore\";\nimport OpfsPersistence from \"~/utils/y-opfs\";\nimport { toast } from \"~/components/Toast\";\n\nenum ProviderStatus {\n  DISCONNECTED = \"disconnected\",\n  CONNECTING = \"connecting\",\n  CONNECTED = \"connected\",\n}\n\nexport type HistoryItem = RelatedStream & {\n  watchedAt: number;\n  currentTime: number;\n};\n\nexport interface Store extends DocTypeDescription {\n  playlists: Record<string, ConduitPlaylist>;\n  history: Record<string, HistoryItem>;\n  subscriptions: Record<string, {\n    subscribedAt: number,\n    name: string,\n  }>;\n  preferences: Preferences;\n  watchLater: Record<string, RelatedStream>;\n  blocklist: Record<string, { name: string }>;\n}\nconst [initialStore] = createStore<Store>({\n  playlists: {},\n  history: {},\n  subscriptions: {},\n  preferences: {} as Preferences,\n  watchLater: {},\n  blocklist: {},\n});\n\nconst doc = new Y.Doc({\n  guid: \"test\",\n});\nconst [store, setStore] = createYjsStore<Store>(doc, initialStore, false);\nconst SyncContext = createContext({ store, setStore });\n\nexport const SyncedStoreProvider = (props: { children: any }) => {\n  const [room, setRoom] = createSignal(\n    \"localStorage\" in globalThis\n      ? (JSON.parse(localStorage.getItem(\"room\") || \"{}\") as {\n        id?: string;\n        password?: string;\n        name?: string;\n      })\n      : {}\n  );\n\n  let webrtcProvider: WebrtcProvider | null = null;\n  let idbProvider: IndexeddbPersistence | null = null;\n  let opfsProvider: OpfsPersistence | null = null;\n\n  const initWebrtc = async () => {\n    if (!room().id) {\n      setAppState(\"sync\", \"providers\", \"webrtc\", ProviderStatus.DISCONNECTED);\n      return;\n    }\n    if (webrtcProvider) {\n      console.log(\"disconnecting\");\n      webrtcProvider.disconnect();\n    }\n    setAppState(\"sync\", \"providers\", \"webrtc\", ProviderStatus.CONNECTING);\n    webrtcProvider = new WebrtcProvider(room().id!, doc, {\n      signaling: [\"wss://signaling.fly.dev\"],\n      ...(room()!.password && { password: room().password }),\n    });\n    console.log(webrtcProvider, \"webrtc provider\");\n    webrtcProvider.connect();\n  };\n\n  createEffect(async () => {\n    await initWebrtc();\n    setAppState(\"sync\", \"providers\", \"webrtc\", ProviderStatus.DISCONNECTED);\n\n    if (!webrtcProvider) return;\n    // setAppState(\"sync\", \"providers\", \"webrtc\", ProviderStatus.CONNECTED);\n    webrtcProvider.awareness.setLocalStateField(\"user\", {\n      name: room().name,\n    });\n    // setAppState(\"sync\", \"lastSync\", webrtcProvider?.awareness.states.\n\n    let users = [] as { id: number; name: string }[];\n    webrtcProvider.awareness.states.forEach((state, key) => {\n      console.log(state, key);\n      users.push({ id: key, name: state.user.name });\n    });\n    setAppState(\"sync\", \"users\", users);\n    webrtcProvider?.awareness.on(\n      \"change\",\n      ({\n        added,\n        updated,\n        removed,\n      }: {\n        added: number[];\n        updated: number[];\n        removed: number[];\n      }) => {\n        let users = [] as { id: number; name: string }[];\n        webrtcProvider!.awareness.states.forEach((state, key) => {\n          console.log(state, key);\n          users.push({ id: key, name: state.user.name });\n        });\n        setAppState(\"sync\", \"users\", users);\n        setAppState(\"sync\", \"lastSync\", new Date().getTime());\n        setAppState(\n          \"sync\",\n          \"providers\",\n          \"webrtc\",\n          webrtcProvider!.connected\n            ? ProviderStatus.CONNECTED\n            : ProviderStatus.DISCONNECTED\n        );\n        console.log(\"Awareness changed\", added, updated, removed, users);\n      }\n    );\n  });\n  const [, setAppState] = useAppState();\n\n  createEffect(async () => {\n    if (!room().id) {\n      setAppState(\"sync\", \"providers\", \"idb\", ProviderStatus.DISCONNECTED);\n      return;\n    }\n    setAppState(\"sync\", \"providers\", \"idb\", ProviderStatus.DISCONNECTED);\n    // idbProvider = new IndexeddbPersistence(room().id!, doc);\n    // idbProvider.whenSynced\n    //   .then(() => {\n    //     console.timeEnd(\"indexeddb\");\n    //     console.log(\"synced\");\n\n    //     setTimeout(() => {\n    //       setAppState(\"sync\", \"providers\", \"idb\", ProviderStatus.CONNECTED);\n    //     }, 0);\n    //   })\n    //   .catch(() => {\n    //     setAppState(\"sync\", \"providers\", \"idb\", ProviderStatus.DISCONNECTED);\n    //   });\n    opfsProvider = new OpfsPersistence(room().id!, doc, true);\n    setAppState(\"sync\", \"providers\", \"opfs\", ProviderStatus.CONNECTING);\n    try {\n      await opfsProvider.sync();\n      // await opfsProvider.whenSynced()\n      setAppState(\"sync\", \"providers\", \"opfs\", ProviderStatus.CONNECTED);\n    }\n    catch (e) {\n      console.error(\"Error syncing with OPFSx\", e);\n      setAppState(\"sync\", \"providers\", \"opfs\", ProviderStatus.DISCONNECTED);\n      toast.error(\"Error syncing with OPFS\");\n    };\n\n    onCleanup(() => {\n      idbProvider?.destroy();\n      opfsProvider?.destroy();\n    });\n  });\n  onCleanup(() => {\n    webrtcProvider?.disconnect();\n  });\n\n  return (\n    <SyncContext.Provider value={{ store, setStore }}>\n      {props.children}\n    </SyncContext.Provider>\n  );\n};\n\nexport const useSyncStore = () => {\n  const context = useContext(SyncContext);\n  if (!context) throw new Error(\"No SyncedStoreProvider!\");\n  return context;\n};\n","function testLocalStorage() {\n  try {\n    if (window.localStorage !== undefined) localStorage;\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport function setStorageValue(\n  key: string,\n  value: any,\n  storage: \"sessionStorage\" | \"localStorage\" = \"localStorage\"\n) {\n  if (typeof window === \"undefined\") return;\n  if (!testLocalStorage()) return;\n  switch (storage) {\n    case \"localStorage\":\n      localStorage.setItem(key, JSON.stringify(value));\n      break;\n    case \"sessionStorage\":\n      sessionStorage.setItem(key, JSON.stringify(value));\n      break;\n    default:\n      throw new Error(`Invalid storage: ${storage}`);\n  }\n}\n\nexport function getStorageValue(\n  key: string,\n  defaultVal: any,\n  type: \"boolean\" | \"string\" | \"number\" | \"json\" = \"string\",\n  source: \"localStorage\" | \"sessionStorage\"\n) {\n  if (typeof window === \"undefined\") return defaultVal;\n\n  const urlValue = new URLSearchParams(window.location.search).get(key);\n  const storageValue =\n    source === \"localStorage\" && testLocalStorage()\n      ? localStorage.getItem(key)\n      : sessionStorage.getItem(key);\n\n  const value = urlValue !== null ? urlValue : storageValue;\n\n  if (value !== null) {\n    switch (type) {\n      case \"boolean\":\n        switch (String(value).toLowerCase()) {\n          case \"true\":\n          case \"1\":\n          case \"on\":\n          case \"yes\":\n            return true;\n          default:\n            return false;\n        }\n      case \"string\":\n        return value;\n      case \"number\":\n        return Number(value);\n      case \"json\":\n        try {\n          const json = JSON.parse(value);\n          if (typeof json === \"string\") return JSON.parse(json);\n          return json;\n        } catch (e) {\n          console.error(e);\n          return defaultVal;\n        }\n      default:\n        throw new Error(`Invalid type: ${type}`);\n    }\n  } else {\n    return defaultVal;\n  }\n}\n","import { createContext, createEffect, on, onMount, useContext } from \"solid-js\";\nimport { createStore } from \"solid-js/store\";\nimport { getStorageValue, setStorageValue } from \"~/utils/storage\";\n\nconst preferences = createStore({\n  autoplay: false,\n  pip: false,\n  muted: false,\n  volume: 0.5,\n  speed: 1,\n  quality: \"auto\",\n  theatreMode: false,\n  loop: false,\n  instance: {\n    name: \"Piped\",\n    api_url: \"https://pipedapi.kavin.rocks\",\n    cache: true,\n    cdn: true,\n    last_checked: new Date().getTime(),\n    locations: \"\",\n    version: \"0.0.0\",\n    registered: 0,\n    s3_enabled: false,\n    up_to_date: false,\n    image_proxy_url: \"https://pipedproxy.kavin.rocks\",\n  },\n});\nconst PreferencesContext = createContext(preferences);\nexport const PreferencesProvider = (props: { children: any }) => {\n  onMount(() => {\n    preferences[1](\n      getStorageValue(\"preferences\", preferences[0], \"json\", \"localStorage\")\n    );\n  });\n  createEffect(() => {\n    console.log(preferences[0], \"preferences changed\");\n    setStorageValue(\"preferences\", preferences[0], \"localStorage\");\n  });\n\n  return (\n    <PreferencesContext.Provider value={preferences}>\n      {props.children}\n    </PreferencesContext.Provider>\n  );\n};\nexport const usePreferences = () => {\n  const context = useContext(PreferencesContext);\n  return context;\n};\n","import { JSX, Show } from \"solid-js\";\nimport { Button as KobalteButton } from \"@kobalte/core\";\nimport { Spinner } from \"./PlayerContainer\";\nimport { useNavigate } from \"@solidjs/router\";\n\nexport default function Button(props: {\n  class?: string;\n  onClick?: (e: any) => void;\n  label?: string;\n  icon?: JSX.Element;\n  isSelected?: boolean;\n  isLoading?: boolean;\n  isDisabled?: boolean;\n  appearance?: \"primary\" | \"subtle\" | \"link\" | \"danger\" | \"warning\";\n  as?: keyof JSX.IntrinsicElements;\n  href?: string;\n}) {\n  const getAppearanceClasses = (appearance?: string) => {\n    const map: Record<string, Record<string, boolean>> = {\n      primary: {\n        \"bg-primary hover:bg-primary/90 shadow hover:shadow-3xl text-text1 border-transparent hover:border-primary/30 active:bg-primary/80\":\n          true,\n      },\n      subtle: {\n        \"bg-transparent hover:bg-bg3/80 hover:shadow-3xl text-text1 border-transparent \":\n          true,\n      },\n      link: {\n        \"bg-transparent text-primary border-transparent hover:border-transparent\":\n          true,\n      },\n      danger: {\n        \"bg-red-600 hover:bg-red-600/90 shadow hover:shadow-3xl text-text1 border-transparent hover:border-red-600/30\":\n          true,\n      },\n      warning: {\n        \"bg-yellow-600 hover:bg-yellow-600/90 shadow hover:shadow-3xl text-text1 border-transparent hover:border-yellow-600/30\":\n          true,\n      },\n    };\n\n    return map[appearance ?? \"primary\"];\n  };\n  const navigate = useNavigate();\n  return (\n    <KobalteButton.Root\n      as={props.as ?? \"button\"}\n      onClick={\n        props.onClick ??\n        (() => {\n          if (props.href !== undefined) {\n            navigate(props.href);\n          }\n        })\n      }\n      disabled={props.isDisabled}\n      classList={{\n        \"relative focus-visible:ring-4 focus-visible:ring-primary/50 focus-visible:outline-none disabled:opacity-50 disabled:cursor-not-allowed duration-300 py-1 px-3 text-sm rounded-full border-4  appearance-none ease-out cursor-pointer select-none focus:outline-none transition active:translate-y-[2px]\":\n          true,\n        \"flex items-center justify-center\":\n          props.icon !== undefined && props.label !== undefined,\n        \"!text-text1 !bg-bg2\": props.isSelected === true,\n        ...getAppearanceClasses(props.appearance),\n        [props.class!]: props.class !== undefined,\n      }}\n    >\n      <Show when={props.icon !== undefined}>\n        <span\n          classList={{\n            invisible: props.isLoading,\n          }}\n        >\n          {props.icon}\n        </span>\n      </Show>\n      <Show when={props.label !== undefined}>\n        <span\n          classList={{\n            \"ml-2\": props.icon !== undefined,\n            invisible: props.isLoading,\n          }}\n        >\n          {props.label}\n        </span>\n      </Show>\n      <Show when={props.isLoading}>\n        <LoadingDots class=\"absolute h-full w-full top-0.5 left-0 flex items-center justify-center\" />\n      </Show>\n    </KobalteButton.Root>\n  );\n}\n\nexport const LoadingDots = (props: { class?: string }) => {\n  return (\n    <div\n      classList={{\n        \"flex space-x-1\": true,\n        [props.class!]: props.class !== undefined,\n      }}\n    >\n      <div class=\"w-2 h-2 bg-white rounded-full animate-bounce\" />\n      <div class=\"w-2 h-2 bg-white rounded-full animate-bounce delay-150\" />\n      <div class=\"w-2 h-2 bg-white rounded-full animate-bounce delay-300\" />\n    </div>\n  );\n};\n","import { Dialog } from \"@kobalte/core\";\nimport { FaSolidX } from \"solid-icons/fa\";\nimport { createEffect, createSignal, JSX } from \"solid-js\";\n\nexport default function Modal(props: {\n  isOpen: boolean;\n  setIsOpen: (isOpen: boolean) => void;\n  title: string;\n  children: JSX.Element;\n}): JSX.Element {\n\n  return (\n    <>\n      <Dialog.Root modal open={props.isOpen} onOpenChange={props.setIsOpen}>\n        <Dialog.Portal>\n          <Dialog.Overlay\n            class=\" fixed \n    inset-0 \n    z-50 \n    bg-black/20\n    animate-out\n    fade-out\n    data-[expanded]:animate-in\n    data-[expanded]:fade-in\n    \"\n          />\n          <div\n            class=\"fixed \n    inset-0 \n    z-[999999]\n    flex \n    items-center \n    justify-center\">\n            <Dialog.Content\n              class=\" z-50 \n    max-w-[calc(100vw-16px)] \n    max-h-[80vh]\n              my-auto\n    overflow-hidden\n    border \n    border-bg3\n    rounded-md \n    p-4 \n    bg-bg1\n    shadow-md \n    animate-out\n    fade-out\n    ease-in\n    data-[expanded]:animate-in\n    data-[expanded]:fade-in\n    data-[expanded]:duration-300\n    data-[expanded]:ease-out\n    \">\n              <div\n                class=\"flex \n    items-baseline \n    justify-between \n    mb-3\">\n                <Dialog.Title class=\"text-xl font-semibold\">\n                  {props.title}\n                </Dialog.Title>\n                <Dialog.CloseButton class=\"\">\n                  <FaSolidX fill=\"currentColor\" class=\"w-4 h-4\" />\n                </Dialog.CloseButton>\n              </div>\n              <Dialog.Description class=\"text-base \n    max-h-[calc(100vh-50px)] overflow-y-auto\"\n              >\n                {props.children}\n              </Dialog.Description>\n            </Dialog.Content>\n          </div>\n        </Dialog.Portal>\n      </Dialog.Root>\n    </>\n  );\n}\n","import { Select as KobalteSelect } from \"@kobalte/core\";\nimport { FaSolidCaretDown, FaSolidCheck, FaSolidSort } from \"solid-icons/fa\";\n\nconst Select = (props: {\n  onChange: (value: { value: string, label: string, disabled: boolean }) => void;\n  value: { value: string, label: string, disabled: boolean };\n  options: { value: string, label: string, disabled?: boolean }[];\n\n  defaultValue?: string;\n  placeholder?: string;\n}) => {\n  return (\n    <KobalteSelect.Root\n      defaultValue={props.value}\n      value={props.value}\n      onChange={props.onChange}\n      placeholder={props.placeholder}\n      optionValue={\"value\"}\n      optionTextValue={\"label\"}\n      optionDisabled={\"disabled\"}\n      gutter={0}\n\n      options={props.options}\n      itemComponent={(props) => {\n        return (\n          <KobalteSelect.Item\n            class=\"cursor-pointer w-full border-bg2 last:border-b-0 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg2 focus-visible:ring-4 focus-visible:ring-primary focus-visible:outline-none data-[disabled]:text-gray-600 data-[disabled]:cursor-not-allowed \"\n            item={props.item}\n          >\n            <KobalteSelect.Label\n              class=\"max-w-xs truncate\"\n            >{props.item.rawValue?.label}</KobalteSelect.Label>\n            <KobalteSelect.ItemIndicator class=\"inline-flex absolute left-0\">\n              <FaSolidCheck\n                fill=\"currentColor\"\n                class=\"h-4 w-4 mx-1 text-text1\"\n              />\n            </KobalteSelect.ItemIndicator>\n          </KobalteSelect.Item>\n        );\n      }}\n      class=\"relative\"\n    >\n      <KobalteSelect.Trigger class=\" p-1 outline-none bg-bg2 ring-1 ring-bg2 inline-flex items-center justify-between py-2 px-3 focus-visible:ring-2 focus-visible:ring-primary rounded-md\">\n        <KobalteSelect.Value<{ value: string, label: string, disabled: boolean }\n        >>\n          {(state) => state.selectedOption()?.label}\n        </KobalteSelect.Value>\n        <KobalteSelect.Icon>\n          <FaSolidSort\n            fill=\"currentColor\"\n            class=\"h-3 w-3 text-text1 relative left-1\"\n          />\n        </KobalteSelect.Icon>\n      </KobalteSelect.Trigger>\n      <KobalteSelect.Portal>\n        <KobalteSelect.Content class=\"bg-bg1 p-1 rounded-md z-[999999] \">\n          <KobalteSelect.Arrow />\n          <KobalteSelect.Listbox class=\"overflow-y-auto max-h-[40vh] p-2 \" />\n        </KobalteSelect.Content>\n      </KobalteSelect.Portal>\n    </KobalteSelect.Root>\n  );\n};\n\nexport default Select;\n","import { useSyncStore } from \"~/stores/syncStore\";\nimport Modal from \"../Modal\";\nimport { ConduitPlaylist, RelatedStream } from \"~/types\";\nimport { Match, Switch, createSignal } from \"solid-js\";\nimport Select from \"../Select\";\nimport Button from \"../Button\";\nimport { toast } from \"../Toast\";\n\nconst PlaylistModal = (props: {\n  isOpen: boolean, setIsOpen: (isOpen: boolean) => void, v: RelatedStream\n}) => {\n  const sync = useSyncStore();\n  const createPlaylist = () => {\n    const name = prompt(\"Playlist name\");\n    if (!name) return;\n    const id = `conduit-${Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)}`;\n    const playlist: ConduitPlaylist = {\n      name,\n      relatedStreams: [],\n      videos: 0,\n      uploader: \"You\",\n      description: \"\",\n      bannerUrl: \"\",\n      uploaderAvatar: \"\",\n      uploaderUrl: \"\",\n      thumbnailUrl: \"\",\n      nextpage: \"\",\n    }\n    sync.setStore(\"playlists\", {\n      [id]: playlist,\n    });\n  }\n  const [list, setList] = createSignal({ value: \"\", label: \"\", disabled: false });\n  return (\n    <Modal\n      isOpen={props.isOpen}\n      setIsOpen={props.setIsOpen}\n      title=\"Add to playlist\"\n    >\n      <div class=\"flex flex-col gap-4\">\n        <Switch>\n          <Match when={Object.keys(sync.store.playlists).length === 0}>\n            <div class=\"flex items-center gap-2\">\n              <div class=\"text-text1\">You don't have any playlists yet.</div>\n            </div>\n          </Match>\n          <Match when={Object.keys(sync.store.playlists).length > 0}>\n            <div class=\"text-text1\">Select a playlist to add this video to:</div>\n            <div class=\" w-full flex justify-center items-center mb-2\">\n              <Select\n                options={Object.entries(sync.store.playlists).map(([id, playlist]) => ({\n                  value: id,\n                  label: playlist.name,\n                  disabled: playlist.relatedStreams?.some((v) => v.url === props.v.url),\n                }))}\n                value={list()}\n                onChange={setList}\n                placeholder=\"Select a playlist...\"\n              />\n            </div>\n          </Match>\n        </Switch>\n      </div>\n      <div class=\"flex items-center justify-center gap-4 my-2\">\n        <Button\n          appearance=\"subtle\"\n          label=\"Create a playlist\" onClick={() => createPlaylist()} />\n        <Button\n          onClick={() => {\n            console.log(props.v, list(), sync.store.playlists[list().value]?.relatedStreams)\n            try {\n              const playlist = sync.store.playlists[list().value]\n              const order = playlist?.relatedStreams.length || 0;\n              sync.setStore(\"playlists\", list().value, \"relatedStreams\", [...playlist.relatedStreams, {\n                url: props.v.url,\n                title: props.v.title,\n                type: props.v.type,\n                duration: props.v.duration,\n                thumbnail: props.v.thumbnail,\n                uploaderName: props.v.uploaderName,\n                uploaderUrl: props.v.uploaderUrl,\n                uploaderAvatar: props.v.uploaderAvatar,\n                views: props.v.views,\n                uploaded: props.v.uploaded,\n                uploaderVerified: props.v.uploaderVerified,\n                shortDescription: \"\",\n                uploadedDate: props.v.uploadedDate,\n                isShort: props.v.isShort,\n                order,\n                timeAdded: Date.now(),\n              }])\n              toast.success(`Added \"${props.v.title.length > 20 ? props.v.title.slice(0, 20) + \"...\" : props.v.title}\" to playlist \"${playlist.name}\".`)\n              props.setIsOpen(false);\n            } catch (e) {\n              toast.error(\"Failed to add to playlist. \" + (e as any).message);\n              console.error(e);\n            }\n          }}\n          label=\"Add\"\n          isDisabled={!list().value}\n          appearance=\"primary\"\n        />\n      </div>\n\n    </Modal>\n  )\n}\n\nexport default PlaylistModal;\n","import { DropdownMenu } from \"@kobalte/core\";\nimport { BsChevronRight, BsThreeDotsVertical } from \"solid-icons/bs\";\nimport { FaRegularEye, FaRegularEyeSlash, FaSolidBan, FaSolidBug, FaSolidHeartCircleMinus, FaSolidHeartCirclePlus, FaSolidPlus, FaSolidShare } from \"solid-icons/fa\";\nimport { TbClockPlus } from \"solid-icons/tb\";\nimport { createEffect, createSignal, For, Match, onCleanup, onMount, Show, Switch } from \"solid-js\";\nimport { HistoryItem, useSyncStore } from \"~/stores/syncStore\";\nimport { ConduitPlaylist, Playlist, RelatedStream } from \"~/types\";\nimport { getVideoId, yieldToMain } from \"~/utils/helpers\";\nimport Button from \"~/components/Button\";\nimport Modal from \"~/components/Modal\"\nimport Select from \"~/components/Select\"\nimport { toast } from \"~/components/Toast\"\nimport PlaylistModal from \"../PlaylistModal\";\nimport { useAppState } from \"~/stores/appStateStore\";\n\nexport default function VideoCardMenu(props: { v: RelatedStream, progress: number | undefined }) {\n\n  const [dropdownOpen, setDropdownOpen] = createSignal(false);\n  const [modalOpen, setModalOpen] = createSignal(false);\n  const sync = useSyncStore();\n  const [playlistModalOpen, setPlaylistModalOpen] = createSignal(false);\n  const [appState, setAppState] = useAppState()\n\n\n  return (<>\n    <DropdownMenu.Root\n      // overlap={true}\n      open={dropdownOpen()}\n      onOpenChange={setDropdownOpen}\n    // gutter={0}\n    // modal={true}\n    // hideWhenDetached={true}\n    >\n      <DropdownMenu.Trigger class=\"p-1 outline-none focus-visible:ring-2 focus-visible:ring-primary rounded-md\">\n        <BsThreeDotsVertical\n          fill=\"currentColor\"\n          class=\"text-text2 w-6 h-6 group-hover:text-text1\"\n        />\n      </DropdownMenu.Trigger>\n      <DropdownMenu.Portal>\n        <DropdownMenu.Content\n          class=\"bg-bg1 border border-bg2 shadow p-2 rounded-md z-50\n                -translate-y-4\n                animate-in\n                fade-in\n                slide-in-from-top-10\n                duration-200\n                \">\n          <DropdownMenu.Arrow />\n          <DropdownMenu.Item\n            onTouchStart={() => {\n              setAppState(\"touchInProgress\", true);\n            }}\n            onSelect={() => {\n              setPlaylistModalOpen(true);\n            }}\n            class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n          >\n\n            <div class=\"flex items-center gap-2\">\n              <FaSolidPlus\n                class=\"\"\n              />\n              <div class=\"text-text1\">Add to playlist</div>\n            </div>\n          </DropdownMenu.Item>\n          <DropdownMenu.Item\n            onTouchStart={() => {\n              setAppState(\"touchInProgress\", true);\n            }}\n            onSelect={() => {\n              try {\n                sync.setStore(\"watchLater\", {\n                  [getVideoId(props.v) as string]: {\n                    title: props.v.title,\n                    url: props.v.url,\n                    duration: props.v.duration,\n                    uploaderName: props.v.uploaderName,\n                    uploaderUrl: props.v.uploaderUrl,\n                    uploaderAvatar: props.v.uploaderAvatar,\n                    views: props.v.views,\n                    uploaded: props.v.uploaded,\n                    thumbnail: props.v.thumbnail,\n                    uploaderVerified: props.v.uploaderVerified,\n                  }\n                } as Record<string, RelatedStream>\n                );\n                toast.success(`Added \"${props.v.title.length > 20 ? props.v.title.slice(0, 20) + \"...\" : props.v.title}\" to watch later.`)\n              } catch (e) {\n                toast.error(\"Failed to add to watch later. \" + (e as any).message);\n                console.error(e);\n              }\n\n            }}\n            class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n          >\n\n            <div class=\"flex items-center gap-2\">\n              <TbClockPlus\n                class=\"\"\n              />\n              <div class=\"text-text1\">Watch later</div>\n            </div>\n          </DropdownMenu.Item>\n          <Show when={props.progress === undefined}>\n            <DropdownMenu.Item\n              class=\"cursor-pointer z-50 w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n              onTouchStart={() => {\n                setAppState(\"touchInProgress\", true);\n              }}\n              as=\"button\"\n              onSelect={() => {\n                if (!props.v) return;\n                const item = {\n                  [getVideoId(props.v) as string]: {\n                    title: props.v.title,\n                    url: props.v.url,\n                    duration: props.v.duration,\n                    uploaderName: props.v.uploaderName,\n                    uploaderUrl: props.v.uploaderUrl,\n                    uploaderAvatar: props.v.uploaderAvatar,\n                    views: props.v.views,\n                    uploaded: props.v.uploaded,\n                    thumbnail: props.v.thumbnail,\n                    uploaderVerified: props.v.uploaderVerified,\n                    currentTime: props.v!.duration,\n                    watchedAt: Date.now(),\n                  },\n                } as Record<string, HistoryItem>;\n                sync.setStore(\"history\", item);\n                console.log(\"added to history\");\n              }}\n            >\n              <div class=\"flex items-center gap-2\">\n                <FaRegularEye fill=\"currentColor\" />\n                <div class=\"text-text1\">Mark as watched</div>\n              </div>\n            </DropdownMenu.Item>\n          </Show>\n          <Show when={props.progress !== undefined}>\n            <DropdownMenu.Item\n              class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n              onTouchStart={() => {\n                setAppState(\"touchInProgress\", true);\n              }}\n              onSelect={() => {\n                sync.setStore(\"history\", {\n                  [getVideoId(props.v)!]: undefined,\n                });\n              }}\n            >\n              <div class=\"flex items-center gap-2\">\n                <FaRegularEyeSlash fill=\"currentColor\" />\n                <div class=\"text-text1\">Remove from history</div>\n              </div>\n            </DropdownMenu.Item>\n          </Show>\n          <DropdownMenu.Item\n            class=\"cursor-pointer touch-action-none w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n            onTouchStart={() => {\n              setAppState(\"touchInProgress\", true);\n            }}\n            onSelect={() => {\n              console.log(\"share event\");\n            }}\n          >\n            <div class=\"flex items-center gap-2\">\n              <FaSolidShare />\n              <div class=\"text-text1\">Share</div>\n            </div>\n          </DropdownMenu.Item>\n          <Show when={props.v.uploaderName && props.v.uploaderUrl}>\n            <DropdownMenu.Group class=\"mt-2\">\n              <DropdownMenu.GroupLabel class=\"flex items-center gap-2\">\n                <img\n                  src={props.v.uploaderAvatar ?? \"\"}\n                  class=\"w-6 h-6 rounded-full\"\n                />\n                <span class=\"text-text2 max-w-xs truncate\">{props.v.uploaderName}</span>\n              </DropdownMenu.GroupLabel>\n              <DropdownMenu.Item\n                class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border- hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n                onTouchStart={() => {\n                  setAppState(\"touchInProgress\", true);\n                }}\n                onSelect={() => {\n                  const id = props.v.uploaderUrl.split(\"/channel/\")[1];\n                  const isSubscribed = sync.store.subscriptions[id];\n                  if (isSubscribed) {\n                    sync.setStore(\"subscriptions\", id, undefined!);\n                    toast.success(`Unsubscribed from ${props.v.uploaderName}.`);\n                  } else {\n                    sync.setStore(\"subscriptions\", id, { subscribedAt: Date.now() });\n                    toast.success(`Subscribed to ${props.v.uploaderName}.`);\n                  }\n                }}\n              >\n                <div class=\"flex items-center gap-2\">\n                  <Show when={sync.store.subscriptions[props.v.uploaderUrl.split(\"/channel/\")[1]]}>\n                    <FaSolidHeartCircleMinus />\n                  </Show>\n                  <Show when={!sync.store.subscriptions[props.v.uploaderUrl.split(\"/channel/\")[1]]}>\n                    <FaSolidHeartCirclePlus />\n                  </Show>\n                  <div class=\"text-text1\">\n                    {sync.store.subscriptions[props.v.uploaderUrl.split(\"/channel/\")[1]] ? \"Unsubscribe\" : \"Subscribe\"}\n                  </div>\n\n                </div>\n              </DropdownMenu.Item>\n              <DropdownMenu.Item\n                class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded border-b hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n                onTouchStart={() => {\n                  setAppState(\"touchInProgress\", true);\n                }}\n                onSelect={() => {\n                  let id = props.v.uploaderUrl.split(\"/channel/\")[1];\n\n                  if (!id) {\n                    toast.error(\"Failed to block channel. No channel ID found.\");\n                    return;\n                  }\n                  try {\n                    sync.setStore(\"blocklist\", props.v.uploaderUrl.split(\"/channel/\")[1], { name: props.v.uploaderName });\n                    toast.success(`Blocked ${props.v.uploaderName}.`);\n                  } catch (e) {\n                    toast.error(\"Failed to block channel. \" + (e as any).message);\n                    console.error(e);\n                  }\n\n                }}\n              >\n                <div class=\"flex items-center gap-2\">\n                  <FaSolidBan />\n                  <div class=\"text-text1\">Block</div>\n                </div>\n              </DropdownMenu.Item>\n            </DropdownMenu.Group>\n          </Show>\n\n          <DropdownMenu.Item\n            onTouchStart={() => {\n              setAppState(\"touchInProgress\", true);\n            }}\n\n            class=\"cursor-pointer w-full border-bg3 flex relative items-center px-7 py-2 rounded  hover:bg-bg3 focus-visible:bg-bg3 focus-visible:ring-4 focus-visible:ring-highlight focus-visible:outline-none\"\n            onSelect={() => setModalOpen(true)}\n          >\n            <div class=\"flex items-center gap-2\">\n              <FaSolidBug fill=\"currentColor\" />\n              <div class=\"text-text1\">Debug info</div>\n            </div>\n          </DropdownMenu.Item>\n        </DropdownMenu.Content>\n      </DropdownMenu.Portal>\n    </DropdownMenu.Root>\n    <Modal\n      isOpen={modalOpen()}\n      setIsOpen={setModalOpen}\n      title=\"Debug info\"\n    >\n      <pre class=\"break-all text-text1 max-w-full min-w-0 overflow-auto z-[9999999]\">\n        {JSON.stringify(props.v, null, 2)}\n      </pre>\n    </Modal>\n    <PlaylistModal isOpen={playlistModalOpen()} setIsOpen={setPlaylistModalOpen} v={props.v} />\n  </>\n  )\n}\n\n","\nimport { createEffect, createSignal, JSX } from \"solid-js\";\nimport { Tooltip as KobalteTooltip } from \"@kobalte/core\";\nimport { yieldToMain } from \"~/utils/helpers\";\n\nexport type TooltipPlacement = \"top\" | \"bottom\" | \"left\" | \"right\" | \"top-end\" | \"left-end\" | \"right-end\" | \"bottom-end\" | \"top-start\" | \"left-start\" | \"right-start\" | \"bottom-start\";\n\nexport function Tooltip(props: TooltipProps) {\n  const animation = () => {\n    switch (props.placement) {\n      case \"top\":\n        return \"tooltip animate-out fade-out slide-out-to-bottom-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-bottom-4\";\n      case \"bottom\":\n        return \"tooltip animate-out fade-out slide-out-to-top-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-top-4\";\n      case \"left\":\n        return \"tooltip animate-out fade-out slide-out-to-right-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-right-4\";\n      case \"right\":\n        return \"tooltip animate-out fade-out slide-out-to-left-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-left-4\";\n      case \"top-end\":\n        return \"tooltip animate-out fade-out slide-out-to-bottom-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-bottom-4\";\n      case \"left-end\":\n        return \"tooltip animate-out fade-out slide-out-to-right-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-right-4\";\n      case \"right-end\":\n        return \"tooltip animate-out fade-out slide-out-to-left-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-left-4\";\n      case \"bottom-end\":\n        return \"tooltip animate-out fade-out slide-out-to-top-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-top-4\";\n      case \"top-start\":\n        return \"tooltip animate-out fade-out slide-out-to-bottom-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-bottom-4\";\n      case \"left-start\":\n        return \"tooltip animate-out fade-out slide-out-to-right-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-right-4\";\n      case \"right-start\":\n        return \"tooltip animate-out fade-out slide-out-to-left-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-left-4\";\n      case \"bottom-start\":\n        return \"tooltip animate-out fade-out slide-out-to-top-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-top-4\";\n      default:\n        return \"tooltip animate-out fade-out slide-out-to-bottom-2 data-[expanded]:animate-in data-[expanded]:fade-in data-[expanded]:slide-in-from-bottom-4\";\n    }\n  };\n  const [isOpen, setIsOpen] = createSignal(props.open ?? false);\n  createEffect(() => {\n    setOpen(props.open ?? false);\n  });\n\n  let timerId: NodeJS.Timeout | null = null;\n  const setOpen = (value: boolean) => {\n    if (props.disabled) return;\n    if (timerId) clearTimeout(timerId);\n    if (value === false) return setIsOpen(false)\n    timerId = setTimeout(() => {\n      setIsOpen(value);\n    }, props.openDelay ?? 0);\n  };\n\n  const [pointerDown, setPointerDown] = createSignal(false);\n\n\n\n  return (\n    <KobalteTooltip.Root\n      placement={props.placement}\n      gutter={props.gutter ?? 8}\n      open={isOpen()}\n      onOpenChange={props.onOpenChange}\n    >\n      <KobalteTooltip.Trigger as={props.as ?? \"button\"}\n        onFocus={props.onFocus}\n        onFocusIn={async (e) => {\n          await yieldToMain()\n          if (pointerDown()) return;\n          setOpen(true);\n        }}\n        onFocusOut={() => setOpen(false)}\n        onMouseEnter={() => setOpen(true)}\n        onMouseLeave={() => setOpen(false)}\n        onPointerDown={() => {\n          setPointerDown(true);\n          setTimeout(() => setPointerDown(false), 500);\n        }}\n        disabled={props.disabled} class={props.class} onClick={props.onClick} >\n        {props.triggerSlot}\n      </KobalteTooltip.Trigger>\n      <KobalteTooltip.Portal>\n        <KobalteTooltip.Content\n          class={`${animation()} z-[99999999] break-words max-w-xs rounded-sm bg-black/90 px-2 py-0.5 text-sm font-medium font-sans text-white`}\n        >\n          {props.contentSlot}\n        </KobalteTooltip.Content>\n      </KobalteTooltip.Portal>\n    </KobalteTooltip.Root>\n  );\n}\n\nexport interface TooltipProps {\n  triggerSlot: JSX.Element;\n  contentSlot: JSX.Element;\n  onClick?: () => void;\n  placement?: TooltipPlacement;\n  class?: string;\n  disabled?: boolean;\n  as?: keyof JSX.IntrinsicElements;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n  gutter?: number;\n  openDelay?: number;\n  onFocus?: (e: FocusEvent) => void;\n}\n","import type { RelatedStream } from \"~/types\";\nimport numeral from \"numeral\";\n// import { DBContext } from \"~/routes/layout\";\nimport {\n  Match,\n  Show,\n  Switch,\n  createEffect,\n  createRenderEffect,\n  createSignal,\n  useContext,\n  createMemo,\n  For,\n} from \"solid-js\";\nimport { useSyncStore, HistoryItem } from \"~/stores/syncStore\";\nimport {\n  formatRelativeShort,\n  generateThumbnailUrl,\n  getVideoId,\n} from \"~/utils/helpers\";\nimport { mergeProps } from \"solid-js\";\nimport { createTimeAgo } from \"@solid-primitives/date\";\nimport VideoCardMenu from \"./VideoCardMenu\";\nimport { FaSolidEye } from \"solid-icons/fa\";\nimport { Tooltip } from \"~/components/Tooltip\";\nimport Link from \"~/components/Link\";\nimport { useSearchParams } from \"@solidjs/router\";\n\nconst VideoCard = (props: {\n  v?: RelatedStream;\n  layout?: \"list\" | \"grid\" | \"sm:grid\";\n}) => {\n  props = mergeProps({ layout: \"sm:grid\" as \"sm:grid\" }, props);\n\n  const sync = useSyncStore();\n  const [searchParams] = useSearchParams();\n\n  const watchedAtDate = () =>\n    sync.store.history[getVideoId(props.v)!]?.watchedAt;\n  const [watchedAt, setWatchedAt] = createSignal<string | undefined>(undefined);\n\n  createEffect(() => {\n    const [watchedAt] = createTimeAgo(watchedAtDate() ?? new Date(), {\n      interval: 1000 * 60,\n      relativeFormatter: formatRelativeShort,\n    });\n    setWatchedAt(watchedAt());\n  });\n\n  const [uploaded] = props.v\n    ? createTimeAgo(props.v.uploaded, { interval: 0 })\n    : [() => \"\"];\n  const id = () => getVideoId(props.v);\n  const historyItem = () => (id() ? sync.store.history[id()!] : undefined);\n\n  return (\n    <div\n      classList={{\n        \"flex flex-row gap-2 mx-1 items-start rounded-xl bg-bg1 p-2 \": true,\n        \"min-w-full\": props.layout === \"list\",\n        \"sm:max-w-max  sm:flex-col sm:w-72 sm:gap-0 min-w-full sm:min-w-0\":\n          props.layout === \"sm:grid\",\n        \"h-max max-h-max max-w-max flex-col w-full gap-2 sm:w-72\":\n          props.layout === \"grid\",\n      }}\n    >\n      <div\n        classList={{\n          \"aspect-video overflow-hidden rounded\": true,\n          \"max-h-96\": props.layout === \"list\",\n          \"max-h-44 min-w-min sm:max-h-full sm:w-full\":\n            props.layout === \"sm:grid\",\n        }}\n      >\n        <Show\n          when={props.v}\n          fallback={<ImageContainerFallback layout={props.layout as any} />}\n        >\n          <ImageContainer\n            url={`/watch?v=${id()}${searchParams.fullscreen ? `&fullscreen=${searchParams.fullscreen}` : \"\"}`}\n            src={props.v!.thumbnail}\n            duration={props.v!.duration}\n            watched={!!historyItem()}\n            watchedAt={watchedAt()}\n            currentTime={historyItem()?.currentTime}\n          />\n        </Show>\n      </div>\n      <div\n        classList={{\n          \"flex w-full min-w-0 max-w-full justify-between h-full  sm:mt-2 max-h-20\":\n            true,\n          \"max-w-[22rem]\": props.layout === \"grid\",\n        }}\n      >\n        <div\n          classList={{\n            \"flex flex-col min-w-0 gap-2 pr-2 h-full w-full\": true,\n            \"max-w-[10rem] [@media(min-width:380px)]:max-w-[11rem] [@media(min-width:400px)]:max-w-full\":\n              props.layout === \"sm:grid\" || props.layout === \"list\",\n            \"max-w-full\": props.layout === \"grid\",\n          }}\n        >\n          <Show\n            when={props.v}\n            fallback={\n              <div class=\"flex flex-col gap-1\">\n                <div\n                  aria-hidden=\"true\"\n                  class=\"animate-pulse bg-bg2 w-full rounded-lg h-4 \"\n                 />\n                <div\n                  aria-hidden=\"true\"\n                  class=\"animate-pulse bg-bg2 w-1/2 h-4 rounded-lg \"\n                />\n              </div>\n            }\n          >\n            <Tooltip\n              as=\"div\"\n              placement=\"top\"\n              openDelay={1000}\n              triggerSlot={\n                <Link\n                  href={`/watch?v=${id()}`}\n                  class=\"rounded text-start two-line-ellipsis min-w-0 py-1 outline-none focus-visible:ring-2 focus-visible:ring-primary\"\n                >\n                  {props.v!.title}\n                </Link>\n              }\n              contentSlot={props.v!.title}\n            />\n          </Show>\n\n          <Show when={props.v} fallback={<InfoContainerFallback />}>\n            <InfoContainer\n              url={props.v!.url}\n              title={props.v!.title}\n              uploaderName={props.v!.uploaderName}\n              uploaderUrl={props.v!.uploaderUrl}\n              uploaderAvatar={props.v!.uploaderAvatar}\n              views={props.v!.views}\n              uploaded={uploaded()}\n              uploadedDate={new Date(props.v!.uploaded)}\n              live={props.v!.uploaded === -1}\n            />\n          </Show>\n        </div>\n\n        <div class=\"flex flex-col justify-start min-w-[32px]\">\n          <Show when={props.v}>\n            <VideoCardMenu v={props.v!} progress={historyItem()?.currentTime} />\n          </Show>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoCard;\n\nconst ImageContainer = (props: {\n  url: string;\n  src: string;\n  duration: number;\n  watched?: boolean;\n  watchedAt?: string | undefined;\n  currentTime?: number;\n}) => {\n  const [src, setSrc] = createSignal(props.src);\n\n  return (\n    <Link\n      href={props.url}\n      class=\"relative w-[10rem] flex aspect-video sm:w-full flex-col overflow-hidden rounded sm:min-w-min text-text1 outline-none focus-visible:ring-2 focus-visible:ring-primary\"\n    >\n      <img\n        classList={{\n          \"cursor-pointer w-full aspect-video max-w-md break-words \": true,\n          \"saturate-[0.35] opacity-75\": props.watched,\n        }}\n        src={src()}\n        onError={() => {\n          setSrc(\"/img/error.png\");\n        }}\n        width={2560}\n        height={1440}\n        alt=\"\"\n        loading=\"lazy\"\n      />\n      <Switch>\n        <Match when={props.watched && props.watchedAt}>\n          <div class=\"relative h-0 w-0 \">\n            <div class=\"absolute flex items-center left-2 bottom-2 bg-bg1/90 rounded px-1 py-px border border-bg2 w-max h-max text-xs\">\n              <FaSolidEye title=\"Watched\" class=\"inline-block h-3 w-3 mr-1\" />\n              {props.watchedAt}\n            </div>\n          </div>\n        </Match>\n        <Match when={props.watched && !props.watchedAt}>\n          <div class=\"absolute left-2 bottom-2 bg-bg1/90 rounded px-1 py-px border border-bg2 w-max h-max text-xs\">\n            Watched\n          </div>\n        </Match>\n      </Switch>\n      <div class=\"relative h-0 w-12 place-self-end lg:w-16 \">\n        <div class=\"absolute bottom-2 right-2 bg-bg1/90 rounded px-1 py-px border border-bg2 text-xs\">\n          <Show when={props.duration === -1}>Live</Show>\n          <Show when={props.duration !== -1}>\n            {numeral(props.duration).format(\"00:00:00\").replace(/^0:/, \"\")}\n          </Show>\n        </div>\n      </div>\n      <Show when={props.currentTime}>\n        <div class=\"relative h-0 w-full\">\n          <div\n            style={{\n              width: `clamp(0%, ${\n                (props.currentTime! / props.duration) * 100\n              }%, 100%`,\n            }}\n            class=\"absolute bottom-0 h-1 bg-highlight\"\n           />\n        </div>\n      </Show>\n    </Link>\n  );\n};\n\nconst ImageContainerFallback = (props: {\n  layout: \"list\" | \"grid\" | \"sm:grid\";\n}) => {\n  return (\n    <div\n      classList={{\n        \"relative flex aspect-video min-w-0 flex-col rounded-lg overflow-hidden\":\n          true,\n        \"w-full\": props.layout === \"grid\",\n        \"w-[10rem] sm:w-full sm:max-w-[18rem]\": props.layout === \"sm:grid\",\n        \"w-[10rem]\": props.layout === \"list\",\n      }}\n    >\n      <div class=\"animate-pulse bg-bg2 aspect-video h-full overflow-hidden max-w-fit w-full\">\n        <div class=\"w-96 h-full\" />\n      </div>\n    </div>\n  );\n};\n\nconst InfoContainer = (props: {\n  url: string;\n  title: string;\n  uploaderName: string;\n  uploaderUrl: string;\n  uploaderAvatar: string | null;\n  views: number;\n  uploaded: string;\n  uploadedDate: Date;\n  live: boolean;\n}) => {\n  const uploaderUrl = () => {\n    let url = \"\";\n    if (props.uploaderUrl.startsWith(\"UC\")) {\n      url = `/channel/${props.uploaderUrl}`;\n    } else if (props.uploaderUrl.startsWith(\"/\")) {\n      url = props.uploaderUrl;\n    }\n    return url;\n  };\n\n  return (\n    <div class=\"flex gap-1 text-text2 w-full sm:max-w-full \">\n      <Show when={props.uploaderAvatar}>\n        <div class=\"group mb-1 w-max\">\n          <Link\n            // tabindex={-1}\n            // aria-hidden=\"true\"\n            href={uploaderUrl()}\n            class=\"flex max-w-max min-w-min items-center outline-none focus-visible:ring-2 focus-visible:ring-primary\"\n          >\n            <img\n              src={props.uploaderAvatar!}\n              class=\"rounded-full w-6 h-6 aspect-square min-w-[24px] min-h-[24px]\"\n              alt=\"\"\n            />\n          </Link>\n        </div>\n      </Show>\n\n      <div class=\"flex w-full flex-col text-xs \">\n        <Link\n          href={uploaderUrl()}\n          class=\"outline-none focus-visible:ring-2 focus-visible:ring-primary\"\n        >\n          <div class=\"peer w-fit truncate max-w-[10rem]\">\n            {props.uploaderName}\n          </div>\n        </Link>\n        <div class=\"flex flex-wrap w-full\">\n          <Show when={props.views}>\n            <div\n              class=\"w-fit\"\n              title={`${numeral(props.views).format(\"0,0\")} views`}\n            >\n              {\" \"}\n              {numeral(props.views).format(\"0a\").toUpperCase()} views\n            </div>\n          </Show>\n\n          <Show when={!props.live}>\n            <div class=\"mx-1\">•</div>\n          </Show>\n          <Show when={!props.live}>\n            <div title={props.uploadedDate.toLocaleString()} class=\"\">\n              {props.uploaded}{\" \"}\n            </div>\n          </Show>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst InfoContainerFallback = () => {\n  return (\n    <div class=\"flex flex-col gap-2 pr-2 w-full \">\n      <div class=\"flex gap-2 text-text2\">\n        <div class=\"animate-pulse bg-bg2 w-8 h-8 aspect-square rounded-full\" />\n        <div class=\"flex w-full flex-col gap-2 justify-center\">\n          <div class=\"animate-pulse bg-bg2 w-32 h-4 rounded-lg\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { PipedVideo } from \"~/types\";\n\nconst api = {\n  fetchVideo: async (videoId: string | undefined, api_url: string): Promise<PipedVideo> => {\n    if (!videoId) throw new Error(\"videoId is undefined\");\n    let res = await fetch(\n      api_url + \"/streams/\" + videoId\n    )\n    if (!res.ok) throw new Error(\"video not found\");\n    return res.json();\n\n  },\n}\n\nexport default api;\n","import Player from \"./player/Player\";\nimport {\n  Show,\n  createRenderEffect,\n  createSignal,\n  Suspense,\n  createEffect,\n  ErrorBoundary,\n  Switch,\n  Match,\n} from \"solid-js\";\nimport { usePreferences } from \"~/stores/preferencesStore\";\nimport { PipedVideo } from \"~/types\";\nimport { isServer } from \"solid-js/web\";\nimport { useAppState } from \"~/stores/appStateStore\";\nimport { createQuery } from \"@tanstack/solid-query\";\nimport api from \"~/utils/api\";\nimport { useLocation, useSearchParams } from \"@solidjs/router\";\n\nexport default function PlayerContainer(props: {}) {\n  const route = useLocation();\n  const [preferences] = usePreferences();\n\n  const [searchParams] = useSearchParams();\n  console.log(preferences.instance.api_url, \"api url\");\n  const [v, setV] = createSignal<string | undefined>(undefined);\n  createEffect(() => {\n    console.log(videoQuery, \"video query\");\n    if (!searchParams.v) return;\n    setV(searchParams.v);\n  });\n  const videoQuery = createQuery(() => ({\n    queryKey: [\"streams\", v(), preferences.instance.api_url],\n    queryFn: () => api.fetchVideo(v(), preferences.instance.api_url),\n    enabled: v() && preferences.instance.api_url ? true : false,\n    refetchOnReconnect: false,\n    refetchOnMount: false,\n    cacheTime: Infinity,\n    staleTime: 100 * 60 * 1000,\n  }));\n\n  return (\n    <Suspense fallback={<PlayerLoading />}>\n      <Switch fallback={<PlayerLoading />}>\n        <Match when={videoQuery.isPending}>\n          <PlayerLoading />\n        </Match>\n        <Match when={videoQuery.isError}>\n          <PlayerError error={videoQuery.error as Error} />\n        </Match>\n        <Match when={videoQuery.data}>\n          <Player onReload={() => videoQuery.refetch()} />\n        </Match>\n      </Switch>\n    </Suspense>\n  );\n}\n\nexport const Spinner = (props: { class?: string }) => (\n  <svg\n    classList={{\n      \"h-24 w-24 text-white duration-300 animate-spin\": true,\n      [props.class!]: !!props.class,\n    }}\n    fill=\"none\"\n    viewBox=\"0 0 120 120\"\n    aria-hidden=\"true\"\n  >\n    <circle\n      class=\"opacity-25\"\n      cx=\"60\"\n      cy=\"60\"\n      r=\"54\"\n      stroke=\"currentColor\"\n      stroke-width=\"8\"\n    />\n    <circle\n      class=\"opacity-75\"\n      cx=\"60\"\n      cy=\"60\"\n      r=\"54\"\n      stroke=\"currentColor\"\n      stroke-width=\"10\"\n      pathLength=\"100\"\n      style={{\n        \"stroke-dasharray\": 50,\n        \"stroke-dashoffset\": \"50\",\n      }}\n    />\n  </svg>\n);\n\nexport const PlayerLoading = () => {\n  const [searchParams] = useSearchParams();\n  const [appState] = useAppState();\n  const location = useLocation();\n  return (\n    <div\n      classList={{\n        \"pointer-events-none aspect-video bg-black flex h-fit w-full max-w-full items-center justify-center\":\n          true,\n        \"!absolute inset-0 w-screen h-screen z-[999999]\":\n          !!searchParams.fullscreen,\n        \"!sticky sm:!relative !top-0\": !searchParams.fullscreen,\n        \"!sticky !top-10 !left-1 !w-56 sm:!w-72 lg:!w-96 \":\n          appState.player.small,\n        \"!hidden\": location.pathname !== \"/watch\",\n      }}\n    >\n      <Spinner />\n    </div>\n  );\n};\n\nexport function PlayerError(props: { error: Error }) {\n  return (\n    <div class=\"pointer-events-none flex-col text-center gap-2 col-span-3 aspect-video bg-black  flex h-full w-full items-center justify-center\">\n      <div class=\"text-lg sm:text-2xl font-bold text-red-300\">\n        {props.error.name} :(\n      </div>\n      <div class=\"flex flex-col\">\n        <div class=\"text-sm sm:text-lg text-white\">{props.error.message}</div>\n        <div class=\"text-sm sm:text-lg text-white\">\n          Please try switching to a different instance or refresh the page.\n        </div>\n      </div>\n      {/* <div class=\"flex justify-center gap-2\">\n          <button\n            class=\"px-4 py-2 text-lg text-white border border-white rounded-md\"\n            onClick={() => window.location.reload()}>\n            Refresh\n          </button>\n        </div> */}\n    </div>\n  );\n}\n","\nexport function ToastComponent(props: {\n  toastId: number;\n  title?: string;\n  description?: string;\n  success?: boolean;\n  error?: boolean;\n  loading?: boolean;\n  children?: JSX.Element;\n\n}) {\n  return (\n    <Toast.Root toastId={props.toastId} classList={{\"flex flex-col justify-between outline-none border-0 items-center gap-2 rounded p-3 bg-bg2 shadow ring-2 ring-inset ring-bg1 text-text1 data-[opened]:animate-in data-[opened]:fade-in data-[opened]:slide-in-from-right data-[closed]:animate-out data-[closed]:transition-[transform] data-[closed]:translate-x-[var(--kb-toast-swipe-end-x)] data-[closed]:fade-out-25 data-[swipe=cancel]:translate-x-0 data-[swipe=cancel]:transition-[transform] data-[swipe=move]:translate-x-[var(--kb-toast-swipe-move-x)] data-[swipe=end]:animate-out data-[swipe=end]:fade-out data-[swipe=end]:slide-out-to-right\":true,\n\n    }}>\n      <div class=\"flex item-center w-full justify-center align-bottom\">\n        <Show when={props.success}>\n        <FaSolidCircleCheck class=\"h-5 w-5 text-green-600 mr-2 \" />\n        </Show>\n        <Show when={props.error}>\n          <FaSolidCircleXmark class=\"h-5 w-5 text-red-600 mr-2 \" />\n        </Show>\n        <Show when={props.loading}>\n          <Spinner class=\"w-5 h-5 mr-2\" />\n        </Show>\n        <div>\n          <Toast.Title class=\"\">{props.title}</Toast.Title>\n          <Toast.Description class=\"\">\n            {props.description}\n          </Toast.Description>\n          {props.children}\n        </div>\n        <Toast.CloseButton class=\"ml-auto rounded\">\n          <FaSolidX class=\"h-4 w-4\" />\n        </Toast.CloseButton>\n      </div>\n      <Toast.ProgressTrack class=\"w-full h-1 bg-bg1\">\n        <Toast.ProgressFill class=\"bg-primary h-full rounded w-[var(--kb-toast-progress-fill-width)] transition-[width]\" />\n      </Toast.ProgressTrack>\n    </Toast.Root>\n  );\n}\n\nimport { Toast, toaster } from \"@kobalte/core\";\nimport { JSX } from \"solid-js/jsx-runtime\";\nimport { Switch, Match, Show } from \"solid-js/web\";\nimport { FaSolidCircleCheck, FaSolidCircleXmark, FaSolidX } from \"solid-icons/fa\";\nimport { Spinner } from \"./PlayerContainer\";\nfunction show(message: string) {\n  return toaster.show(props => (\n    <ToastComponent toastId={props.toastId} title={message} />\n  ));\n}\nfunction success(message: string) {\n  return toaster.show(props => (\n    <ToastComponent toastId={props.toastId} title={message} success />\n  ));\n}\nfunction error(message: string) {\n  return toaster.show(props => (\n    <ToastComponent toastId={props.toastId} title={message} error />\n  ));\n}\nfunction promise<T, U>(\n  promise: Promise<T> | (() => Promise<T>),\n  options: {\n    loading?: JSX.Element;\n    success?: (data: T) => JSX.Element;\n    error?: (error: U) => JSX.Element;\n  },\n) {\n  return toaster.promise(promise, props => (\n    <ToastComponent\n      toastId={props.toastId}\n      loading={props.state === \"pending\"}\n      success={props.state === \"fulfilled\"}\n      error={props.state === \"rejected\"}\n    >\n      <Switch>\n        <Match when={props.state === \"pending\"}>{options.loading}</Match>\n        <Match when={props.state === \"fulfilled\"}>{options.success?.(props.data!)}</Match>\n        <Match when={props.state === \"rejected\"}>{options.error?.(props.error)}</Match>\n      </Switch>\n    </ToastComponent>\n  ));\n}\nfunction custom(jsx: () => JSX.Element) {\n  return toaster.show(props => <Toast.Root toastId={props.toastId}>{(jsx())}</Toast.Root>);\n}\nfunction dismiss(id: number) {\n  return toaster.dismiss(id);\n}\nexport const toast = {\n  show,\n  success,\n  error,\n  promise,\n  custom,\n  dismiss,\n};\n"],"names":["isClient","isServer","isDev","DEV","chain","callbacks","args","callback","reverseChain","i","length","access","v","asArray","value","Array","isArray","accessWith","valueOrFn","tryOnCleanup","fn","getOwner","onCleanup","makeEventListener","target","type","handler","options","addEventListener","removeEventListener","bind","createEventListener","targets","attachListeners","forEach","el","type2","createEffect","createRenderEffect","FALLBACK","Symbol","dispose","list","o","keyArray","items","keyFn","mapFn","itemsRef","s","len","push","fallback","prev","Map","values","$TRACK","untrack","clear","createRoot","dispose2","set","result","fb","get","size","delete","item","key","addNewItem","prevKeys","Set","keys","lookup","mapped","setIndex","setItem","getItem","createSignal","save","index","Key","props","by","createMemo","each","children","trueFn","propTraps","_","property","receiver","$PROXY","has","deleteProperty","getOwnPropertyDescriptor","configurable","enumerable","ownKeys","extractCSSregex","stringStyleToObject","style","object","match","exec","combineStyle","a","b","reduce","sources","calc","propV","combineProps","restArgs","chainFn","reverseEventHandlers","listeners","propsObj","name","toLowerCase","merge","mergeProps","Proxy","Reflect","cb","Object","addItemToArray","array","slice","buildNodes","params","startIndex","level","startLevel","nodes","getKey","data","_getKey","dataKey","isString","String","getTextValue","_getTextValue","dataTextValue","getDisabled","_getDisabled","getSectionChildren","dataSource","isNumber","rawValue","textValue","disabled","sectionChildren","childNodes","createCollection","deps","initialNodes","collection","setCollection","factory","on","defer","cache","WeakMap","getItemCount","count","createControllableSignal","_value","_setValue","defaultValue","isControlled","undefined","next","nextValue","is","onChange","createControllableBooleanSignal","setValue","createControllableArraySignal","createDisclosureState","isOpen","setIsOpen","open","defaultOpen","onOpenChange","close","toggle","createEscapeKeyDown","handleKeyDown","event","EventKey","Escape","onEscapeKeyDown","isDisabled","document","ownerDocument","getDocument","DATA_TOP_LAYER_ATTR","originalBodyPointerEvents","hasDisabledBodyPointerEvents","layers","indexOf","node","findIndex","layer","find","isTopMostLayer","getPointerBlockingLayers","filter","isPointerBlocking","getTopMostPointerBlockingLayer","hasPointerBlockingLayer","isBelowPointerBlockingLayer","highestBlockingIndex","addLayer","removeLayer","splice","assignPointerEventToLayers","pointerEvents","disableBodyPointerEvents","body","restoreBodyPointerEvents","removeAttribute","layerStack","AUTOFOCUS_ON_MOUNT_EVENT","AUTOFOCUS_ON_UNMOUNT_EVENT","EVENT_OPTIONS","bubbles","cancelable","focusScopeStack","stack","active","add","scope","pause","removeItemFromArray","unshift","remove","resume","createFocusScope","ref","isPaused","setIsPaused","focusScope","lastFocusedElement","onMountAutoFocus","e","onUnmountAutoFocus","createSentinel","element","createElement","setAttribute","tabIndex","assign","visuallyHiddenStyles","tabbables","container","getAllTabbableIn","hasAttribute","firstTabbable","lastTabbable","shouldPreventUnmountAutoFocus","activeElement","getActiveElement","contains","isFocusable","previouslyFocusedElement","mountEvent","CustomEvent","dispatchEvent","defaultPrevented","setTimeout","focusWithoutScrolling","unmountEvent","preventDefault","trapFocus","onFocusIn","closest","onFocusOut","relatedTarget","startSentinel","insertAdjacentElement","endSentinel","onFocus","first","last","observer","MutationObserver","mutations","mutation","previousSibling","nextSibling","observe","childList","subtree","disconnect","createFormResetListener","form","getClosestForm","passive","isFormElement","matches","DATA_LIVE_ANNOUNCER_ATTR","createHideOutside","ariaHideOutside","root","refCountMap","observerStack","visibleNodes","hiddenNodes","walk","querySelectorAll","acceptNode","parentElement","getAttribute","NodeFilter","FILTER_REJECT","FILTER_SKIP","FILTER_ACCEPT","walker","createTreeWalker","SHOW_ELEMENT","acceptRoot","hide","nextNode","refCount","changes","change","addedNodes","some","removedNodes","Element","HTMLElement","SVGElement","dataset","liveAnnouncer","reactAriaTopLayer","observerWrapper","pop","POINTER_DOWN_OUTSIDE_EVENT","FOCUS_OUTSIDE_EVENT","createInteractOutside","pointerDownTimeoutId","clickHandler","noop","onPointerDownOutside","onFocusOutside","onInteractOutside","isEventOutside","shouldExcludeElement","onPointerDown","composeEventHandlers","once","pointerDownOutsideEvent","detail","originalEvent","isContextMenu","button","isCtrlKey","pointerType","focusOutsideEvent","window","clearTimeout","createPresence","present","setNode","styles","prevPresent","prevAnimationName","state","send","createStateMachine","mounted","UNMOUNT","ANIMATION_OUT","unmountSuspended","MOUNT","ANIMATION_END","unmounted","currentAnimationName","getAnimationName","display","handleAnimationEnd","isCurrentAnimation","includes","animationName","handleAnimationStart","isPresent","setRef","getComputedStyle","initialState","machine","setState","SCROLL_LOCK_IDENTIFIER","assignStyle","previousStyle","cssText","setCSSProperty","previousValue","getPropertyValue","setProperty","removeProperty","getPaddingProperty","documentElement","documentLeft","getBoundingClientRect","left","Math","round","scrollLeft","createPreventScroll","ownerRef","doc","win","getWindow","scrollbarWidth","innerWidth","clientWidth","setScrollbarWidthProperty","paddingProperty","setStyle","overflow","setIOSStyle","scrollX","scrollY","visualViewport","offsetLeft","offsetTop","restoreStyle","position","top","floor","right","scrollTo","cleanup","isIOS","createRegisterId","setter","id","createTagName","tagName","setTagName","stringOrUndefined","FORM_CONTROL_PROP_NAMES","createFormControl","defaultId","createUniqueId","mergeDefaultProps","labelId","setLabelId","fieldId","setFieldId","descriptionId","setDescriptionId","errorMessageId","setErrorMessageId","getAriaLabelledBy","fieldAriaLabel","fieldAriaLabelledBy","hasAriaLabelledBy","Boolean","join","getAriaDescribedBy","fieldAriaDescribedBy","validationState","required","readOnly","formControlContext","isRequired","isReadOnly","generateId","createGenerateId","registerLabel","registerField","registerDescription","registerErrorMessage","FormControlContext","createContext","useFormControlContext","context","useContext","Error","FORM_CONTROL_FIELD_PROP_NAMES","createFormControlField","fieldProps","ariaLabel","ariaLabelledBy","ariaDescribedBy","Polymorphic","local","others","splitProps","asChild","_$createComponent","Dynamic","_$mergeProps","component","as","resolvedChildren","isAs","combinedProps","newElement","newChildren","For","Show","when","child","AS_COMPONENT_SYMBOL","baseProps","overrideProps","baseCombineProps","FormControlLabel","COMMON_INTL_MESSAGES","dismiss","RTL_SCRIPTS","RTL_LANGS","isRTL","locale","Intl","Locale","script","maximize","lang","split","getReadingDirection","getDefaultLocale","navigator","language","userLanguage","DateTimeFormat","supportedLocalesOf","direction","currentLocale","updateLocale","listener","createDefaultLocale","defaultSSRLocale","defaultClientLocale","setDefaultClientLocale","defaultLocale","onMount","I18nContext","useLocale","createCollator","cacheKey","entries","sort","collator","Collator","extendStatics","d","p","__extends","__","__assign","n","__rest","t","__spreadArray","to","from","pack","l","ar","ErrorKind","TYPE","SKELETON_TYPE","isLiteralElement","literal","isArgumentElement","argument","isNumberElement","number","isDateElement","date","isTimeElement","time","isSelectElement","select","isPluralElement","plural","isPoundElement","pound","isTagElement","tag","isNumberSkeleton","isDateTimeSkeleton","dateTime","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","skeleton","replace","era","year","RangeError","month","day","weekday","hour12","hourCycle","hour","minute","second","timeZoneName","WHITE_SPACE_REGEX","parseNumberSkeletonFromString","stringTokens","x","tokens","_i","stringTokens_1","stringToken","stemAndOptions","stem","_a","options_1","option","icuUnitToEcma","unit","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","str","roundingPriority","g1","g2","minimumSignificantDigits","maximumSignificantDigits","parseSign","signDisplay","currencySign","parseConciseScientificAndEngineeringStem","notation","test","minimumIntegerDigits","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens_1","token","scale","currency","useGrouping","maximumFractionDigits","compactDisplay","all","currencyDisplay","unitDisplay","parseFloat","roundingMode","g3","g4","g5","minimumFractionDigits","trailingZeroDisplay","conciseScientificAndEngineeringOpts","timeData","getBestPattern","skeletonCopy","patternPos","patternChar","charAt","extraLength","hourLen","dayPeriodLen","dayPeriodChar","hourChar","getDefaultHourSymbolFromLocale","hourCycles","languageTag","regionTag","region","concat","SPACE_SEPARATOR_START_REGEX","RegExp","source","SPACE_SEPARATOR_END_REGEX","createLocation","start","end","hasNativeStartsWith","prototype","startsWith","hasNativeFromCodePoint","fromCodePoint","hasNativeFromEntries","fromEntries","hasNativeCodePointAt","codePointAt","hasTrimStart","trimStart","hasTrimEnd","trimEnd","hasNativeIsSafeInteger","Number","isSafeInteger","isFinite","abs","REGEX_SUPPORTS_U_AND_Y","re","RE","search","codePoints","arguments","elements","code","fromCharCode","obj","entries_1","k","charCodeAt","flag","matchIdentifierAtIndex","IDENTIFIER_PREFIX_RE_1","lastIndex","c","_isWhiteSpace","_isPatternSyntax","apply","Parser","message","offset","line","column","ignoreTag","requiresOtherClause","shouldParseSkeletons","parse","parseMessage","nestingLevel","parentArgType","expectingCloseTag","isEOF","char","parseArgument","err","val","clonePosition","bump","location","peek","error","UNMATCHED_CLOSING_TAG","_isAlpha","parseTag","parseLiteral","startPosition","parseTagName","bumpSpace","bumpIf","childrenResult","endTagStartPosition","INVALID_TAG","closingTagNameStartPosition","closingTagName","UNCLOSED_TAG","startOffset","_isPotentialElementNameChar","parseQuoteResult","tryParseQuote","parseUnquotedResult","tryParseUnquoted","parseLeftAngleResult","tryParseLeftAngleBracket","_isAlphaOrSlash","ch","openingBracePosition","EXPECT_ARGUMENT_CLOSING_BRACE","EMPTY_ARGUMENT","parseIdentifierIfPossible","MALFORMED_ARGUMENT","parseArgumentOptions","startingPosition","endOffset","bumpTo","endPosition","typeStartPosition","argType","typeEndPosition","EXPECT_ARGUMENT_TYPE","styleAndLocation","styleStartPosition","parseSimpleArgStyleIfPossible","EXPECT_ARGUMENT_STYLE","styleLocation","argCloseResult","tryParseArgumentClose","location_1","EXPECT_DATE_TIME_SKELETON","dateTimePattern","pattern","parsedOptions","typeEndPosition_1","EXPECT_SELECT_ARGUMENT_OPTIONS","identifierAndLocation","pluralOffset","EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE","tryParseDecimalInteger","INVALID_PLURAL_ARGUMENT_OFFSET_VALUE","optionsResult","tryParsePluralOrSelectOptions","location_2","pluralType","INVALID_ARGUMENT_TYPE","nestedBraces","apostrophePosition","bumpUntil","UNCLOSED_QUOTE_IN_ARGUMENT_STYLE","INVALID_NUMBER_SKELETON","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","selector","selectorLocation","EXPECT_PLURAL_ARGUMENT_SELECTOR","INVALID_PLURAL_ARGUMENT_SELECTOR","DUPLICATE_SELECT_ARGUMENT_SELECTOR","DUPLICATE_PLURAL_ARGUMENT_SELECTOR","EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT","EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT","fragmentResult","EXPECT_SELECT_ARGUMENT_SELECTOR","MISSING_OTHER_CLAUSE","expectNumberError","invalidNumberError","sign","hasDigits","decimal","kind","prefix","currentOffset","targetOffset","min","nextCode","codepoint","pruneLocation","els","opts","SyntaxError","originalMessage","captureLocation","memoize","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","monadic","arg","computedValue","call","variadic","assemble","serialize","create","strategyVariadic","strategyMonadic","JSON","stringify","ObjectWithoutPrototypeCache","strategies","ErrorCode","FormatError","_super","msg","_this","toString","InvalidValueError","variableId","INVALID_VALUE","InvalidValueTypeError","MissingValueError","MISSING_VALUE","PART_TYPE","mergeLiteral","parts","part","lastPart","isFormatXMLElementFn","formatToParts","locales","formatters","formats","currentPluralValue","els_1","getNumberFormat","format","varName","getDateTimeFormat","medium","value_1","formatFn","chunks","map","other","PluralRules","MISSING_INTL_API","rule","getPluralRules","mergeConfig","c1","c2","mergeConfigs","defaultConfig","configs","createFastMemoizeCache","store","createDefaultFormatters","pluralRules","NumberFormat","IntlMessageFormat","overrideFormats","formatterCache","ast","resolvedOptions","resolvedLocale","getAst","resolveLocale","__parse","TypeError","parseOpts","defineProperty","memoizedDefaultLocale","supportedLocales","integer","percent","short","long","full","$d6fd23bc337660df$export$64839e615120df17","strings","$d6fd23bc337660df$var$getStringsForLocale","string","messages","$d6fd23bc337660df$var$getLanguage","$972eb555d604f491$export$526ebc05ff964723","variables","$1DoQa$intlmessageformat","varCopy","acc","getCachedDictionary","dictionary","MessageDictionary","createMessageFormatter","messageFormatter","MessageFormatter","Selection","anchorKey","currentKey","constructor","createControllableSelectionSignal","isNonContiguousSelectionModifier","isAppleDevice","altKey","ctrlKey","isCtrlKeyPressed","isMac","metaKey","convertSelection","selection","isSameSelection","setA","setB","createMultipleSelectionState","selectionMode","selectionBehavior","isFocused","setFocused","focusedKey","setFocusedKey","selectedKeysProp","selectedKeys","defaultSelectedKeys","defaultSelection","_setSelectedKeys","onSelectionChange","setSelectionBehavior","disallowEmptySelection","setSelectedKeys","allowDuplicateSelectionEvents","createTypeSelect","setSearch","timeoutId","setTimeoutId","typeSelectHandlers","onKeyDown","delegate","keyboardDelegate","manager","selectionManager","getKeyForSearch","character","getStringForKey","trim","stopPropagation","newSearch","isAllSameLetter","onTypeSelect","every","letter","createSelectableCollection","scrollRef","selectOnFocus","finalScrollRef","scrollPos","isVirtualized","scrollEl","scrollTop","disallowTypeAhead","callHandler","refEl","navigateToKey","shiftKey","extendSelection","replaceSelection","shouldFocusWrap","getKeyBelow","nextKey","getFirstKey","getKeyAbove","getLastKey","getKeyLeftOf","getKeyRightOf","firstKey","lastKey","getKeyPageBelow","getKeyPageAbove","disallowSelectAll","selectAll","clearSelection","allowsTabNavigation","focus","getFocusableTreeWalker","tabbable","lastChild","currentTarget","navigateToFirstKey","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","lastSelectedKey","firstSelectedKey","querySelector","scrollIntoView","onMouseDown","tryAutoFocus","autoFocus","shouldUseVirtualFocus","deferAutoFocus","newValue","scrollToKey","createSelectableItem","onSelect","isSelected","toggleSelection","allowsSelection","canSelectItem","pointerDownType","shouldSelectOnPressUp","onPointerUp","allowsDifferentPressOrigin","onClick","virtualized","SelectionManager","retrievedKey","isEmpty","isSelectAll","getAllSelectableKeys","isItemBeforeFirst","isItemAfterLast","toKey","retrievedToKey","getKeyRange","fromItem","toItem","getKeyRangeInternal","getKeyAfter","toggleSelectAll","isSelectionEqual","addKeys","ListCollection","keyMap","iterable","prevKey","iterator","getSize","getKeys","getKeyBefore","at","idx","createListState","selectionState","createComputed","ListKeyboardDelegate","keyAfter","keyBefore","menu","pageY","max","offsetHeight","keyAbove","scrollHeight","keyBelow","fromKey","substring","compare","createSelectableList","usage","sensitivity","createStore","toasts","toast","update","toastStore","toastsCounter","show","toastComponent","promise","toastId","isFunction","then","catch","toaster","BUTTON_INPUT_TYPES","isButton","ButtonRoot","isNativeButton","elementTagName","isNativeInput","isNativeLink","role","DomCollectionContext","useOptionalDomCollectionContext","useDomCollectionContext","isElementPreceding","DOCUMENT_POSITION_PRECEDING","findDOMIndex","itemEl","currentItemEl","sortBasedOnDOMPosition","pairs","isOrderDifferent","indexA","indexB","elementA","elementB","setItemsBasedOnDOMPosition","setItems","sortedItems","getCommonParent","firstItem","lastItemEl","parentEl","createTimeoutObserver","timeout","createSortBasedOnDOMPosition","IntersectionObserver","previousItems","hasPreviousItems","createDomCollection","onItemsChange","registerItem","prevItems","nextItems","prevItem","DomCollectionProvider","createComponent","Provider","createDomCollectionItem","shouldRegisterItem","unregister","DialogContext","useDialogContext","DialogCloseButton","Button","DismissableLayerContext","useOptionalDismissableLayerContext","DismissableLayer","parentContext","nestedLayers","registerNestedLayer","parentUnregister","onDismiss","disableOutsidePointerEvents","DialogContent","hasInteractedOutside","hasPointerDownOutside","modal","triggerRef","onCloseAutoFocus","preventScroll","onOpenAutoFocus","registerContentId","contentPresence","excludedElements","titleId","DialogDescription","registerDescriptionId","DialogOverlay","overlayPresence","DialogPortal","Portal","DialogRoot","contentId","setContentId","setTitleId","setTriggerRef","disclosureState","shouldMount","forceMount","registerTitleId","DialogTitle","PopperContext","usePopperContext","DEFAULT_SIZE","HALF_DEFAULT_SIZE","ROTATION_DEG","bottom","ARROW_PATH","PopperArrow","dir","currentPlacement","contentStyle","createComputedStyle","contentRef","fill","stroke","borderWidth","strokeWidth","parseInt","rotate","width","height","_$ssr","_tmpl$","_$ssrHydrationKey","_$escape","_$ssrAttribute","PopperPositioner","sides","createCoords","oppositeSideMap","oppositeAlignmentMap","clamp","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getAlignmentSides","rects","rtl","alignment","alignmentAxis","mainAlignmentSide","getOppositePlacement","getExpandedPlacements","oppositePlacement","getOppositeAlignmentPlacement","getSideList","side","isStart","lr","rl","tb","bt","getOppositeAxisPlacements","flipAlignment","expandPaddingObject","padding","getPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","_ref","reference","floating","sideAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","computePosition","config","middleware","platform","validMiddleware","y","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","detectOverflow","_await$platform$isEle","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","offsetParent","offsetScale","elementClientRect","arrow","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","alignmentOffset","flip","_middlewareData$arrow","_middlewareData$flip","initialPlacement","checkMainAxis","checkCrossAxis","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","detectOverflowOptions","isBasePlacement","fallbackPlacements","placements","overflows","overflowsData","_middlewareData$flip2","_overflowsData$filter","nextIndex","nextPlacement","resetPlacement","_overflowsData$map$so","getSideOffsets","isAnySideFullyClipped","offsets","convertValueToCoords","mainAxisMulti","crossAxisMulti","mainAxis","crossAxis","_middlewareData$offse","diffCoords","shift","limiter","mainAxisCoord","crossAxisCoord","minSide","maxSide","limitedCoords","heightSide","widthSide","overflowAvailableHeight","overflowAvailableWidth","noShift","availableHeight","availableWidth","maximumClippingWidth","maximumClippingHeight","xMin","xMax","yMin","yMax","nextDimensions","getNodeName","isNode","_node$ownerDocument","getDocumentElement","isElement","isHTMLElement","isShadowRoot","isOverflowElement","overflowX","overflowY","isTableElement","isContainingBlock","webkit","isWebKit","css","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","getNodeScroll","getNearestOverflowAncestor","parentNode","getOverflowAncestors","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","getCssDimensions","hasOffset","offsetWidth","shouldFallback","unwrapElement","getScale","domElement","$","noOffsets","getVisualOffsets","shouldAddVisualOffsets","isFixed","floatingOffsetParent","includeScale","isFixedStrategy","clientRect","visualOffsets","offsetWin","currentWin","currentIFrame","iframeScale","iframeRect","topLayerSelectors","isTopLayer","convertOffsetParentRelativeRectToViewportRelativeRect","topLayer","scroll","isOffsetParentAnElement","offsetRect","getClientRects","getWindowScrollBarX","getDocumentRect","html","getViewportRect","visualViewportBased","getInnerBoundingClientRect","getClientRectFromClippingAncestor","clippingAncestor","hasFixedPositionAncestor","stopNode","getClippingElementAncestors","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingRect","clippingAncestors","firstClippingAncestor","clippingRect","accRect","getDimensions","getRectRelativeToOffsetParent","getTrueOffsetParent","polyfill","getOffsetParent","getElementRects","getOffsetParentFn","getDimensionsFn","observeMove","onMove","io","_io","refresh","skip","threshold","insetTop","insetRight","insetBottom","insetLeft","isFirstUpdate","handleObserve","ratio","autoUpdate","ancestorScroll","ancestorResize","elementResize","layoutShift","animationFrame","referenceEl","ancestors","cleanupIo","reobserveFrame","resizeObserver","firstEntry","_resizeObserver","frameId","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","shift$1","flip$1","size$1","hide$1","arrow$1","mergedOptions","platformWithCache","computePosition$1","createDOMRect","anchorRect","DOMRect","toJSON","getAnchorElement","anchor","getAnchorRect","contextElement","isValidPlacement","REVERSE_BASE_PLACEMENT","getTransformOrigin","readingDirection","basePlacement","reversePlacement","PopperRoot","gutter","slide","overlap","sameWidth","fitViewport","hideWhenDetached","detachedPadding","arrowPadding","overflowPadding","positionerRef","setPositionerRef","arrowRef","setArrowRef","setCurrentPlacement","anchorRef","updatePosition","floatingEl","arrowEl","arrowOffset","clientHeight","finalGutter","hasAlignment","referenceWidth","maxWidth","maxHeight","pos","onCurrentPlacementChange","visibility","referenceHidden","transform","arrowX","arrowY","cleanupAutoUpdate","ResizeObserver","positioner","content","queueMicrotask","zIndex","ListboxContext","useListboxContext","ListboxItemContext","useListboxItemContext","ListboxItem","listBoxContext","listState","isHighlighted","selectableItem","shouldFocusOnHover","ariaSelected","isNotSafariMacOS","ariaPosInSet","ariaSetSize","onPointerMove","registerLabelId","ListboxItemIndicator","ListboxRoot","optionValue","optionTextValue","optionDisabled","optionGroupChildren","selectableList","scrollToItem","Switch","Match","renderSection","renderItem","MenuContext","useOptionalMenuContext","useMenuContext","MenuRootContext","useMenuRootContext","isPointerInGraceArea","area","isPointInPolygon","clientX","clientY","Menu","rootContext","parentDomCollectionContext","parentMenuContext","pointerGraceTimeoutId","pointerGraceIntent","pointerDir","triggerId","setTriggerId","setContentRef","focusStrategy","setFocusStrategy","nestedMenus","setNestedMenus","recursively","focusContent","registerNestedMenu","isPointerMovingToSubmenu","onItemEnter","onItemLeave","onTriggerLeave","isModal","contentEl","setPointerDir","setPointerGraceTimeoutId","setPointerGraceIntent","intent","registerItemToParentDomCollection","registerTriggerId","MenuItemContext","useMenuItemContext","MenuItemBase","menuContext","labelRef","setLabelRef","closeOnSelect","textContent","onPointerLeave","repeat","ariaChecked","indeterminate","checked","isChecked","MenuContentBase","lastPointerX","isRootModalContent","onPointerEnter","pointerXHasChanged","bypassTopMostLayerCheck","MenuContent","MenuGroupContext","useMenuGroupContext","MenuGroup","MenuGroupLabel","MenuItem","MenuPortal","MenuRoot","MenuTrigger","DropdownMenuContent","DropdownMenuRoot","SelectContext","useSelectContext","SelectContent","SelectIcon","SelectLabel","SelectListbox","registerListboxId","Listbox","listboxAriaLabelledBy","SelectPortal","SelectBase","popperProps","formControlProps","valueId","setValueId","listboxId","setListboxId","listboxRef","setListboxRef","setListboxAriaLabelledBy","getOptionValue","flattenOptions","flatMap","flattenOptionKeys","getOptionsFromValues","selectedOptions","removeOptionFromSelection","focusListbox","listboxEl","itemComponent","section","sectionComponent","keysToKeep","isMultiple","placeholder","registerValueId","SelectRoot","multiple","SelectTrigger","formControlFieldProps","onBlur","SelectValue","isSelectionEmpty","_$ssrElement","SelectValueChild","selectedOption","TOAST_HOTKEY_PLACEHOLDER","TOAST_INTL_MESSAGES","notifications","ToastContext","useToastContext","ToastCloseButton","ToastDescription","ToastRegionContext","useToastRegionContext","ToastProgressFill","lifeTime","setLifeTime","totalElapsedTime","isPersistent","intervalId","setInterval","elapsedTime","Date","getTime","closeTimerStartTime","life","trunc","duration","clearInterval","ToastProgressTrack","ToastRoot","priority","isAnimationEnabled","setIsAnimationEnabled","presence","closeTimerId","closeTimerRemainingTime","deleteToast","startTimer","persistent","resumeTimer","onResume","pauseTimer","onPause","animation","swipeDirection","ToastTitle","TooltipContext","useTooltipContext","TooltipContent","hideTooltip","TooltipPortal","getTooltipSafeArea","anchorEl","floatingRect","polygon","anchorCenterX","anchorCenterY","tooltips","tooltipsCounter","globalWarmedUp","globalWarmUpTimeout","globalCoolDownTimeout","TooltipRoot","tooltipId","openDelay","closeDelay","closeTimeoutId","ensureTooltipEntry","closeOpenTooltips","hideTooltipId","immediate","showTooltip","warmupTooltip","openTooltip","cancelOpening","cancelClosing","isTargetOnTooltip","getPolygonSafeArea","triggerEl","onHoverOutside","ignoreSafeArea","getEventPoint","trigger","handleScroll","capture","triggerOnFocusOnly","TooltipTrigger","isPointerDown","isHovered","handlePointerUp","handleShow","handleHide","fetchJson","url","urlObj","URL","hasOwnProperty","searchParams","fetch","json","assertType","yieldToMain","Promise","resolve","getVideoId","extractVideoId","videoId","thumbnailUrl","thumbnail","exponentialBackoff","retries","minDelay","maxDelay","attempts","delay","pow","isMobile","maxTouchPoints","screen","orientation","formatRelativeShort","now","past","diffInSeconds","secondsInAMinute","secondsInAnHour","secondsInADay","secondsInAMonth","secondsInAYear","debounce","func","wait","later","Node$1","VideoQueue","head","tail","current","_length","videoIdSet","currentVideo","uniqueIds","videos","video","done","log","newNode","temp","enqueueNext","peekNext","peekPrev","setCurrentVideo","getTotalDuration","totalDuration","QueueContext","QueueProvider","queue","useQueue","PlaylistContext","PlaylistProvider","usePlaylist","minimumMutationOperations","oldArray","newArray","dirty","added","moved","deleted","newEnd","j","oldLength","newLength","newIndices","newIndicesNext","oldIndex","newIndex","LOG","path","pathText","pathStyles","flat","console","ERROR","UNEXPECTED","yjsOperations","executeYjsOperations","ydoc","transact","op","ymap","yparent","Y","yarray","insert","setYMapOrDoc","setYArray","deleteYValue","keyOrIndex","setYValue","Doc","getYValue","arg1","Queue","performance","execute","batch","setLeaf","leaf","setStore","q","observers","optimizeMutationOperations","ops","yArray","optimizedDeleted","createYjsBranch","optimizedAdded","svalue","setObserver","yvalue","solidToYjs","sparent","solidArrayToYjs","solidObjectToYjs","key2","value2","info","transaction","delta","retain","iterateObservers","keysChanged","keyToUpdate","yvalueToUpdate","reconcile","producers","setterTraps","proxy","isNaN","_setStore","nextValueTemplate","tree","nextArg","currentLayer","nextLayer","filtered","warn","nextSparent","nextYparent","produceToString","produce","properties","getArray","getMap","PROVIDER_REQUEST_TIMEOUT","SharedService","EventTarget","#serviceName","#clientId","#portProviderFunc","#clientChannel","BroadcastChannel","#onDeactivate","#onClose","AbortController","#providerPort","providerCallbacks","#providerCounter","#providerChangeCleanup","serviceName","portProviderFunc","#getClientId","#providerChange","sharedService","#closeProviderPort","signal","#createProxy","activate","lockName","locks","query","held","lock","request","mode","executeLockedSection","innerError","cleanupResources","port","providerId","broadcastChannel","listenForClientRequests","postMessage","reject","reason","requestedPort","getPortForClient","clientId","#sendPortToClient","ports","abort","deactivate","serviceWorker","ready","fetchClientId","response","contentType","headers","ok","text","MessageEvent","#acquireContextLock","providerCounter","providerPort","nonce","randomString","providerPortReady","abortController","race","f","method","finally","createSharedServicePort","port1","providerPort1","port2","providerPort2","MessageChannel","getOwnPropertyNames","random","fnv1aHash","hash","OFFSET_BASIS","byte","FNV_PRIME","OpfsPersistence","ObservableV2","room","debug","worker","Worker","whenSynced","origin","_storeUpdate","destroy","PREFERRED_TRIM_SIZE","_updateCount","DEBOUNCE_TIMEOUT","_destroyed","_storeTimeoutId","_sharedService","synced","_timerId","_getSessionId","sessionId","sessionStorage","updates","encodeStateAsUpdate","updatesSizeMB","byteLength","sendMessage","messageHandler","errorHandler","ErrorEvent","onerror","onmessage","activateCalled","sync","read","action","payload","roomName","write","res","timeEnd","applyUpdate","emit","off","terminate","initialStore","playlists","history","subscriptions","preferences","watchLater","blocklist","guid","createYjsStore","SyncContext","SyncedStoreProvider","setRoom","globalThis","localStorage","webrtcProvider","opfsProvider","initWebrtc","setAppState","ProviderStatus","WebrtcProvider","signaling","password","connect","awareness","setLocalStateField","users","states","user","updated","removed","connected","useAppState","useSyncStore","testLocalStorage","setStorageValue","storage","getStorageValue","defaultVal","urlValue","URLSearchParams","storageValue","autoplay","pip","muted","volume","speed","quality","theatreMode","loop","instance","api_url","cdn","last_checked","locations","version","registered","s3_enabled","up_to_date","image_proxy_url","PreferencesContext","PreferencesProvider","usePreferences","getAppearanceClasses","appearance","primary","subtle","link","danger","warning","navigate","useNavigate","KobalteButton","href","classList","icon","label","class","isLoading","LoadingDots","_tmpl$2","Modal","Dialog","title","FaSolidX","Select","KobalteSelect","FaSolidCheck","FaSolidSort","Select$1","PlaylistModal","createPlaylist","prompt","playlist","relatedStreams","uploader","description","bannerUrl","uploaderAvatar","uploaderUrl","nextpage","setList","_tmpl$4","_tmpl$3","_tmpl$5","order","uploaderName","views","uploaded","uploaderVerified","shortDescription","uploadedDate","isShort","timeAdded","success","VideoCardMenu","dropdownOpen","setDropdownOpen","modalOpen","setModalOpen","playlistModalOpen","setPlaylistModalOpen","appState","DropdownMenu","BsThreeDotsVertical","onTouchStart","FaSolidPlus","TbClockPlus","progress","currentTime","watchedAt","FaRegularEye","FaRegularEyeSlash","FaSolidShare","_tmpl$6","_tmpl$7","subscribedAt","_tmpl$8","FaSolidHeartCircleMinus","FaSolidHeartCirclePlus","_tmpl$9","FaSolidBan","_tmpl$10","FaSolidBug","_tmpl$11","Tooltip","timerId","setOpen","pointerDown","setPointerDown","KobalteTooltip","onMouseEnter","onMouseLeave","triggerSlot","contentSlot","VideoCard","layout","useSearchParams","watchedAtDate","setWatchedAt","createTimeAgo","interval","relativeFormatter","historyItem","ImageContainerFallback","ImageContainer","fullscreen","src","watched","Link","InfoContainerFallback","InfoContainer","live","VideoCard$1","setSrc","FaSolidEye","numeral","_tmpl$15","_tmpl$12","toUpperCase","_tmpl$13","_tmpl$14","toLocaleString","_tmpl$16","api","fetchVideo","api$1","Spinner","ToastComponent","Toast","FaSolidCircleCheck","FaSolidCircleXmark","loading","custom","jsx"],"mappings":"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M,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,KACA,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,GAAG,EAEP,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,KACA,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,GAAG,EAEP,GAAM,CACF,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,KACA,KACA,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,KACA,KACA,GAAG,EAEP,GAAM,CACF,IACA,IAAI,EAER,GAAM,CACF,IACA,IACA,KACA,IAAI,EAER,GAAM,CACF,IACA,KACA,IACA,IAAI,EAER,GAAM,CACF,IACA,GAAG,EAEP,QAAS,CACL,IACA,IACA,KACA,IAAI,EAER,SAAU,CACN,IACA,KACA,KACA,GAAG,EAEP,QAAS,CACL,IACA,IACA,IAAI,EAER,SAAU,CACN,IACA,KACA,IACA,IAA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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133]}