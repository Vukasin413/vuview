import{createComponent as s}from"solid-js/web";import{createContext as h,useContext as d,createSignal as m,createEffect as g}from"solid-js";import{createStore as P}from"solid-js/store";import{f as p}from"./routing.mjs";import{A as v}from"./components.mjs";const n=P({loading:!1,touchInProgress:!1,sync:{providers:{idb:"disconnected",webrtc:"disconnected",opfs:"disconnected"},syncing:!1,lastSync:0,userId:0,users:[]},player:{small:!1,dismissed:!1,lastVideoUrl:""}}),a=h(n),w=e=>s(a.Provider,{value:n,get children(){return e.children}}),C=()=>d(a);function I(e){const[c]=p(),[o,l]=m(e.href),[i,f]=C();return g(()=>{const r=c.fullscreen==="true";try{const t=new URL(`${window.location.origin}${e.href}`);r?t.searchParams.set("fullscreen","true"):t.searchParams.delete("fullscreen");const u=t.pathname;l(`${u}${t.search}${t.hash}`)}catch(t){console.error(t,e.href)}}),s(v,{onClick:r=>{i.touchInProgress&&(r.preventDefault(),r.stopPropagation(),setTimeout(()=>{f("touchInProgress",!1)},100))},get href(){return o()},get class(){return e.class},get style(){return e.style},get activeClass(){return e.activeClass},get inactiveClass(){return e.inactiveClass},get children(){return e.children}})}export{w as A,I as L,C as u};
//# sourceMappingURL=Link.mjs.map
